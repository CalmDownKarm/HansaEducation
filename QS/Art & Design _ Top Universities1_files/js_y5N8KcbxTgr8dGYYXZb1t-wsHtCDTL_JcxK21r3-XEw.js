(function($,Drupal,window,document,undefined){Drupal.behaviors.radix_dropdown={attach:function(context,setting){$('.dropdown').once('radix-dropdown',function(){var dropdown=this;function show(){if(!$(dropdown).hasClass('open')){$('>[data-toggle="dropdown"]',dropdown).trigger('click.bs.dropdown');}}
function hide(){if($(dropdown).hasClass('open')){$('>[data-toggle="dropdown"]',dropdown).trigger('click.bs.dropdown');}}
$(this).on('mouseenter.radix.dropdown',function(e){show();});$(this).on('mouseleave.radix.dropdown',function(){hide();});$(this).on('focusin.radix.dropdown',function(){show();});$('body').once('radix-dropdown').on('focusout.radix.dropdown',function(e){var parent=$(e.target).closest('li.radix-dropdown-processed.open').get(0);if(parent){setTimeout(function(){if(!document.activeElement||document.activeElement===document.body){return;}
if(!parent.contains(document.activeElement)&&$(parent).hasClass('open')){$(parent).trigger('click.bs.dropdown');}},0);}});$(this).on('keydown.radix.dropdown',function(e){if(e.keyCode==38||e.keyCode==40){return false;}
if(e.keyCode==32){$('>[data-toggle="dropdown"]',dropdown).trigger('click.bs.dropdown');return false;}
if(e.keyCode==27){$('>[data-toggle="dropdown"]',dropdown).focus();hide();return false;}});if($(this).has('> a.dropdown-toggle')){$(this).on('click.radix.dropdown',function(e){var $target=$(e.target);if($target.parent().get(0)==dropdown&&$target.is('a.dropdown-toggle')&&$target.attr('href')){e.preventDefault();window.location.href=$target.attr('href');}});}});}}
Drupal.behaviors.radix_tooltip={attach:function(context,setting){if($.fn.tooltip){$("[data-toggle='tooltip']").tooltip();}}}
Drupal.behaviors.radix_popover={attach:function(context,setting){if($.fn.popover){$("[data-toggle='popover']").popover();}}}
$(document).ready(function(){if($.fn.tab){var tabs=$('.nav-tabs').not('.primary');tabs.children('li').first().find('a').tab('show');if(hash=window.location.hash){$('.nav-tabs > li > a[href$="'+ hash+'"]').tab('show');}}});})(jQuery,Drupal,this,this.document);;(function($){Drupal.behaviors.radix_dropdown=false;Drupal.behaviors.topuni={attach:function(context){var wdth=$(window).width();$('html').addClass(navigator.platform);setTimeout(function(){if(googletag&&googletag.apiReady){if(typeof googletag.slot_manager_instance!=='undefined'){$.each(googletag.slot_manager_instance.l,function(i,val){if(val.ic){if(val.ic._height_=='600'){$('#'+ val.j.m).addClass('hpu-ad');}
if(val.ic._height_=='1'){$('#'+ val.j.m).hide();}}});}}},100);$('#views-exposed-form-publication-listing-block .views-exposed-form .bef-select-as-links a').click(function(){setTimeout(function(){googletag.pubads().refresh([googletag.slots.site_wide_728_x_90]);},550);});$('.pane-qa-forum-listing .form-type-bef-link a').click(function(event){setTimeout(function(){googletag.pubads().refresh([googletag.slots.site_wide_728_x_90_2]);$('#dfp-ad-site_wide_728_x_90_2').prepend('<div class="slug">Advertisement</div>');},1200);});$('.view-publication-listing .pager-load-more .pager-next a').on('click',function(){setTimeout(function(){p=$(".content-ad").detach();p.insertBefore($('.pub-content-box.even.1:last'));googletag.pubads().refresh([googletag.slots.site_wide_728_x_90]);$('#dfp-ad-site_wide_728_x_90').prepend('<div class="slug">Advertisement</div>');},1200);});$('body.logged-in').once('topuni',function(){if(Drupal.behaviors.topuni.readCookie('STYXKEY-scroll')!==null&&Drupal.behaviors.topuni.readCookie('STYXKEY-compare-selection')==null){$(window).scrollTop(Drupal.behaviors.topuni.readCookie('STYXKEY-scroll')- 90);Drupal.behaviors.topuni.createCookie('STYXKEY-scroll',null,1/86400);}});jcf.setOptions('Select',{wrapNative:false,wrapNativeOnMobile:false,maxVisibleItems:10,fakeDropInBody:false,useCustomScroll:true});jcf.replaceAll();jcf.destroy('.match input');var os=navigator.platform.split(' ');if(os[0]=='iPhone'||os[0]=='Linux'||os[0]=='iPad'){if(wdth<1100&&wdth>767){jcf.destroy('.page-node-register-full #edit-what-subjects');jcf.destroy('#qs-event-reg-form select');jcf.replace('.page-node-register #edit-country-code');}
if(wdth<768){jcf.destroy('.page-node-register select');jcf.replace('.page-node-register #edit-country-code');}}
if($('.alert-success .krumo-root').length){$('#messages').addClass('debug-msg');}else{if(Drupal.behaviors.topuni.readCookie('STYXKEY-firsttime_popup')!==null){$('.alert-success').fadeIn('slow').delay(10000).fadeOut('slow',function(){$(this).remove();});}else{$('.logged-in .alert-success').fadeOut();$('.ctools-modal-dialog-ftime button.close, #edit-submit-bot, #modalContent').click(function(event){$('.alert-success').delay(500).fadeIn('slow').delay(10000).fadeOut('slow',function(){$(this).remove();});Drupal.behaviors.topuni.createCookie('STYXKEY-firsttime_popup','viewed',365);});}}
$('body.logged-in.front .welcome-text-default').text('Welcome back to TopUniversities!');if(!Drupal.behaviors.topuni.readCookie('STYXKEY_first_visit')){$('body.front').addClass('big-header');$('.welcome-text-first').removeClass('hide');$('.welcome-text-default').addClass('hide');}else{$('body.front').addClass('small-header');}
$('.front_header').removeClass('hide');Drupal.behaviors.topuni.createCookie('STYXKEY_first_visit','yes',365);if($('.page-qs-stars-home').length>0){var country=rat='';$('.page-qs-stars-home #filter-country').change(function(e){country=$(this).val();updatelink();});$('.page-qs-stars-home #filter-rating').change(function(e){rat=$(this).val();updatelink();});function updatelink(){var href='/qs-stars#country='+ country+'+rating='+ rat;$('.page-qs-stars-home a.star-rating').attr('href',href);}}
var bgimg=$('.field-event-lead-image').text().trim(),bggimg=$('.field-guide-cover-image').text().trim();$('.section-events .lead_image.panel-panel, .sub-section .lead_image.panel-panel').css('background-image','url('+ bgimg+')');$('.node-type-guide .lead_image.panel-panel, .page-node-thank-you .lead_image.panel-panel').css('background-image','url('+ bggimg+')');$(".pane-taxonomy-term-field-tour-dates .world-tour-map a").each(function(i,e){var clas=$(this).attr('class');$(this).click(function(e){e.preventDefault();$('h3.'+ clas).trigger('click');});});var media_html=$('.qs-profile-2.media .view-media-gallery-profile').html();if(media_html==null){$('.qs-profile-2.media').addClass('no-media-slider');}
var post_html=$('.pane-master-profile-count-courses .view-display-id-block_5').html();if(post_html!=null&&post_html.trim()==''){$('.pane-master-profile-count-courses.post').remove();}
var under_html=$('.pane-master-profile-count-courses .view-display-id-block_4').html();if(under_html!=null&&under_html.trim()==''){$('.pane-master-profile-count-courses.under').remove();}
var under_c=$('.node-type-courses-undergrad .pane-course-list-undergrad #mini-panel-course_list_undergrad .panel-panel div').length;if(under_c==1){$('.node-type-courses-undergrad .site_contents .pane-course-list-undergrad').css('display','none');}
if($('.universities-search.page-universities').length==0){var last=null;$('#program-replace select[multiple="multiple"], #country-replace select[multiple="multiple"]').change(function(event){if($(this).val()){if($(this).val().length==4){$(this).val(last);alert('you can select up to 3 options');$('body > .jcf-select-drop').remove();jcf.refreshAll();}else{last=$(this).val();}}});}
$('.page-subject-rankings-2016 #subjects, .page-new-rankings #subjects').change(function(e){window.location=$(this).val();});var title=$('.page-rankings-compare .rank-dis').attr('data-original-title');$('.page-rankings-compare .hero .block .des').html('Use the table below to compare your choices of up to four universities that are featured in the <b>'+ title+'</b>');$('.page-rankings-compare #hero .title-meth').text('Compare');if(wdth<641){var set=$('.rank-dis').attr('data-original-title');$('.mobile-desc').html('Use the table below to compare two universities that are featured in the <b>'+ set+'</b>');$('#block-block-61 .forum-header .des').html('Got questions about studying abroad? <br>Get advice from students and experts now!');readLess($('.header-wur .detail-desc-with-image'),60);if($('body.collapsible-header',context)){$('.use-rankings-table .detail-desc').after().append('<div class="read_more-mob">Read more</div>');$('.use-rankings-table .options-list').addClass('hide');$('.read_more-mob').click(function(){$(this).remove();$('.use-rankings-table .options-list').removeClass('hide');});$('.use-rankings-table .cta-wur > a').text('See the full results now!');$('.previous-year-result .views-row-1 .rank-img img').attr('src','/sites/all/themes/topuni/assets/images/rankings/wur-year-result-2016-mb.png');$('.page-top-50-under-50 .previous-year-result .views-row-1 .rank-img img').attr('src','/sites/all/themes/topuni/assets/images/rankings/top50-year-result-2017-mb.jpg');}
$('.university-subject-rankings.2017 .pane-node-field-release-description .des-text').html($('.view-subject-rankings-collapsible-header .views-row-1').html());readLess($('.field-release-description p'),70);readLess($('.pane-node-field-release-description .des-text'),70);}
$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list').each(function(index){var h4=$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list:eq('+ index+') h4').text().toLowerCase().split(' ').join('-');$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list:eq('+ index+')').addClass(h4);});if($('body').is('.node-type-blog-post, .node-type-article, .page-comment-reply, .node-type-q-a-forum')){$('.pane-node-comment-form .comment-section .form-type-textarea textarea').val('');$('.indented').removeClass('no-border');if($('.comment-form').parent().closest('.indented').children('div.comment').length==0){$('.comment-form').parent().closest('.indented').addClass('no-border');}
if(wdth<768){$('.pane-node-comment-form .comment-section .form-type-textarea textarea').attr('placeholder','Add a comment');$('.pane-node-comment-form .comment-section .form-actions input[type="submit"].post').val('Post');}}
if($('#qs-social-save-form #ranking_compare_save input').hasClass('compare-saved')){$('#qs-social-save-form').addClass('compare-saved');$('#qs-social-save-form--2').addClass('compare-saved');$('#qs-social-save-form--2 input, #qs-social-save-form input').attr('disabled',true);}
$('body.page-rankings-compare .pane-qs-social-share-qs-social-share .article-save-flag form').click(function(){$('#qs-social-save-form input.form-submit').click();$('#qs-social-save-form--2 input, #qs-social-save-form input').attr('disabled',true);$('#qs-social-save-form--2 input').val('Saved');});$('body.page-rankings-compare .pane-qs-social-share-qs-social-share .article-save-flag form input').click(function(){$('#qs-social-save-form--2 input').val('Saved');});if(wdth<768){$('.field-home-bespoke-abstract p').dotdotdot({height:40,wrap:'letter'});$("#block-panels-mini-footer-mba-resources .panel-flexible-inside").accordion({header:".menu li.expanded .menu-title",heightStyle:"content",collapsible:true,active:false});readLess($('.pane-node-field-event-body .field-event-body'),85);$(".panel-pane.collaps").accordion({header:".pane-title",heightStyle:"content",collapsible:true,active:false});if($('body').is('.page-top-50-under-50')){var dfp_mob_mpu=$('.pane-dfp-site-wide-mobile-no-mpu').html();$('.pane-dfp-site-wide-mobile-no-mpu').remove();$('.pane-custom .dfp-ad').append(dfp_mob_mpu);}
$('body').on('click touchstart',function(e){$('[data-toggle="popover"]').each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&$('.popover').has(e.target).length===0){$(this).popover('hide');}});$('[data-toggle="tooltip"]').each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&$('.tooltip').has(e.target).length===0){$(this).tooltip('hide');}});});$('.front .pane-panels-mini .content-in').each(function(){$(this).find('.pane-fieldable-panels-pane').each(function(i){if(i>3){$(this).hide();}});$(this).find('.field-home-read-more a').text('More');$(this).find('.field-home-read-more').prepend('<span>Latest news / releases</span>');$(this).find('.colm-1 .top').append($(this).find('.field-home-read-more').clone());});}else{setTimeout(function(){$('.field-home-bespoke-abstract p').dotdotdot({height:60,wrap:'letter'});$('.home-content-footer .box-title a').dotdotdot({height:40,wrap:'letter'});$('.content-in .box-title a').dotdotdot({height:42,wrap:'letter'});},400);$('[data-toggle="popover"]').each(function(){$(this).hover(function(){$(this).popover('show');},function(){$(this).popover('hide');});});if($('body').is('.front')&&Drupal.behaviors.topuni.readCookie('home-search-bar')!=1){$('#header .nav-search').removeClass('hidden');$('.nav_search_btn').addClass('on');}
$('.page-qa-forum textarea[name="comment_body[und][0][value]"]').keyup(function(event){var h=$(this)[0].scrollHeight;$(this).height(h);});}
$('.node-type-article .pane-most-commented-articles .views-field-title a, .node-type-blog-post .pane-most-commented-articles .views-field-title a').dotdotdot({height:40,wrap:'letter'});$('.view-featured-schools-main .views-field-field-profile-overview').dotdotdot({height:70,wrap:'letter'});setTimeout(function(){$('.field-home-section-overview p').each(function(){readLess($(this),47);});},400);$('#edit-field-guide-category-tid-1').change(function(){$('#edit-submit-publication-listing').click();});$('.view-content .band').each(function(index,el){if(!$(this).find('.other').length){var cc=($(this).attr('data-reply')>0)?'<span class="other">plus '+ $(this).attr('data-reply')+' others</span>':'';$(this).append(cc);}
$(this).click(function(event){$(this).find('> .other').addClass('hide');$(this).removeClass('band');});});$('.comment-reply a:not(.non-auth)').each(function(index,el){var cid=$(this).attr('href').split('/')[4];$(this).click(function(event){$('.pane-qa-forum-listing .hd-ans form').remove();$('.ans-trig').removeClass('noev');$('.comments-row').removeClass('inform');$(this).parent().closest('.comments-row').addClass('inform');});if($('.band[data-cid="'+ cid+'"]').length){$(this).click(function(event){$('.band[data-cid="'+ cid+'"]').find('.band').removeClass('band');$('.band[data-cid="'+ cid+'"]').removeClass('band').find('.other').addClass('hide');});}});$('.comments-row, .comments-row .indented, .indented .comments-row, .indented .indented').each(function(index,el){if($(this).children().length<1){$(this).remove();}});$('.event-agenda-list .views-row').each(function(index,el){if($(this).children('.views-field').length<2){$(this).addClass('bg');}});$('.university-subject-rankings.2017 .image-text').text($('h1').text());$('.university-subject-rankings.2017 #subj-dd-wrap input').val($('h1').text());$("#subj-dd-wrap input").each(function(i,el){$(this).mSelectDBox({"list":[{"value":"","label":"<b>Broad subject area</b>"},{"value":"/arts-humanities","label":"Arts & Humanities"},{"value":"/engineering-technology","label":"Engineering & Technology"},{"value":"/life-sciences-medicine","label":"Life Sciences & Medicine"},{"value":"/natural-sciences","label":"Natural Sciences"},{"value":"/social-sciences-management","label":"Social Sciences"},{"value":"","label":"<b>Specific subject</b>"},{"value":"/accounting-finance","label":"Accounting & Finance"},{"value":"/agriculture-forestry","label":"Agriculture & Forestry"},{"value":"/anatomy-physiology","label":"Anatomy & Physiology"},{"value":"/anthropology","label":"Anthropology"},{"value":"/archaeology","label":"Archaeology"},{"value":"/architecture","label":"Architecture"},{"value":"/art-design","label":"Art & Design"},{"value":"/biological-sciences","label":"Biological Sciences"},{"value":"/business-management-studies","label":"Business & Management"},{"value":"/engineering-chemical","label":"Chemical Engineering"},{"value":"/chemistry","label":"Chemistry"},{"value":"/engineering-civil-structural","label":"CiviI & Structural Engineering"},{"value":"/communication-media-studies","label":"Communication & Media Studies"},{"value":"/computer-science-information-systems","label":"Computer Science"},{"value":"/dentistry","label":"Dentistry"},{"value":"/development-studies","label":"Development Studies"},{"value":"/earth-marine-sciences","label":"Earth & Marine Sciences"},{"value":"/economics-econometrics","label":"Economics & Econometrics"},{"value":"/education-training","label":"Education"},{"value":"/engineering-electrical-electronic","label":"Electrical & Electronic Engineering"},{"value":"/english-language-literature","label":"English Language & Literature"},{"value":"/environmental-studies","label":"Environmental Sciences"},{"value":"/geography","label":"Geography"},{"value":"/history","label":"History"},{"value":"/hospitality-leisure-management","label":"Hospitality & Leisure Management"},{"value":"/law-legal-studies","label":"Law"},{"value":"/linguistics","label":"Linguistics"},{"value":"/materials-sciences","label":"Materials Science"},{"value":"/mathematics","label":"Mathematics"},{"value":"/engineering-mechanical","label":"Mechanical, Aeronautical & Manufacturing Engineering"},{"value":"/medicine","label":"Medicine"},{"value":"/engineering-mineral-mining","label":"Mineral & Mining Engineering"},{"value":"/modern-languages","label":"Modern Languages"},{"value":"/nursing","label":"Nursing"},{"value":"/performing-arts","label":"Performing Arts"},{"value":"/pharmacy-pharmacology","label":"Pharmacy & Pharmacology"},{"value":"/philosophy","label":"Philosophy"},{"value":"/physics-astronomy","label":"Physics & Astronomy"},{"value":"/politics","label":"Politics & International Studies"},{"value":"/psychology","label":"Psychology"},{"value":"/social-policy-administration","label":"Social Policy & Administration"},{"value":"/sociology","label":"Sociology"},{"value":"/sports-related-subjects","label":"Sports-related Subjects"},{"value":"/statistics-operational-research","label":"Statistics"},{"value":"/theology-divinity-religious-studies","label":"Theology, Divinity & Religious Studies"},{"value":"/veterinary-science","label":"Veterinary Science"},],"multiple":false,"name":"s"+ i,"autoComplete":true,"language":"en","optionFilters":[Drupal.behaviors.topuni.customFilter],"onselect":function(msdbContext,event){var val=$('input[data-msdb-name="s'+ i+'"]').attr('data-msdb-value');if(val)window.location='/university-rankings/university-subject-rankings/2017'+ val;},"input:empty":function(msdbContext,event){$('input[data-msdb-name="s'+ i+'"]').val('');},"focus":function(msdbContext,event){$('input[data-msdb-name="s'+ i+'"]').val('').addClass('open');},"focusout":function(msdbContext,event){$('input[data-msdb-name="s'+ i+'"]').removeClass('open').data("clk",null);$('.university-subject-rankings.2017 input[data-msdb-name="s'+ i+'"]').val($('h1').text());},"onkeyup":function(msdbContext,event){delay(function(){var h=$('div[data-msdb-name="s'+ i+'"] .m-select-d-box__list-item.m-select-d-box__list-item_hidden').length,t=$('div[data-msdb-name="s'+ i+'"] .m-select-d-box__list-item').length;if((t-h)==0){$('.ranking-list').addClass('nobr');}else{$('.ranking-list').removeClass('nobr');}},601);},});$('.m-select-d-box.m-select-d-box_hidden[data-msdb-name="s'+ i+'"]').appendTo($(this).parents().closest('#subj-dd-wrap'));$('#subj-dd-wrap .m-select-d-box__list-container').mCustomScrollbar({scrollInertia:0});$('input[data-msdb-name="s'+ i+'"]').click(function(){var clk=$(this).data('clk');if(clk){$(this).removeClass('open').mSelectDBox().close();$('.university-subject-rankings.2017 input[data-msdb-name="s'+ i+'"]').val($('h1').text());}else{$(this).addClass('open');$('.university-subject-rankings.2017 input[data-msdb-name="s'+ i+'"]').val('');}
$(this).data("clk",!clk);});});var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();$('.page-node-334524 #block-block-22 .title-meth').text('Methodology');if($('body.collapsible-header').length&&$('#hero .region-hero div.block:nth-child(2)').length){$('#hero .region-hero div.block:nth-child(2)',context).after().append('<div class="read_more">Read more</div><div class="read_less hide">Read less</div>');var shgt=$('#hero-wrapper').innerHeight()- 220;$('#hero .region-hero div.block:nth-child(2) .content').addClass('collapse');$('.read_more',context).click(function(){$('.read_less, .read_more').toggleClass('hide');$('#hero .region-hero div.block:nth-child(2) .content').animate({height:'toggle'},{duration:300,queue:false,});$('#main-wrapper .sidebar').animate({marginTop:'-='+ shgt},{duration:300,queue:false,});});$('.read_less',context).click(function(){$('.read_less, .read_more').toggleClass('hide');$('#hero .region-hero div.block:nth-child(2) .content').animate({height:'toggle'},{duration:300,queue:false,});$('#main-wrapper .sidebar').animate({marginTop:'+='+ shgt},{duration:300,queue:false,});});}
if($('body.logged-in').is('.page-node-thank-you')){setTimeout(function(){$('.publication-download a')[0].click();},2000);}
$('.hp-vid').on('shown.bs.modal',function(){return onYouTubeIframeAPIReady();}).on('hidden.bs.modal',function(){$('.hp-vid .modal-body iframe').remove();return stopVideo();});$(window).on('scroll touchstart',function(){var y=$(this).scrollTop();if($('.pane-node-author').length>0){var botom_margin=$(".pane-node-author").offset().top- $(window).height();botom_margin=botom_margin+ 200;};if($('.blog-social-links').length>0){var top_margin=$(".blog-social-links").offset().top- 35;};if(y>top_margin&&y<botom_margin){$('.social-share-sticky').removeClass('hidden').fadeIn(1000);}else{$('.social-share-sticky').fadeOut(700);}
if(wdth<1100){if(y>56){if(!$('body').hasClass('f-nav')){$('body').addClass("f-nav");}}else{$('body').removeClass("f-nav");}}
if($('body').hasClass('adv-institution-yes')){if(y>1){$('body').addClass("sticky-tabs-active");}else{$('body').removeClass("sticky-tabs-active");}}
if($('body').hasClass('adv-institution-no')){if(y>1){$('body').addClass("sticky-tabs-active");}else{$('body').removeClass("sticky-tabs-active");}}
if($('body').hasClass('node-type-event')){if(y>340){$('body').addClass("sticky-tabs-active");}else{$('body').removeClass("sticky-tabs-active");}}});if($('body').is('.front')){Drupal.behaviors.topuni.createCookie('home-search-bar',1,365);}
if($('body').is('.front')||$('body').is('.page-taxonomy-term-3638')){$.getJSON('/user/cf-ip-hom',function(response){setTimeout(function(){var region=response.reg;wgst_counts=response.wgst_event;wut_counts=response.wut_event;if(region=='usa---canada'){region='usa-canada';}
var wg_post_lnk=$('body.page-taxonomy-term-3638 .field-content-boxes .item-0 .field-cta a').attr('href');if(wgst_counts>0){$('body.page-taxonomy-term-3638 .field-content-boxes .item-0 .field-cta a').attr('href',wg_post_lnk+'/'+ region);}
var wut_lnk=$('#mini-panel-home_page_events .colm-2 .box-title a').attr('href');if(wut_counts>0){$('#mini-panel-home_page_events .colm-2 .pane-content a').attr('href',wut_lnk+'/'+ region);}},1000);});}
if(!$('body').is('.logged-in, .panel-layout-qs_events, .section-events, .page-node-register')&&Drupal.behaviors.topuni.readCookie('cookie-agreed')==2&&Drupal.behaviors.topuni.readCookie('SIGNUP-promo')!='yes'){$('.signup-promo').removeClass('off');$('.signup-promo').addClass('on');}else{$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');}
$('.signup-promo a.signup-promo-btn').click(function(){$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');});$('.signup-promo button.no-thanks-btn').click(function(){$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');Drupal.behaviors.topuni.createCookie('SIGNUP-promo','yes',365);});var timer;$('#main-menu li.leaf').hover(function(){var $this=$(this);clearTimeout(timer);$('#main-menu li.leaf .menu-attach-block-wrapper').removeClass('stick');$this.find('.menu-attach-block-wrapper').addClass('stick');},function(){var $this=$(this);clearTimeout(timer);timer=setTimeout(function(){$this.find('.menu-attach-block-wrapper').removeClass('stick');},10000);});if($(".node-type-department-profile-postgrad .qs-profile-2.no-media-slider")&&$('.node-type-department-profile-postgrad .qs-profile-2.no-media-slider .panel-panel-inner').nextAll().length==0){$(".node-type-department-profile-postgrad .qs-profile-2.no-media-slider").hide();}
$(".sidebar .view-fast-facts-and-key-skills-list ul li:gt(4)").hide();$(".sidebar #see-more").on("click",function(){lastVisible=$(".sidebar .view-fast-facts-and-key-skills-list ul li:visible:last").index()+ 1;if(lastVisible>=$(".sidebar .view-fast-facts-and-key-skills-list ul li").length){lastVisible=0;}
$(".sidebar .view-fast-facts-and-key-skills-list ul li").hide();$toShow=$(".sidebar .view-fast-facts-and-key-skills-list ul li:hidden").slice(lastVisible,lastVisible+ 5);$toShow.show();});$(".main_contents .view-fast-facts-and-key-skills-list ul li:gt(4)").hide();$(".main_contents #see-more").on("click",function(){lastVisible=$(".main_contents .view-fast-facts-and-key-skills-list ul li:visible:last").index()+ 1;if(lastVisible>=$(".main_contents .view-fast-facts-and-key-skills-list ul li").length){lastVisible=0;}
$(".main_contents .view-fast-facts-and-key-skills-list ul li").hide();$toShow=$(".main_contents .view-fast-facts-and-key-skills-list ul li:hidden").slice(lastVisible,lastVisible+ 5);$toShow.show();});if($('#carousel-example-generic')){$('.field-campus-address').hide();$('.carousel-inner .item h3').each(function(index,element){$(this).click(function(){$('.field-campus-address').toggleClass('show');});});}
$("#profile_search").click(function(){$('#profile_search_dropdown').toggle();$(this).toggleClass('open');});$('html').click(function(){$('.social_login_btns').addClass('hidden');$('#login_form_dropdown').addClass('hidden');$('#reg-form-dropdown').addClass('hidden');$('.social_share').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('#uov').removeClass('bg-overlay ac');});$(".icons_nav").click(function(event){event.stopPropagation();});$(".nav_search_btn").click(function(){$(this).toggleClass('on');$('.nav-search').toggleClass('hidden');$('.social_login_btns, #login_form_dropdown, #reg-form-dropdown').addClass('hidden');$('.nav-search').removeClass('show');});$(".social_share").click(function(){$(this).toggleClass('on');$('.social_login_btns').toggleClass('hidden');$('.nav-search, #login_form_dropdown, #reg-form-dropdown').addClass('hidden');});$(".user_login_btn").click(function(){$(this).toggleClass('on');$('#login_form_dropdown').toggleClass('hidden');$('#login_form_dropdown').removeClass('hide');$('.nav-search, .social_login_btns, #reg-form-dropdown').addClass('hidden');if($(this).hasClass('on')&&$('#uov').hasClass('bg-overlay')){$('#uov').addClass('bg-overlay');}else{$('#uov').removeClass('bg-overlay');}});$('.comment-share .comment-reply a.non-auth').click(function(e){$('.alert').remove();$('.re-email').clearQueue().stop();$('.re-email').addClass('hidden');$(this).closest('.comment-share').find('.re-email').removeClass('hidden').fadeIn('slow').delay(10000).fadeOut('slow');return false;});$(".pane-node-comment-form .form-type-textarea textarea.non-auth, .ans-box.non-auth").click(function(){$('.alert').remove();$('.re-email').clearQueue().stop();$('.re-email').addClass('hidden');$('.pane-node-comment-form .re-email').removeClass('hidden').fadeIn('slow').delay(10000).fadeOut('slow');return false;});$(".re-email .close").click(function(){$('.re-email').clearQueue().stop();$(this).parent().addClass('hidden');return false;});$('.ans-box.auth').click(function(){$(this).hide();$('.comment-form.collapse').removeClass('collapse');});$('.cross').click(function(){$('.ans-box.auth').show();$('.comment-form').addClass('collapse');});$(".comment-section .form-textarea.not-logged-in, .reg_form_2 ").click(function(){$(".top_nav .reg_form_btn").toggleClass('on');$('#reg-form-dropdown').removeClass('hide');$('#reg-form-dropdown').toggleClass('hidden');$('.nav-search, .social_login_btns, #login_form_dropdown').addClass('hidden');return false;});$('.pane-newsletter-signup .views-field-field-newsletter-button a.reg_form_btn').click(function(){$('#edit-field-source input').attr('value','TOPUNI-newsletter');});if($('body').is('.page-qa-forum')){$('#user-register-form input.form-submit').on('click',function(){$('#edit-field-source input').attr('value','TOPUNI-forum');});}
if($('body').is('.node-type-ranking-set-release')){$('#rankings-compare-popup .compare-btns a.compare-btn').on('click',function(){$('#edit-field-source input').attr('value','TOPUNI-rankingcompare');});}
if($('body').is('.page-student-info-qs-guides')){$('.view-publication-listing .pub-content-box .pub-register a.reg_form_btn').on('click',function(){var source=this.lastElementChild.innerText;if(source.length>0){$('#edit-field-source input').attr('value',source);}else{$('#edit-field-source input').attr('value','TOPUNI-guide');}});}
if($('body').is('.node-type-publications')){$('.pub-register a.reg_form_btn').on('click',function(){if($('.pane-node-field-source').length>0){var source=$('.pane-node-field-source .field-source').text().trim();source='-'+ source;$('#edit-field-source input').attr('value','TOPUNI-guide'+ source);}else{$('#edit-field-source input').attr('value','TOPUNI-guide');}});}
$(".reg_form_btn, .not-logged-in .menu-links a.question-sign, .not-logged-in .pane-node-comment-form .form-type-textarea textarea",context).click(function(){$('.reg_form_btn').toggleClass('on');$('.social_share').removeClass('on');$('.user_login_btn').removeClass('on');$('.nav_search_btn').removeClass('on');$('#reg-form-dropdown').removeClass('hide');$('#reg-form-dropdown').toggleClass('hidden')
$('#uov').toggleClass('bg-overlay');$('.nav-search, .social_login_btns, #login_form_dropdown').addClass('hidden');return false;});$(".reg_form_btn").click(function(){if($(this).hasClass('on')){$('#uov').addClass('bg-overlay');}else{$('#uov').removeClass('bg-overlay');}
return false;});$(".already-mem a").click(function(){$('.top_nav .user_login_btn').addClass('on');$('#login_form_dropdown').removeClass('hidden');$('#login_form_dropdown').removeClass('hide');$('.reg_form_btn').removeClass('on');$('#reg-form-dropdown').addClass('hidden');$('#uov').toggleClass('bg-overlay');return false;});$(".login-overlay a").click(function(){$('.top_nav .user_login_btn').addClass('on');$('.top_nav .reg_form_btn').removeClass('on');$('#reg-form-dropdown').addClass('hide');$('#login_form_dropdown').removeClass('hidden');$('#login_form_dropdown').removeClass('hide');});$(".join_now a").click(function(){$('.reg_form_btn').addClass('on');$('.top_nav .user_login_btn').removeClass('on');$('#reg-form-dropdown').removeClass('hidden');$('#reg-form-dropdown').removeClass('hide');$('#login_form_dropdown').addClass('hide');});$(".nav_search_btn").on('mouseover',function(){$('.social_login_btns, #login_form_dropdown, #reg-form-dropdown').addClass('hidden');$('.social_share').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('#header .nav-search').addClass('show');$('.nav_search_btn').addClass('on');});$("#header .nav-search").on('mouseleave',function(){$('#header .nav-search').removeClass('show');if($('#header .nav-search').hasClass('hidden')){$('.nav_search_btn').removeClass('on');}});$(".social_share").on('mouseover',function(){$('.nav-search, #login_form_dropdown, #reg-form-dropdown').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('.nav-search').removeClass('show');});$(".user_login_btn").on('mouseover',function(){$('.nav-search, .social_login_btns, #reg-form-dropdown').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.social_share').removeClass('on');$('.reg_form_btn').removeClass('on');$('.nav-search').removeClass('show');});$(".top_nav .reg_form_btn").on('mouseover',function(){$('.nav-search, #login_form_dropdown, .social_login_btns').addClass('hidden');$('.user_login_btn').removeClass('on');$('.nav_search_btn').removeClass('on');$('.social_share').removeClass('on');$('.nav-search').removeClass('show');});$(".nav-search").click(function(){$(this).removeClass('hidden');$('.nav_search_btn').addClass('on');});$("#login_form_dropdown").click(function(){$(this).removeClass('hidden');});$("#reg-form-dropdown").click(function(){$(this).removeClass('hidden');});$(".join_btns > .reg_form_btn").click(function(){$('.top_nav .reg_form_btn').addClass('on');});$('#main-menu li a').on('mouseover',function(){$('body').addClass('nav-search-hide');$('body').removeClass('nav-search-show');$('#header .nav-search, .social_login_btns, #login_form_dropdown, #reg-form-dropdown').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('.social_share').removeClass('on');$('.nav-search').removeClass('show');});marker_count=0;$(".leaflet-container .leaflet-marker-icon").each(function(index){if(marker_count%9==0){marker_count=0;}
$(this).attr('src','/sites/all/themes/topuni/assets/images/icon/marker-'+ marker_count+'.png');marker_count++;});windowHeight=$(window).innerHeight();$('#mm-mmenu_left').css('min-height',windowHeight);$('#mm-0').remove();$('#mm-1').addClass('mm-opened mm-current').removeClass('mm-hidden');$('.mmenu-mm-list-level-2 > .mm-subtitle').prepend('<div class="back-button"><a href="#mm-1">Back</a></div>');$('.mm-subtitle .mm-subclose ').attr('href','javascript:void(0)');$('#mm-1 .mm-subtitle > a.mm-subclose').remove();$('.user-logout-mob, .user-register-mob').appendTo('#mm-1 > .mm-subtitle');$('.studies-mob').appendTo('#mm-mmenu_left');$('.navbar-header > a').on('click',function(){$('html').toggleClass('mm-opened mm-front mm-basic mm-opening');});$('.navmenu-fixed-left .mobile-tablet').removeClass('invisible');if($('#form-rep form').length){tinymce.on('AddEditor',function(e){e.editor.on('focus',function(){$('#form-rep').addClass('in');});e.editor.on('blur',function(){$('#form-rep').removeClass('in');});e.editor.on('KeyUp',function(){if(tinymce.activeEditor.getContent().length){if($('#form-rep input[value="Answer"]').prop('disabled')){$('#form-rep input[value="Answer"]').removeAttr('disabled');}}else{if(!$('#form-rep input[value="Answer"]').prop('disabled')){$('#form-rep input[value="Answer"]').prop('disabled','disabled');}}});});}
if($('#edit-description').length){tinymce.on('AddEditor',function(e){e.editor.on('focus',function(){$('#edit-description').addClass('in');});e.editor.on('blur',function(){$('#edit-description').removeClass('in');});});}
$('.voting .animat').each(function(){$(this).click(function(event){var af=$(this);af.find('a').trigger('focus');setTimeout(function(){af.find('a').trigger('click');},1500);});});$('.like .animat').each(function(){$(this).click(function(event){var af=$(this);af.find('i').addClass('likeup');setTimeout(function(){af.find('a').trigger('click');},1500);});});$('.comment-link').each(function(index,el){var a=$(this);a.find('.ans-trig').click(function(event){$('.pane-qa-forum-listing .hd-ans form, form.ajax-comments-form-reply').remove();$('.ans-trig').removeClass('noev');$(this).addClass('noev');a.find('.hd-ans a').trigger('click');a.removeClass('no-comment');return false;});});$('#'+ Drupal.settings.autofocus+' textarea').trigger('focus');setTimeout(function(){if(window.location.hash&&$('.not-logged-in.page-node-register').length>0){var hash=window.location.hash.split('#')[1];switch(hash){case'login':$('a[aria-controls="ulogin"]').tab('show');break;}}},1);$('.why-attend').click(function(){$('html, body').animate({scrollTop:$('.pane-node-field-why-attend h4.pane-title').offset().top- 100},500);});$('.event-agenda').click(function(){$('html, body').animate({scrollTop:$('.pane-event-agenda h4.pane-title').offset().top- 100},500);});$('.event-faqs').click(function(){$('html, body').animate({scrollTop:$('.pane-node-field-contact-admissions-faq h4.pane-title').offset().top- 100},500);});var event_prompt=$('.event-prompt .pane-content').html();if(event_prompt){$('.event-prompt').remove();$('#header').after(event_prompt);switch(window.location.pathname.split('/')[2]){case'qs-world-university-tour':$('.event-full-prompt .col-2 div span').text('Answer 3 additional questions to');break;case'qs-world-grad-school-tour':$('.event-full-prompt .col-2 div span').text('Answer 6 additional questions to');break;case'qs-connect-masters-fame':case'qs-connect-masters-law':case'qs-connect-masters-stem':$('.event-full-prompt .col-2 div span').text('Answer 5 additional questions to');break;}}
if($('.media-partner-logos .view-content').length>-1){var items=$('.media-partner-logos .view-content .views-row').length;if(wdth>767){if(items>7){$('.media-partner-logos .view-content').addClass('owl-carousel');var owl=$('.owl-carousel');owl.owlCarousel({loop:true,margin:17,nav:true,autoplay:true,autoplayTimeout:3000,autoWidth:true,responsive:{767:{items:7},1100:{items:7}}});}else{$('.media-partner-logos .view-content').addClass('all-shown');}}else{var divs=$(".media-partner-logos .views-row");for(var i=0;i<divs.length;i+=3){divs.slice(i,i+ 3).wrapAll("<div class='mp-mb'></div>");}
if(items>6){$('.media-partner-logos .view-content').addClass('owl-carousel');var owl=$('.owl-carousel');owl.owlCarousel({loop:true,margin:17,nav:true,autoplay:true,autoplayTimeout:3000,autoWidth:true,responsive:{0:{items:2}}});}else{$('.media-partner-logos .view-content').addClass('all-shown');}}}
if($('body').is('.node-type-event')){var event_tour=$('.pane-node-field-event-tour .pane-content').html();$('.sticky-tabs .event-tour').html(event_tour);var event_logo=$('.view-tour-logo .view-content .views-row').html();$('.sticky-tabs .event-logo').html(event_logo);var event_city=$('.pane-event-city-logo .pane-content').html();$('.sticky-tabs .event-city-img').html(event_city);var event_title=$('.pane-node-title .pane-content').html();$('.sticky-tabs .event-title').html(event_title);var event_dtime=$('.pane-node-field-event-date .pane-content').html();$('.sticky-tabs .event-dt-time').html(event_dtime);var event_loc=$('.view-event-listing-home .view-content').html();$('.sticky-tabs .event-loc').html(event_loc);var event_reg=$('.pane-node-field-external-register-url .pane-content').html();$('.sticky-tabs .event-ct-btn').html(event_reg);$('.sticky-tabs .event-ct-btn a').text($('body.node-type-event .field-event-custom-reg-label').text());}
if($('body').is('.node-type-event')||$('body').is('.node-type-regional-landing')){$('#galleria-src').owlCarousel({margin:10,nav:true,autoplay:false,video:true,autoWidth:true,dots:false,responsive:{0:{items:2},767:{items:7},11:{items:7}}});$("a[rel^='prettyPhoto']").prettyPhoto({iframe_markup:'<iframe src ="{path}&amp;wmode=transparent&amp;showinfo=0" width="{width}" height="{height}" frameborder="no"></iframe>',gallery_markup:'',social_tools:false,allow_resize:false,default_width:728,default_height:410,deeplinking:false,overlay_gallery:false,});}
$('input[type="text"]').each(function(index,el){if($(this).val()){$(this).addClass('y');}else{$(this).removeClass('y');}
$(this).keyup(function(event){if($(this).val()){$(this).addClass('y');}else{$(this).removeClass('y');}});});$('#edit-field-erg-1 input, #edit-erg1 input').change(function(){if($(this).val()=='0'){$('[name="field_erg_2[und]"], [name="erg2"]').prop('checked',false);}
jcf.refresh('[name="field_erg_2[und]"]');jcf.refresh('[name="erg2"]');});if($('#qs-event-reg-form-full').length){if($('.form-item-hear-about-qs .jcf-select-text').text()!='Where did you hear about QS?'){$('.form-item-hear-about-qs').addClass('selected');$('.event-partners .form-type-select:visible').addClass('selected');}}},customFilter:function(inputString,optionString){var pattern=new RegExp("^"+ inputString.trim(),"ig");optionString=String(optionString);return Boolean(optionString.match(pattern));},createCookie:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+ date.toGMTString();}else var expires="";document.cookie=name+"="+ value+ expires+"; path=/";},readCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;},reg:function(){setTimeout(function(){$('.top_nav .reg_form_btn').trigger('click');},100);return false;},};function getParameterByName(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+ name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}
function readLess(target,h){var $dot5=$(target);$dot5.append(' <a class="toggle more_link" href="#"><span class="open"> Read more</span><span class="less"> Read less</span></a>');function createDots(){$dot5.dotdotdot({after:'a.toggle',height:h,wrap:'letter'});}
function destroyDots(){$dot5.trigger('destroy');}
createDots();$dot5.on('click','a.toggle',function(){$dot5.toggleClass('opened');if($dot5.hasClass('opened')){destroyDots();}else{createDots();}
return false;});}
var pid=getParameterByName('partnerid');if(pid&&pid.length>0){Drupal.behaviors.topuni.createCookie('STYXKEY-pid',pid,1/24);}
var div_id;function onYouTubeIframeAPIReady(){var div_src=$('.hp-vid.in').attr('data-src');vid_id=div_src.replace('https://www.youtube.com/embed/','');div_id=$('.hp-vid.in .modal-body').children().attr('id');div_id=new YT.Player(div_id,{videoId:vid_id,playerVars:{'autoplay':1,'enablejsapi':1},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});$('.hp-vid.in .modal-body').prepend('<div id="'+ div_id.a.id+'"></div>');}
function onPlayerReady(event){event.target.playVideo();}
var done=false;function onPlayerStateChange(event){if(event.data==YT.PlayerState.PLAYING&&!done){done=false;}else{done=true;}}
function stopVideo(){div_id.stopVideo();div_id.clearVideo();}
$(window).load(function(){var wdth=$(window).width();if(wdth>1100){if($('.node-type-ranking-set-release').length){if($('.sidebar').innerHeight()>$('.main_contents').innerHeight()){$('.main_contents').css('min-height',$('.sidebar').innerHeight());}}
$(".node-type-ranking-set-release .pane-dfp-site-wide-desktop-mpu-2, .sticky-block").stick_in_parent({offset_top:110,parent:'#main-wrapper',spacer:false,});}
if(wdth>1100){var os=95;if($('#navbar-administration').length){os=110;}
$(".page-search-site #solr-search-panel .col-md-4.panel-first").stick_in_parent({offset_top:os,parent:'#main-wrapper'});}
if(wdth>767&&wdth<1100){if($('#solr-search-panel .col-md-4.panel-second').innerHeight()>$('#solr-search-panel .col-md-4.panel-first').innerHeight()){$('.page-search-site #solr-search-panel .col-md-4.panel-first').height($('.col-md-4.panel-second').innerHeight());var os=95;if($('#navbar-administration').length){os=110;}
$(".page-search-site #solr-search-panel .col-md-4.panel-first .panel-panel-inner").stick_in_parent({offset_top:os,parent:'.col-md-4.panel-first'});}}
if(wdth<1100){$(".pane-event-participating-schools-regional-list .view-content:eq(1)").accordion({header:".views-field-field-location",heightStyle:"content",collapsible:true,active:false});}
if(window.location.hash!=''){var str=window.location.hash;if(str.indexOf('comment')>0){$('.indented .indented .indented li.comment-reply').remove();var id=window.location.hash;$(id).parents('.indented').removeClass('band').find('.other').addClass('hide');$(id).next('div.comment').find('.comment-reply a').click();}}
$.getJSON('/user/ru-ip',function(response){switch(response){case'RU':case'UA':case'KZ':$('li.vki, li.gpi').toggleClass('hide');break;}});$('.social-logins a').on('click mouseenter',function(){var dest=window.location.pathname;if(dest){Drupal.behaviors.topuni.createCookie('STYXKEY-destination',dest,0.0069);}});if(window.location.pathname=='/social-connect/password-update'&&$('form#pwd-update-form').length>0){$('#pwd-update-form input#edit-fb-conn').on('keyup',function(){if($(this).val().length>0){$(this).addClass('y');}});}
if(Drupal.settings.googleanalytics){if(($('body.not-logged-in .event-registration').length>0)){ga('send','pageview',window.location.pathname+ window.location.hash);}
$('body.not-logged-in .pane-qs-event-reg-new-1 .nav-tabs li:eq(0)').click(function(){ga('send','pageview',window.location.pathname+'#register');});$('body.not-logged-in .pane-qs-event-reg-new-1 .nav-tabs li:eq(1)').click(function(){ga('send','pageview',window.location.pathname+'#login');});}
$(".event-full-prompt").slideDown({duration:1000});$('.later-reg a').click(function(){$(".event-full-prompt").slideUp({duration:1000});return false;});});if(document.URL.indexOf("/search/site/")!=-1){if(window.history&&window.history.pushState){$(window).on('popstate',function(){var hashLocation=location.hash;var hashSplit=hashLocation.split("#!/");var hashName=hashSplit[1];if(hashName!==''){var hash=window.location.hash;if(hash===''){var referrer=document.referrer;window.location=referrer;return false;}}});window.history.pushState('forward',null,'#f');}}
Drupal.behaviors.ctools_backdrop_close={attach:function(context,settings){$('#modalContent').once('ctools_backdrop_close',function(){$('div.popups-container, div.pane-qs-reg-pane, div.ctools-modal-dialog').click(function(e){e.stopPropagation();});$('#modalContent').click(function(e){Drupal.CTools.Modal.dismiss();});});}}})(jQuery);;!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(e){"use strict";var t="1.2.3",s=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,o=/Windows Phone/.test(navigator.userAgent);i.isMobileDevice=!(!n&&!o);var l=function(){var t=e("<style>").appendTo("head"),s=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,i){i=i||0,s.insertRule?s.insertRule(e+"{"+t+"}",i):s.addRule(e,t,i)};n("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+i.rtlClass+" ."+i.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),l=e("body");("rtl"===o.css("direction")||"rtl"===l.css("direction"))&&o.addClass(i.rtlClass),o.on("reset",function(){setTimeout(function(){a.refreshAll()},0)}),i.styleSheetCreated=!0};!function(){var t,s=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={},o="jcf-";t=s?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},e.each(t,function(t,s){e.each(s.split(" "),function(e,s){n[s]=t})}),e.each(t,function(t,s){s=s.split(" "),e.event.special[o+t]={setup:function(){var t=this;e.each(s,function(e,s){t.addEventListener?t.addEventListener(s,a,!1):t["on"+s]=a})},teardown:function(){var t=this;e.each(s,function(e,s){t.addEventListener?t.removeEventListener(s,a,!1):t["on"+s]=null})}}});var l=null,r=function(e){var t=Math.abs(e.pageX-l.x),s=Math.abs(e.pageY-l.y),i=25;return i>=t&&i>=s?!0:void 0},a=function(t){var s=t||window.event,i=null,a=n[s.type];if(t=e.event.fix(s),t.type=o+a,s.pointerType)switch(s.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=s.pointerType}else t.pointerType=s.type.substr(0,5);return t.pageX||t.pageY||(i=s.changedTouches?s.changedTouches[0]:s,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===s.type&&(l={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&l&&r(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),s="jcf-mousewheel";e.event.special[s]={setup:function(){var s=this;e.each(t,function(e,t){s.addEventListener?s.addEventListener(t,i,!1):s["on"+t]=i})},teardown:function(){var s=this;e.each(t,function(e,t){s.addEventListener?s.removeEventListener(t,i,!1):s["on"+t]=null})}};var i=function(t){var i=t||window.event;if(t=e.event.fix(i),t.type=s,"detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){var n=16;t.delta*=n,t.deltaY*=n,t.deltaX*=n}return(e.event.dispatch||e.event.handle).call(this,t)}}();var r={fireNativeEvent:function(t,s){e(t).each(function(){var e,t=this;t.dispatchEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(s,!0,!0),t.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.target=t,t.fireEvent("on"+s,e))})},bindHandlers:function(){var t=this;e.each(t,function(s,i){0===s.indexOf("on")&&e.isFunction(i)&&(t[s]=function(){return i.apply(t,arguments)})})}},a={version:t,modules:{},getOptions:function(){return e.extend({},i)},setOptions:function(t,s){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,s):e.extend(i,t)},addModule:function(t){e.isFunction(t)&&(t=t(e,window));var n=function(t){t.element.data(i.dataKey)||t.element.data(i.dataKey,this),s.push(this),this.options=e.extend({},i,this.options,o(t.element),t),this.bindHandlers(),this.init.apply(this,arguments)},o=function(t){var s=t.data(i.optionsKey),n=t.attr(i.optionsKey);if(s)return s;if(n)try{return e.parseJSON(n)}catch(o){}};n.prototype=t,e.extend(t,r),t.plugins&&e.each(t.plugins,function(t,s){e.extend(s.prototype,r)});var l=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=s.length-1;e>=0;e--)if(s[e]===this){s.splice(e,1);break}l&&l.apply(this,arguments)},this.modules[t.name]=n},getInstance:function(t){return e(t).data(i.dataKey)},replace:function(t,s,n){var o,r=this;return i.styleSheetCreated||l(),e(t).each(function(){var t,l=e(this);o=l.data(i.dataKey),o?o.refresh():(s||e.each(r.modules,function(e,t){return t.prototype.matchElement.call(t.prototype,l)?(s=e,!1):void 0}),s&&(t=e.extend({element:l},n),o=new r.modules[s](t)))}),o},refresh:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})},destroy:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.destroy()})},replaceAll:function(t){var s=this;e.each(this.modules,function(i,n){e(n.prototype.selector,t).each(function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,i)})})},refreshAll:function(t){if(t)e.each(this.modules,function(s,n){e(n.prototype.selector,t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})});else for(var n=s.length-1;n>=0;n--)s[n].refresh()},destroyAll:function(t){if(t)e.each(this.modules,function(s,n){e(n.prototype.selector,t).each(function(t,s){var n=e(s).data(i.dataKey);n&&n.destroy()})});else for(;s.length;)s[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=a),a}),function(e){e.addModule(function(e,t){"use strict";function s(t){this.options=e.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},t),this.init()}var i={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:s},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=e(document),this.win=e(t),this.realElement=e(this.options.element),this.scrollWrapper=e(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var e=this;this.vBar=new s({holder:this.scrollWrapper,vertical:!0,onScroll:function(t){e.realElement.scrollTop(t)}}),this.hBar=new s({holder:this.scrollWrapper,vertical:!1,onScroll:function(t){e.realElement.scrollLeft(t)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){e(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){var t,s,i=this.verticalScrollActive,n=this.horizontalScrollActive;"touch"===e.pointerType&&(t=this.touchData.scrollTop-e.pageY+this.touchData.top,s=this.touchData.scrollLeft-e.pageX+this.touchData.left,this.verticalScrollActive&&(0>t||t>this.vBar.maxValue)&&(i=!1),this.horizontalScrollActive&&(0>s||s>this.hBar.maxValue)&&(n=!1),this.realElement.scrollTop(t),this.realElement.scrollLeft(s),i||n?e.preventDefault():this.onReleaseBody(e))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,s,i,n=this.realElement.scrollTop(),o=this.realElement.scrollLeft(),l=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,r=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&e.deltaY&&(0>=n&&e.deltaY<0||n>=l&&e.deltaY>0||(i=!0)),this.horizontalScrollActive&&e.deltaX&&(0>=o&&e.deltaX<0||o>=r&&e.deltaX>0||(i=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(i||this.options.alwaysPreventMouseWheel)&&(e.preventDefault(),t=e.deltaX/100*this.options.mouseWheelStep,s=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(n+s),this.realElement.scrollLeft(o+t))},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,s,i;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),i=parseFloat(t.width),s=parseFloat(t.height),this.embeddedDimensions&&i&&s&&(this.isModifiedStyles|=i!==this.embeddedDimensions.width||s!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(t){var s,i=this.vBar.getThickness(),n=this.hBar.getThickness(),o=this.realElement.outerWidth()-this.realElement.width(),l=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,s={innerWidth:t.width-i,innerHeight:t.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-o,height:t.height-l}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),s={innerWidth:t.width-(this.verticalScrollActive?i:0),innerHeight:t.height-(this.horizontalScrollActive?n:0)}),e.extend(s,{width:s.innerWidth-o,height:s.innerHeight-l}),s},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var e,t;this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,t=this.realElement.prop("scrollWidth"),t===e&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var s="";this.verticalScrollActive&&this.horizontalScrollActive?s="none":this.verticalScrollActive?s="pan-x":this.horizontalScrollActive&&(s="pan-y"),this.realElement.css("touchAction",s)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};return e.extend(s.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=e(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=e(this.options.holder),this.scrollbar=e(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t,s;"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive||(this.slider.is(e.currentTarget)?(t=this.handle.offset()[this.offsetProperty]>e[this.offsetEventProperty]?-1:1,s=e[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(t,s)):(t=this.btnDec.is(e.currentTarget)?-1:1,this.startSmoothScrolling(t)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(e,t){var s=this,i=e*s.currentSize,n=function(){var i=s.value/s.maxValue*(s.currentSliderSize-s.handleSize);return e>0?i+s.handleSize>=t:t>=i},o=function(){s.value+=i,s.setValue(s.value),s.triggerScrollEvent(s.value),n()&&clearInterval(s.pageScrollTimer)};this.pageScrollTimer=setInterval(o,this.options.scrollInterval),o()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(e){var s,i=this;this.stopSmoothScrolling();var n=t.requestAnimationFrame||function(e){setTimeout(e,16)},o=function(){return Date.now?Date.now():(new Date).getTime()},l=function(){return e>0?i.value>=i.maxValue:i.value<=0},r=function(){var t=(o()-s)/1e3*i.options.scrollStep;i.smoothScrollActive&&(i.value+=t*e,i.setValue(i.value),i.triggerScrollEvent(i.value),l()||(s=o(),n(r)))};i.smoothScrollActive=!0,s=o(),n(r)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),s=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-s,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),i})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refresh()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})}(jcf),function(e){e.addModule(function(t,s){"use strict";function i(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function o(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var l={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:o},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){var e=this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n;e?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(s),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),a(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){var s=!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length;s||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var s=t(e.target),i=s.closest(this.fakeElement).length||s.closest(this.dropdown).length;i||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),a(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new o({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,s,i=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),o=n.width||n.right-n.left,l=this.fakeElement.outerHeight(),r=this.dropdown.css("width",o).outerHeight(),a=this.win.scrollTop(),h=this.win.height(),c=!1;i.top+l+r>a+h&&i.top-r>a&&(c=!0),this.options.fakeDropInBody&&(s="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&c?(t=i.left,e=i.top-r-s):(t=i.left,e=i.top+l-s),this.dropdown.css({width:o,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&c)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,s=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[s],n=i?i.getAttribute("data-image"):null,o="",l=this;this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),function(e,t){t.selected&&(o+=(o?", ":"")+t.innerHTML)}),o||(o=l.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(o)):i?(this.currentSelectedText!==i.innerHTML||this.currentSelectedImage!==n)&&(e=r(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),
this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),a(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new o({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout(function(){e.refresh(),e.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(o.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var s,i=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[i].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[i].selected=!this.realOptions[i].selected:e.shiftKey?(s=[this.lastClickedIndex,i].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=s[0]&&e<=s[1]})):this.element.prop("selectedIndex",i):this.element.prop("selectedIndex",i),e.shiftKey||(this.lastClickedIndex=i),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var s=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var n=this.options.maxVisibleItems,o=this.element.prop("size");o>1&&!this.element.is("[jcf-size]")&&(n=o);var l=this.fakeOptions.length>n;return this.container.toggleClass(this.options.scrollClass,l),l&&(this.listHolder.css({maxHeight:this.getOverflowHeight(n),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?void e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(0>=t&&e.deltaY<0||t>=i&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var e,t=this,s=this.element.prop("multiple"),i=this.element.prop("selectedIndex");s?this.realOptions.each(function(e,s){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!s.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(i).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each(function(t,s){s.selected&&e.push(t)}),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),s=this,i=!1,n=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,function(e,t){!i&&s.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),n=t)}),this.previousSelection=this.currentSelection,n):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),s=this.listHolder.prop("scrollTop"),i=this.fakeOptions.eq(e),n=i.offset().top-this.list.offset().top,o=i.innerHeight();return n+o>=s+t?n-t+o:s>n?n:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),s=this.list.offset().top,i=t.offset().top,n=t.innerHeight();return i+n-s},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var s,i=e.getAttribute("data-image");return i&&(s=document.createElement("img"),s.src=i,t.insertBefore(s,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+r(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,s,i=document.createElement("span"),n=e.getAttribute("label");return t=document.createElement("span"),t.className=this.options.captionClass,t.innerHTML=n,i.appendChild(t),e.children.length&&(s=this.createOptionsList(e),i.appendChild(s)),i.className=this.options.groupClass,i},createOptionContainer:function(){var e=document.createElement("li");return e},createOptionsList:function(e){var s=this,i=document.createElement("ul");return t.each(e.children,function(e,t){var n,o=s.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=s.createOption(t);break;case"optgroup":n=s.createOptGroup(t)}i.appendChild(o).appendChild(n)}),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var r=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},a=function(){function t(e){e.preventDefault()}var s=e.getOptions().unselectableClass;return function(e){e.addClass(s).on("selectstart",t)}}();return l})}(jcf),function(e){e.addModule(function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refreshRadioGroup()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each(function(){e.refresh(this)})},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}})}(jcf);;(function(){var b,f;b=this.jQuery||window.jQuery;f=b(window);b.fn.stick_in_parent=function(d){var A,w,J,n,B,K,p,q,k,E,t;null==d&&(d={});t=d.sticky_class;B=d.inner_scrolling;E=d.recalc_every;k=d.parent;q=d.offset_top;p=d.spacer;w=d.bottoming;null==q&&(q=0);null==k&&(k=void 0);null==B&&(B=!0);null==t&&(t="is_stuck");A=b(document);null==w&&(w=!0);J=function(a,d,n,C,F,u,r,G){var v,H,m,D,I,c,g,x,y,z,h,l;if(!a.data("sticky_kit")){a.data("sticky_kit",!0);I=A.height();g=a.parent();null!=k&&(g=g.closest(k));if(!g.length)throw"failed to find stick parent";v=m=!1;(h=null!=p?p&&a.closest(p):b("<div />"))&&h.css("position",a.css("position"));x=function(){var c,f,e;if(!G&&(I=A.height(),c=parseInt(g.css("border-top-width"),10),f=parseInt(g.css("padding-top"),10),d=parseInt(g.css("padding-bottom"),10),n=g.offset().top+c+f,C=g.height(),m&&(v=m=!1,null==p&&(a.insertAfter(h),h.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(t),e=!0),F=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-q,u=a.outerHeight(!0),r=a.css("float"),h&&h.css({width:a.outerWidth(!0),height:u,display:a.css("display"),"vertical-align":a.css("vertical-align"),"float":r}),e))return l()};x();if(u!==C)return D=void 0,c=q,z=E,l=function(){var b,l,e,k;if(!G&&(e=!1,null!=z&&(--z,0>=z&&(z=E,x(),e=!0)),e||A.height()===I||x(),e=f.scrollTop(),null!=D&&(l=e-D),D=e,m?(w&&(k=e+u+c>C+n,v&&!k&&(v=!1,a.css({position:"fixed",bottom:"",top:c}).trigger("sticky_kit:unbottom"))),e<F&&(m=!1,c=q,null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.detach()),b={position:"",width:"",top:""},a.css(b).removeClass(t).trigger("sticky_kit:unstick")),B&&(b=f.height(),u+q>b&&!v&&(c-=l,c=Math.max(b-u,c),c=Math.min(q,c),m&&a.css({top:c+"px"})))):e>F&&(m=!0,b={position:"fixed",top:c},b.width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(b).addClass(t),null==p&&(a.after(h),"left"!==r&&"right"!==r||h.append(a)),a.trigger("sticky_kit:stick")),m&&w&&(null==k&&(k=e+u+c>C+n),!v&&k)))return v=!0,"static"===g.css("position")&&g.css({position:"relative"}),a.css({position:"absolute",bottom:d,top:"auto"}).trigger("sticky_kit:bottom")},y=function(){x();return l()},H=function(){G=!0;f.off("touchmove",l);f.off("scroll",l);f.off("resize",y);b(document.body).off("sticky_kit:recalc",y);a.off("sticky_kit:detach",H);a.removeData("sticky_kit");a.css({position:"",bottom:"",top:"",width:""});g.position("position","");if(m)return null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.remove()),a.removeClass(t)},f.on("touchmove",l),f.on("scroll",l),f.on("resize",y),b(document.body).on("sticky_kit:recalc",y),a.on("sticky_kit:detach",H),setTimeout(l,0)}};n=0;for(K=this.length;n<K;n++)d=this[n],J(b(d));return this}}).call(this);;!function(t,e){"use strict";function n(t,e,n){var r=t.children(),a=!1;t.empty();for(var i=0,d=r.length;i<d;i++){var l=r.eq(i);if(t.append(l),n&&t.append(n),o(t,e)){l.remove(),a=!0;break}n&&n.detach()}return a}function r(e,n,i,d,l){var s=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var h=this,f=t(h);if("undefined"==typeof h)return!0;if(f.is(u))e.append(f);else{if(s)return!0;e.append(f),!l||f.is(d.after)||f.find(d.after).length||e[e.is(c)?"after":"append"](l),o(i,d)&&(s=3==h.nodeType?a(f,n,i,d,l):r(f,n,i,d,l)),s||l&&l.detach()}}),n.addClass("is-truncated"),s}function a(e,n,r,a,d){var c=e[0];if(!c)return!1;var h=s(c),f=h.indexOf(" ")!==-1?" ":"",p="letter"==a.wrap?"":f,g=h.split(p),v=-1,w=-1,m=0,b=g.length-1;if(a.fallbackToLetter&&0===m&&0===b&&(p="",g=h.split(p),b=g.length-1),a.maxLength)h=i(h.trim().substr(0,a.maxLength),a),l(c,h);else{for(;m<=b&&(0!==m||0!==b);){var y=Math.floor((m+b)/2);if(y==w)break;w=y,l(c,g.slice(0,w+1).join(p)+a.ellipsis),r.children().each(function(){t(this).toggle().toggle()}),o(r,a)?(b=w,a.fallbackToLetter&&0===m&&0===b&&(p="",g=g[0].split(p),v=-1,w=-1,m=0,b=g.length-1)):(v=w,m=w)}if(v==-1||1===g.length&&0===g[0].length){var x=e.parent();e.detach();var C=d&&d.closest(x).length?d.length:0;if(x.contents().length>C?c=u(x.contents().eq(-1-C),n):(c=u(x,n,!0),C||x.detach()),c&&(h=i(s(c),a),l(c,h),C&&d)){var T=d.parent();t(c).parent().append(d),t.trim(T.html())||T.remove()}}else h=i(g.slice(0,v+1).join(p),a),l(c,h)}return!0}function o(t,e){return t.innerHeight()>e.maxHeight||e.maxLength&&t.text().trim().length>e.maxLength}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function s(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var a,o=e&&e[0];if(o){if(!r){if(3===o.nodeType)return o;if(t.trim(e.text()))return u(e.contents().last(),n)}for(a=c(o);!a;){if(e=e.parent(),e.is(n)||!e.length)return!1;a=c(e[0])}if(a)return u(t(a),n)}return!1}function h(e,n){return!!e&&("string"==typeof e?(e=t(e,n),!!e.length&&e):!!e.jquery&&e)}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,a=n.length;r<a;r++){var o=parseInt(t.css(n[r]),10);isNaN(o)&&(o=0),e-=o}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0===this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var a=this,i=a.contents();a.data("dotdotdot")&&a.trigger("destroy.dot"),a.data("dotdotdot-style",a.attr("style")||""),a.css("word-wrap","break-word"),"nowrap"===a.css("white-space")&&a.css("white-space","normal"),a.bind_events=function(){return a.bind("update.dot",function(e,d){switch(a.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(a[0]);break;default:l.maxHeight=f(a)}l.maxHeight+=l.tolerance,"undefined"!=typeof d&&(("string"==typeof d||"nodeType"in d&&1===d.nodeType)&&(d=t("<div />").append(d).contents()),d instanceof t&&(i=d)),g=a.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(i.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return s.afterElement&&(c=s.afterElement.clone(!0),c.show(),s.afterElement.detach()),o(g,l)&&(u="children"==l.wrap?n(g,l,c):r(g,a,g,l,c)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(a[0],u,i),s.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],s.isTruncated),s.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],i),i}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),a.unwatch().unbind_events().contents().detach().end().append(i).attr("style",a.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),a},a.unbind_events=function(){return a.unbind(".dot"),a},a.watch=function(){if(a.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+s.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){a.trigger("update.dot")},100))})}else c=d(a),u=setInterval(function(){if(a.is(":visible")){var t=d(a);c.width==t.width&&c.height==t.height||(a.trigger("update.dot"),c=t)}},500);return a},a.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),a};var l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=h(l.after,a),s.isTruncated=!1,s.dotId=p++,a.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&a.watch(),a},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,maxLength:null},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var p=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):v.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(t){t(".dot-ellipsis").each(function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),r=0,a=t(this).attr("class").split(/\s+/);t.each(a,function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(r=Number(n[1]))});var o={};n&&(o.watch=!0),e&&(o.watch="window"),r>0&&(o.height=r),t(this).dotdotdot(o)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});;
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);;