function $(a){return"string"==typeof a?document.getElementById(a):a}function trackEventByGA(a,b){return"undefined"!=typeof pageTracker&&"undefined"!=typeof currentPageName&&null!=currentPageName&&pageTracker._trackEvent(currentPageName,a,b),!0}function trackEventByCategory(a,b,c){return"undefined"!=typeof pageTracker&&void 0!==a&&null!=a&&pageTracker._trackEvent(a,b,c),!0}function showLoginPage(){deleteSignupFormParamsCookie(),window.location.href="/login"}function showAbroadOverlay(a,b,c,d,e,f,g,h){if(globalVar_overlayHtmlContent=$j("#"+a).html(),$j("#"+a).html(""),globalVar_containerDivId=a,$j("#overlayContent").html(globalVar_overlayHtmlContent),$j("#overlayContainer").show(),void 0!==b&&$j("#overlayTitle").html(b),void 0!==g&&$j("input#tracking_page_key").val(g),void 0!==h&&$j("input#page_referrer").val(h),void 0===c&&""==c||("auto"==c?$j("#overlayContainer").css("width","auto"):$j("#overlayContainer").width(c+"px")),c=$j("#overlayContainer").width(),void 0===d&&""==d||("auto"==d?$j("#overlayContainer").css("height","auto"):$j("#overlayContainer").height(d+"px")),d=$j("#overlayContainer").height(),void 0!==e&&""!=e||(e=parseInt(screen.width)/2-c/2-10),$("overlayContainer").style.left=e+"px",void 0===f||""==f){f=parseInt($j(window).height()/2-d/2);f+=$j(document).scrollTop()}$("overlayContainer").style.top=f+"px",overlayHackLayerForIE("overlayContainer",document.getElementsByTagName("body")[0]),void 0!==$j("#iframe_div")&&($j("#iframe_div").css({backgroundColor:"#000",opacity:"0.4"}),$j("#iframe_div").attr("allowTransparency","true")),$j("#alsoViewedRecoTuples").length>0&&(setTimeout("$j('#alsoViewedReco').tinyscrollbar()",100),$j("#alsoViewedReco").find(".scrollbar").css("visibility","visible"),realignAbroadOverlay())}function realignAbroadOverlay(){var a=$j("#overlayContainer").width()/2,b=$j(window).width()/2,c=b-a;$j("#overlayContainer").css("left",c+"px");var d=$j("#overlayContainer").css("top"),e=$j(window).scrollTop();e>d.slice(0,d.length-2)&&(d=e+30),$j("#overlayContainer").css("top",d+"px")}function hideAbroadOverlay(a){if(a=void 0!==a&&a)window.location.reload();else{if(dissolveOverlayHackForIE(),""!=globalVar_overlayHtmlContent)$j("#"+globalVar_containerDivId).html(globalVar_overlayHtmlContent);else{var b=$j("#overlayContent").html();$j("#"+globalVar_containerDivId).html(b)}$j("#overlayContent").html(""),$j("#overlayContainer").hide(),"undefined"!=typeof overlayTitle&&$j("#overlayTitle").html("")}hideProgressLayer(),$j("#overlayContainer").removeClass("abroad-layer-tupple")}function overlayHackLayerForIE(a,b){var c=$("iframe_div");if(null!=c){var d=c.style;""!=c.getAttribute("container")&&c.getAttribute("container")!=a&&"none"!=d.display&&dissolveOverlayHackForIE(),c.getAttribute("container",a),c.container=a,d.display="block",d.width=b.offsetWidth+"px",d.height=$j(document).height()+"px",d.top=obtainPostitionY(b)+"px",d.left=obtainPostitionX(b)+"px","helpbubble"==a&&$j("#entBubbleTipIEHack-hrd")&&b.offsetWidth>200&&(d.width=b.offsetWidth-200+"px"),0!=$(a).style.zIndex||""!=$(a).style.zIndex?d.zIndex=parseInt($(a).style.zIndex)-1:d.zIndex=1e3,"locationlayerSA"==a&&(d.zIndex=0)}}function obtainPostitionY(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b}function obtainPostitionX(a){for(var b=0;a;)b+=a.offsetLeft,a=a.offsetParent;return b}function dissolveOverlayHackForIE(){if($("iframe_div")){try{$($("iframe_div").getAttribute("container"))&&($($("iframe_div").getAttribute("container")).style.display="none")}catch(a){}$("iframe_div").style.display="none"}}function setNoScroll(){window.scrollTo(0,h),window.onscroll=function(){}}function loadStudyAbroadForm(a,b,c,d){if("/responseAbroad/ResponseAbroad/getBrochureDownloadForm"==b)a=JSON.parse(base64_decode(a)),"course"==a.sourcePage&&1==isUserLoggedIn&&(window.onbeforeunload=function(){return"Your previous action is incomplete."}),"undefined"!=typeof rmcPageTitle&&(a.pageTitle=rmcPageTitle),registrationOverlayComponent.showOverlay(b,1200,455,a);else{if("consultantEnquiryFormContainer"==c){a=JSON.parse(base64_decode(a));var e="Contact this consultant for all admission related guidance"}else if("consultantEnquiryThankYouLayer"==c)var e="Thank You";var f="";$j.ajax({url:b,data:a,async:!1,type:"POST",success:function(a){f=a}}),$j("#main-wrapper").find("#"+c).remove(),$j("#main-wrapper").append(f),hideProgressLayer(),showAbroadOverlay(c,e,null,null,null,null,d,window.location.href)}$j("[id^='usr_first_name']").is(":visible")&&$j("#overlayContainer").css("top",parseInt($j("#overlayContainer").css("top"))+60+"px"),"downloadLinkContainer"==c&&($j("#overlayContainer").addClass("abroad-layer-tupple"),isUserLoggedIn?$j(".close-icon").click(function(){window.location.reload()}):$j(".close-icon").click(function(){var a=window.location.href.replace("?initiateBrochureDownload=1","");window.location.href=a})),$j(".close-icon").click(function(){if("undefined"!=typeof initiateBrochureDownload&&1==initiateBrochureDownload){var a=window.location.href.replace("?initiateBrochureDownload=1","");window.location.href=a}}),$j("#usr_last_name_"+a.widget).is(":disabled")&&$j("#usr_last_name_"+a.widget).val()==$j("#usr_last_name_"+a.widget).attr("default")&&$j("#usr_last_name_"+a.widget).attr("disabled",!1),$j("#usr_first_name_"+a.widget).is(":disabled")&&$j("#usr_first_name_"+a.widget).val()==$j("#usr_first_name_"+a.widget).attr("default")&&$j("#usr_first_name_"+a.widget).attr("disabled",!1),$j("#mobile_phone_"+a.widget).is(":disabled")&&$j("#mobile_phone_"+a.widget).val()==$j("#mobile_phone_"+a.widget).attr("default")&&$j("#mobile_phone_"+a.widget).attr("disabled",!1),$j("#contact_email_"+a.widget).is(":disabled")&&$j("#contact_email_"+a.widget).val()==$j("#contact_email_"+a.widget).attr("default")&&$j("#contact_email_"+a.widget).attr("disabled",!1),"consultantEnquiryFormContainer"==c?adjustCssForConsultantEnquiryLayer():($j("#overlayContainer").css("min-height",""),$j("#overlayContainer").css("width",""))}function adjustCssForConsultantEnquiryLayer(){$j("#overlayContainer").width("620px"),$j(".abroad-consult-msg").css("padding","10px"),$j("#overlayContainer").css("background-color","#f8f8f8 !important"),$j(".abroad-consult-reg").css("padding-left","10px"),$j("#overlayTitle").css({margin:"8px 0 0 10px"}),$j(".abroad-layer-content").css("background-color","#f8f8f8"),realignAbroadOverlay()}function keepCursorOnLeft(a){$j(a).val()==$j(a).attr("default")&&"function"==typeof a.hasOwnProperty&&setTimeout(function(){if(a.setSelectionRange)a.setSelectionRange(0,0);else if(a.createTextRange){var b=a.createTextRange();b.collapse(!0),b.moveEnd("character",0),b.moveStart("character",0),b.select()}},20)}function validateBrochureFormElement(a,b){var c,d=$j(a).attr("default"),e=$j(a).attr("validate"),f=$j(a).attr("caption"),g=$j(a).attr("maxLength"),h=$j(a).attr("minLength"),i=$j(a).val()==d?"":$j(a).val(),j="#"+$j(a).attr("id")+"_error";if(void 0!==arguments[2]&&1==arguments[2]&&"function"==typeof a.hasOwnProperty&&setTimeout(function(){if(a.setSelectionRange)a.setSelectionRange(0,0);else if(a.createTextRange){var b=a.createTextRange();b.collapse(!0),b.moveEnd("character",0),b.moveStart("character",0),b.select()}},20),"focus"==b)return $j(a).val()==d?$j(a).bind("keydown",function(){$j(this).val(""),$j(this).unbind("keydown")}):$j(a).unbind("keydown"),!0;switch(""==$j(a).val()&&$j(a).val(d),e){case"validateDisplayName":i=i.replace(/[(\n)\r\t\"\'\\]/g," "),i=i.replace(/[^\x20-\x7E]/g,""),c=validateDisplayName(i,f,g,h);break;case"validateSelect":c=validateSelect(i,f,g,h);break;case"validateSecurityCode":c=""!=$j(a).val()||"Please enter security code";break;case"validateEmail":c=validateEmail(i,f,g,h);break;case"validateMobileInteger":c=validateMobileInteger(i,f,g,h,!0);break;case"validateRadioGroup":j="#"+a.name+"_error",c=validateRadioGroup(a);break;case"validateConsultantTextarea":c=textareaOnBlur(a,1)}return 1!=c?$j(j).html(c).show():$j(j).html(c).hide(),c}function validateRadioGroup(a){return void 0!==$j("[name='"+a.name+"']:checked").val()&&""!=$j("[name='"+a.name+"']:checked").val()||"Please select "+$j(a).attr("caption")}function toggleExamScoreSection(a,b){var c=$j("[name='"+a.name+"']:checked").val();"yes"==c?($j("#passport_"+c+"_"+b).attr("checked","checked"),$j("#passport_section_"+b).hide(),$j("#exam_score_section_"+b).show()):($j(".passport_"+b).removeAttr("checked"),$j("#passport_section_"+b).show(),$j("#exam_score_section_"+b+" .examsAbroad_"+b).each(function(a,c){$j(c).removeAttr("checked"),toggleAbroadExamScoreField(c,b),a>=4&&$j(c).closest("li").hide()}),$j("#showMoreExams_"+b).show(),$j("#exam_score_section_"+b).hide()),$j("#examTakenDiv").css("border-bottom","0px"),$j("#examTaken_"+b+"_error").hide()}function showAllExamSections(a){$j(".examAbroadBlockRow").show(),$j(a).hide()}function checkIfUserExists(a){var b=a.val();if(b==a.attr("default"))return!0;var c,d={email:b,isStudyAbroadPage:1};return $j.ajax({async:!1,url:"/user/Userregistration/checkExistingEmail/"+b,type:"POST",success:function(a){"false"==a?c=!0:(hideAbroadOverlay(),loadStudyAbroadForm(d,"/registration/Forms/showLoginLayer","loginFormContainer"),engageDownloadBrochureWithLogin=1,c=!1)}}),c}function hidePassportErrorDiv(a){$j("#passport_"+a+"_error").hide()}function toggleAbroadExamScoreField(a,b){var c=$j(a).closest(".exam-name").next().attr("id");$j(a).attr("checked")||"checked"==$j(a).attr("checked")?($j("#"+c).removeAttr("disabled"),$j("#"+c).removeClass("disable-field")):($j("#"+c).attr("disabled","disabled"),$j("#"+c).addClass("disable-field"),$j("#"+c).val("Score")),$j("#"+c+"_error").hide()}function checkScoreNew(a,b){var c=!1,d=$j(a).val(),e=$j(a).closest("div").find(".examsAbroad_"+b).val(),f=$j(a).attr("maxscore"),g=$j(a).attr("minscore"),h=$j(a).attr("range"),i=$j(a).closest("div").find(".errorMsg").attr("id"),j="";if($j("#"+i).html(""),$j("#"+i).hide(),$j("#"+i).parent().hide(),"Score"!=d&&""!=d||(j="Please enter a "+e+" score.",c=!0),"CAE"==e){var k=["A","B","C"],l=trim(d);$j.inArray(l.toUpperCase(),k)==-1&&(j="Please enter a value among "+k.join(",")+".",c=!0)}else 1!=validateInteger(d)&&1!=validateFloat(d)?(j="Please enter a numeric value for score.",c=!0):1==validateInteger(d)?d<parseInt(g)||d>parseInt(f)?(j="Please enter a value between "+g+" and "+f+" for "+e+" score.",c=!0):parseInt(d)%parseInt(h)>0&&(j="Please enter a valid "+e+" score.",c=!0):d<parseFloat(g)||d>parseFloat(f)?(j="Please enter a value between "+g+" and "+f+" for "+e+" score.",c=!0):parseFloat(d)%parseFloat(h)>0&&(alert("yeah"),j="Please enter a valid "+e+" score.",c=!0);return c?($j("#"+i).html(j),$j("#"+i).show(),$j("#"+i).parent().show(),$j("#examsAbroad_error_"+b).html("Please correct errors with exam scores"),$j("#examsAbroad_error_"+b).show(),!1):($j("#"+i).html(""),$j("#"+i).hide(),$j("#"+i).parent().hide(),$j("#examsAbroad_error_"+b).html(""),$j("#examsAbroad_error_"+b).hide(),!0)}function validateAbroadForm(a){var b=[],c=!1;$j(".errorMsg").not("#form_"+a+" .errorMsg").hide(),$j("[name$='"+a+"']").each(function(){$j(this).attr("required")&&(validationRes=validateBrochureFormElement(this,"blur"),b.push(validationRes))}),"yes"==$j("[name='examTaken_"+a+"']:checked").val()&&($j(".examsAbroad_"+a).each(function(d,e){$j(e).attr("checked")&&(c=!0,validationRes=checkScoreNew($j(e).closest("div").next(),a),b.push(validationRes))}),c||void 0!==$j("[name='examTaken_"+a+"']:checked").attr("disabled")||(validationRes="Please select at least one exam",b.push(validationRes),$j("#examsAbroad_error_"+a).html(validationRes),$j("#examsAbroad_error_"+a).show()));for(var d=0;d<b.length;d++)if(1!=b[d])return!1;return!0}function trim(a){try{return a&&"string"==typeof a?a.replace(/^\s*|\s*$/g,""):""}catch(b){return a}}function validateEmail(a,b,c,d){if(0==a.length&&0==d)return!0;var e=/^((([a-z]|[A-Z]|[0-9]|\-|_)+(\.([a-z]|[A-Z]|[0-9]|\-|_)+)*)@((((([a-z]|[A-Z]|[0-9])([a-z]|[A-Z]|[0-9]|\-){0,61}([a-z]|[A-Z]|[0-9])\.))*([a-z]|[A-Z]|[0-9])([a-z]|[A-Z]|[0-9]|\-){0,61}([a-z]|[A-Z]|[0-9])\.)[\w]{2,4}|(((([0-9]){1,3}\.){3}([0-9]){1,3}))|(\[((([0-9]){1,3}\.){3}([0-9]){1,3})\])))$/;return""==a?"Please enter your "+b+".":!!e.test(a)||"The "+b+" specified is not correct."}function validateResponseCaptcha(a,b,c,d){try{if(document.getElementById(a)){var e=document.getElementById(a),f=e.getAttribute("caption"),g="/MultipleApply/MultipleApply/get_free_alerts/"+e.value+"/"+b,h=!1;return $j.ajax({async:!1,url:g,type:"POST",success:function(d){"true"==trim(d)?h=!0:(reloadCaptcha(c,b),document.getElementById(a+"_error").parentNode.style.display="inline",document.getElementById(a+"_error").innerHTML="Please enter the "+f+" as shown in the image",h=!1)}}),h}}catch(a){alert(a)}}function registerWithCreateResponseCall(a){var b=($j("#source_page_"+a).val(),$j("#listing_type_"+a).val()),c=$j("#listing_type_id_"+a).val(),d=$j("#usr_first_name_"+a).val(),e=$j("#usr_last_name_"+a).val(),f=$j("#contact_email_"+a).val(),g=$j("#mobile_phone_"+a).val(),h="secCodeIndex_"+a,i=$j("#homesecurityCode_"+a).val(),j=$j("#registration_source_"+a).val(),k=$j("[name='passport_"+a+"']:checked").val();k=void 0===k?"no":k;var l=1,m=0,n=0,o=!1,p=document.URL,q={firstName:d,lastName:e,email:f,mobile:g,securityCodeVar:h,securityCode:i,registrationSource:j,studyAbroad:l,referrer:p,categoryId:m,desiredCourse:n,passport:k},r=$j("#whenPlanToGo_"+a).val();r&&(q.whenPlanToGo=r);var s=[],t="exams_"+a,u=0;$j('[name="'+t+'[]"]');$j('[name="'+t+'[]"]').each(function(b,c){var d=$j(c).val();if(""!=d){u=b+1,examScore=$j("#exam_score_"+u+"_"+a).val();var e="TOEFL (IBT)"==d?"TOEFL":d;"Score"!=examScore&&""!=examScore&&(s.push(d),q[e+"_score"]="Score"==examScore?"":examScore,q[e+"_scoreType"]=scoreType[e])}}),s.length&&(q.exams=s),shikshaUserRegistration.registerUser(q,o,function(a){if("SUCCESS"==a.status){return loadStudyAbroadForm({listingType:b,listingTypeId:c,userid:a.userId,source_page:j},"/listing/abroadListings/createResponseForAbroadListings/","downloadLinkContainer"),realignAbroadOverlay(),void(isUserLoggedIn=!0)}hideAbroadOverlay()})}function showProgressLayer(){$j("#AbroadAjaxLoader").show()}function hideProgressLayer(){$j("#AbroadAjaxLoader").hide()}function showFullPageProgressLayer(){$j("#AbroadAjaxLoaderFull").css({width:$j(window).width(),height:$j(window).height()}).show()}function hideFullPageProgressLayer(){$j("#AbroadAjaxLoaderFull").show().hide()}function getCookie(a){return document.cookie.length>0&&(c_start=document.cookie.indexOf(a+"="),c_start!=-1)?(c_start=c_start+a.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function setCookie(a,b,c,d){var e=new Date;e.setTime(e.getTime());var f=0;if(c=void 0!==c?c:0,d=void 0!==d?d:"days",0!=c){"seconds"==d?c*=1e3:c=1e3*c*60*60*24;var g=new Date(e.getTime()+c),f=g.toGMTString();"homepage"==d&&(f=getCookie("homepage_ticker_track")),document.cookie=a+"="+escape(b)+";path=/;domain="+COOKIEDOMAIN+(null==c?"":";expires="+f)}else document.cookie=a+"="+escape(b)+";path=/;domain="+COOKIEDOMAIN;return""!=document.cookie}function setClientCookie(){try{""!=getCookie("client")&&null!=getCookie("client")&&document.body.offsetWidth==getCookie("client")||(""!=getCookie("client")&&getCookie("client")!=document.body.offsetWidth&&document.body.offsetWidth>1e3&&getCookie("client")<800?setCookie("client",document.body.offsetWidth,300):(getCookie("client")!=document.body.offsetWidth&&document.body.offsetWidth<1e3&&getCookie("client"),setCookie("client",document.body.offsetWidth,300)),""==getCookie("client")&&($("enableCookieMsg").style.display="",$("enableCookieMsg").innerHTML="Cookies are not getting set in your browser! Please Check."))}catch(a){}}function startBrochureDownload(a,b,c,d){var e,f="/listing/abroadListings/downLoadAbroadPDFbrochure/"+a+"/"+b+"/"+c+"/"+d;e=document.getElementById("download-container"),null===e&&(e=document.createElement("iframe"),e.id="download-container",e.style.visibility="hidden",document.body.appendChild(e)),e.src=f}function startAbroadListingsBrochureDownload(a){a=JSON.parse(base64_decode(a));var b,c="/listing/abroadListings/downloadAbroadListingsBrochure/"+a.brochureURL+"/"+a.listingType+"/"+a.listingTypeId+"/"+a.downloadedFrom+"/"+a.tempLmsTableId+"/"+a.courseId+"/"+a.brochureEmailInsertId;b=document.getElementById("download-container"),null===b&&(b=document.createElement("iframe"),b.id="download-container",b.style.visibility="hidden",document.body.appendChild(b)),b.src=c}function hex_md5(a){return binl2hex(core_md5(str2binl(a),a.length*chrsz))}function binl2hex(a){for(var b=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>d%4*8+4&15)+b.charAt(a[d>>2]>>d%4*8&15);return c}function core_md5(a,b){a[b>>5]|=128<<b%32,a[14+(b+64>>>9<<4)]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,i=d,j=e,k=f;c=md5_ff(c,d,e,f,a[g+0],7,-680876936),f=md5_ff(f,c,d,e,a[g+1],12,-389564586),e=md5_ff(e,f,c,d,a[g+2],17,606105819),d=md5_ff(d,e,f,c,a[g+3],22,-1044525330),c=md5_ff(c,d,e,f,a[g+4],7,-176418897),f=md5_ff(f,c,d,e,a[g+5],12,1200080426),e=md5_ff(e,f,c,d,a[g+6],17,-1473231341),d=md5_ff(d,e,f,c,a[g+7],22,-45705983),c=md5_ff(c,d,e,f,a[g+8],7,1770035416),f=md5_ff(f,c,d,e,a[g+9],12,-1958414417),e=md5_ff(e,f,c,d,a[g+10],17,-42063),d=md5_ff(d,e,f,c,a[g+11],22,-1990404162),c=md5_ff(c,d,e,f,a[g+12],7,1804603682),f=md5_ff(f,c,d,e,a[g+13],12,-40341101),e=md5_ff(e,f,c,d,a[g+14],17,-1502002290),d=md5_ff(d,e,f,c,a[g+15],22,1236535329),c=md5_gg(c,d,e,f,a[g+1],5,-165796510),f=md5_gg(f,c,d,e,a[g+6],9,-1069501632),e=md5_gg(e,f,c,d,a[g+11],14,643717713),d=md5_gg(d,e,f,c,a[g+0],20,-373897302),c=md5_gg(c,d,e,f,a[g+5],5,-701558691),f=md5_gg(f,c,d,e,a[g+10],9,38016083),e=md5_gg(e,f,c,d,a[g+15],14,-660478335),d=md5_gg(d,e,f,c,a[g+4],20,-405537848),c=md5_gg(c,d,e,f,a[g+9],5,568446438),f=md5_gg(f,c,d,e,a[g+14],9,-1019803690),e=md5_gg(e,f,c,d,a[g+3],14,-187363961),d=md5_gg(d,e,f,c,a[g+8],20,1163531501),c=md5_gg(c,d,e,f,a[g+13],5,-1444681467),f=md5_gg(f,c,d,e,a[g+2],9,-51403784),e=md5_gg(e,f,c,d,a[g+7],14,1735328473),d=md5_gg(d,e,f,c,a[g+12],20,-1926607734),c=md5_hh(c,d,e,f,a[g+5],4,-378558),f=md5_hh(f,c,d,e,a[g+8],11,-2022574463),e=md5_hh(e,f,c,d,a[g+11],16,1839030562),d=md5_hh(d,e,f,c,a[g+14],23,-35309556),c=md5_hh(c,d,e,f,a[g+1],4,-1530992060),f=md5_hh(f,c,d,e,a[g+4],11,1272893353),e=md5_hh(e,f,c,d,a[g+7],16,-155497632),d=md5_hh(d,e,f,c,a[g+10],23,-1094730640),c=md5_hh(c,d,e,f,a[g+13],4,681279174),f=md5_hh(f,c,d,e,a[g+0],11,-358537222),e=md5_hh(e,f,c,d,a[g+3],16,-722521979),d=md5_hh(d,e,f,c,a[g+6],23,76029189),c=md5_hh(c,d,e,f,a[g+9],4,-640364487),f=md5_hh(f,c,d,e,a[g+12],11,-421815835),e=md5_hh(e,f,c,d,a[g+15],16,530742520),d=md5_hh(d,e,f,c,a[g+2],23,-995338651),c=md5_ii(c,d,e,f,a[g+0],6,-198630844),f=md5_ii(f,c,d,e,a[g+7],10,1126891415),e=md5_ii(e,f,c,d,a[g+14],15,-1416354905),d=md5_ii(d,e,f,c,a[g+5],21,-57434055),c=md5_ii(c,d,e,f,a[g+12],6,1700485571),f=md5_ii(f,c,d,e,a[g+3],10,-1894986606),e=md5_ii(e,f,c,d,a[g+10],15,-1051523),d=md5_ii(d,e,f,c,a[g+1],21,-2054922799),c=md5_ii(c,d,e,f,a[g+8],6,1873313359),f=md5_ii(f,c,d,e,a[g+15],10,-30611744),e=md5_ii(e,f,c,d,a[g+6],15,-1560198380),d=md5_ii(d,e,f,c,a[g+13],21,1309151649),c=md5_ii(c,d,e,f,a[g+4],6,-145523070),f=md5_ii(f,c,d,e,a[g+11],10,-1120210379),e=md5_ii(e,f,c,d,a[g+2],15,718787259),d=md5_ii(d,e,f,c,a[g+9],21,-343485551),c=safe_add(c,h),d=safe_add(d,i),e=safe_add(e,j),f=safe_add(f,k)}return Array(c,d,e,f)}function md5_cmn(a,b,c,d,e,f){return safe_add(bit_rol(safe_add(safe_add(b,a),safe_add(d,f)),e),c)}function md5_ff(a,b,c,d,e,f,g){return md5_cmn(b&c|~b&d,a,b,e,f,g)}function md5_gg(a,b,c,d,e,f,g){return md5_cmn(b&d|c&~d,a,b,e,f,g)}function md5_hh(a,b,c,d,e,f,g){return md5_cmn(b^c^d,a,b,e,f,g)}function md5_ii(a,b,c,d,e,f,g){return md5_cmn(c^(b|~d),a,b,e,f,g)}function core_hmac_md5(a,b){var c=str2binl(a);c.length>16&&(c=core_md5(c,a.length*chrsz));for(var d=Array(16),e=Array(16),f=0;f<16;f++)d[f]=909522486^c[f],e[f]=1549556828^c[f];var g=core_md5(d.concat(str2binl(b)),512+b.length*chrsz);return core_md5(e.concat(g),640)}function safe_add(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function bit_rol(a,b){return a<<b|a>>>32-b}function str2binl(a){for(var b=Array(),c=(1<<chrsz)-1,d=0;d<a.length*chrsz;d+=chrsz)b[d>>5]|=(a.charCodeAt(d/chrsz)&c)<<d%32;return b}function binl2str(a){for(var b="",c=(1<<chrsz)-1,d=0;d<32*a.length;d+=chrsz)b+=String.fromCharCode(a[d>>5]>>>d%32&c);return b}function binl2hex(a){for(var b=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>d%4*8+4&15)+b.charAt(a[d>>2]>>d%4*8&15);return c}function binl2b64(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="",d=0;d<4*a.length;d+=3)for(var e=(a[d>>2]>>d%4*8&255)<<16|(a[d+1>>2]>>(d+1)%4*8&255)<<8|a[d+2>>2]>>(d+2)%4*8&255,f=0;f<4;f++)c+=8*d+6*f>32*a.length?b64pad:b.charAt(e>>6*(3-f)&63);return c}function submitWhenLoggedIn(a,b){0!=a&&($j("#overlayContainer").hide(),$j("#iframe_div").hide(),showFullPageProgressLayer(),setTimeout(function(){submitBrochureDownloadForm(b),hideFullPageProgressLayer()},1e3))}function blurScore(a){var b=$(a);""==b.value&&(b.value="Score")}function blurExamName(a){var b=$(a);""==b.value&&(b.value="Name")}function showExamScore(a,b,c){$("examScore_"+c+"_"+b).style.display="none",$("exam_score_"+c+"_"+b).value="Score",$("exam_score_"+c+"_"+b+"_error").style.display=$("exam_score_"+c+"_"+b+"_error").parentNode.style.display="none",$("exam_score_"+c+"_"+b+"_error").innerHTML="",$("exam_name_"+c+"_"+b).style.display=$("exam_name_"+c+"_"+b).parentNode.style.display="none",$("exam_name_"+c+"_"+b+"_error").style.display=$("exam_name_"+c+"_"+b+"_error").parentNode.style.display="none",$("exam_name_"+c+"_"+b+"_error").innerHTML="";var d=a.options[a.selectedIndex].value;d?isExamAlreadySelected(b,d,c)?(alert("You have already selected "+d+"."),a.selectedIndex=0,hideExamScore(b,c)):($("examScore_"+c+"_"+b).style.display="","Other"==d&&($("exam_name_"+c+"_"+b).style.display="",$("exam_name_"+c+"_"+b).parentNode.style.display=""),$("examScore_"+c+"_"+b).parentNode.style.display=""):hideExamScore(b,c),$("exam_score_"+c+"_"+b).focus(),a.focus()}function hideExamScore(a,b){$("examScore_"+b+"_"+a).style.display="none",$("exam_score_"+b+"_"+a).value="Score",$("exam_score_"+b+"_"+a+"_error").style.display="none",$("exam_score_"+b+"_"+a+"_error").parentNode.style.display="none",$("exam_score_"+b+"_"+a+"_error").innerHTML=""}function isExamAlreadySelected(a,b,c){var d=document.getElementsByName("exams_"+a+"[]");for(i=1;i<=d.length;i++){var e=$("exams_"+i+"_"+a),f=e.options[e.selectedIndex].value;if(f&&f==b&&c!=i)return!0}return!1}function addMoreExam(a){var b=(document.getElementsByName("exams_"+a+"[]"),3);for(i=1;i<=b;i++)if("none"==$("exam_block_"+i+"_"+a).style.display){$("exam_block_"+i+"_"+a).style.display="block",i==b&&($("add_exam_block_"+a).style.display="none");break}$j("#compare-cont").length&&$j("#mainWrapper").height($j("#compare-cont").height()+70)}function checkScore(a){var b=document.getElementsByName("exams_"+a+"[]");for(i=1;i<=b.length;i++)if($("exam_score_"+i+"_"+a+"_error").style.display=$("exam_score_"+i+"_"+a+"_error").parentNode.style.display="none",$("exam_score_"+i+"_"+a+"_error").innerHTML="","none"!=$("examScore_"+i+"_"+a).style.display){if(scoreValue=trim($("exam_score_"+i+"_"+a).value),examName=$("exams_"+i+"_"+a).value,""==scoreValue||"Score"==scoreValue){$("exam_score_"+i+"_"+a+"_error").style.display=$("exam_score_"+i+"_"+a+"_error").parentNode.style.display="inline",$("exam_score_"+i+"_"+a+"_error").innerHTML="Please enter a value for "+examName+" score.",error=!0;continue}var c=scoreValue;if(scoreValue=parseInt(scoreValue),"CAE"==$j("#exams_"+i+"_"+a).val()){var d=["A","B","C"],e=trim($("exam_score_"+i+"_"+a).value);$j.inArray(e.toUpperCase(),d)==-1&&($("exam_score_"+i+"_"+a+"_error").style.display=$("exam_score_"+i+"_"+a+"_error").parentNode.style.display="inline",$("exam_score_"+i+"_"+a+"_error").innerHTML="Please enter a value among "+d.join(",")+".",error=!0)}else 1!=validateInteger(c)&&1!=validateFloat(c)?($("exam_score_"+i+"_"+a+"_error").style.display=$("exam_score_"+i+"_"+a+"_error").parentNode.style.display="inline",$("exam_score_"+i+"_"+a+"_error").innerHTML="Please enter a numeric value for score.",error=!0):scoreRangeMap[examName]&&(c<parseInt(scoreRangeMap[examName][0])||c>parseInt(scoreRangeMap[examName][1]))&&($("exam_score_"+i+"_"+a+"_error").style.display=$("exam_score_"+i+"_"+a+"_error").parentNode.style.display="inline",$("exam_score_"+i+"_"+a+"_error").innerHTML="Please enter a value between "+scoreRangeMap[examName][0]+" and "+scoreRangeMap[examName][1]+" for "+examName+" score.",error=!0)}$j("#compare-cont").length&&$j("#mainWrapper").height($j("#compare-cont").height()+70)}function checkExamName(a,b){""==trim($("exam_name_"+b+"_"+a).value)?($("exam_name_"+b+"_"+a+"_error").style.display=$("exam_name_"+b+"_"+a+"_error").parentNode.style.display="block",$("exam_name_"+b+"_"+a+"_error").innerHTML="Please enter exam name."):($("exam_name_"+b+"_"+a+"_error").style.display=$("exam_name_"+b+"_"+a+"_error").parentNode.style.display="none",$("exam_name_"+b+"_"+a+"_error").innerHTML=""),$j("#compare-cont").length&&$j("#mainWrapper").height($j("#compare-cont").height()+70)}function slowScrollToTop(a,b){void 0===b&&(b=0),$j("body,html").animate({scrollTop:$j("#"+a).offset().top-b},500)}function applyScrollBar(a){void 0===a&&(a=["feesFilterScrollbar","examFilterScrollbar","specializationFilterScrollbar","moreOptionsFilterScrollbar","locationFilterScrollbar"]),"string"==typeof a&&(a=[a]),$j.each(a,function(a,b){if($j("#"+b).length>0){var c=$j("#"+b).find(".overview").height();c<$j("#"+b).find(".viewport").height()&&$j("#"+b).find(".viewport").height(c),$j("#"+b).tinyscrollbar()}})}function pushBannerToPool(a,b){""!=a&&(bannerPool[a]=b)}function toggleSignOutLayer(){$j("#sign-out-layer").toggle()}function SignOutUser(a){setCookie("compareCourses","{}"),$j.ajax({type:"POST",url:"/user/Login/signOut",success:function(b){0!=trim(b)&&(setPageRefreshCookie(),a?window.location=a:window.location.reload())}});try{for(var b=document.cookie.split(";"),c=new Array,d=0;d<b.length;d++){var e=b[d].split("=");"applied_"==trim(e[0]).substr(0,8)&&1==e[1]&&c.push(e[0])}""!=getCookie("cmsadmin_user")&&deleteCookie("cmsadmin_user"),""!=getCookie("recommendation_applied")&&deleteCookie("recommendation_applied");for(var d=0;d<c.length;d++)deleteCookie(c[d])}catch(a){}}function makeAbroadAutoResponse(a,b,c,d){var e="";e="undefined"==typeof rmcPageTitle?"/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+a+"/"+b+"/"+c:"/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+a+"/"+b+"/"+c+"/"+rmcPageTitle,$j.ajax({type:"POST",url:e,data:{trackingPageKeyId:d},success:function(a){}})}function slideRecoLeft(a,b,c){if(currentSlide[a]!=firstSlide[a]){currentSlide[a]++;var d=slideWidth*currentSlide[a];$j("#slideContainer"+a).animate({left:d+"px"}),changeActiveRecoButton(a,b,c)}}function slideRecoRight(a,b,c){if(currentSlide[a]!=lastSlide[a]){currentSlide[a]--;var d=slideWidth*currentSlide[a];$j("#slideContainer"+a).animate({left:d+"px"}),changeActiveRecoButton(a,b,c)}}function changeRecoSlide(a,b,c,d){currentSlide[b]=(a-1)*-1;var e=slideWidth*currentSlide[b];$j("#slideContainer"+b).animate({left:e+"px"}),changeActiveRecoButton(b,c,d)}function changeActiveRecoButton(a,b,c){if($j("#recoSlide"+a).html((currentSlide[a]-1)*-1+" of "+numSlides[a]),currentSlide[a]==firstSlide[a]?($("prev"+a).className="prev-box",$("next"+a).className="next-box active",$("prevIcon"+a).className="common-sprite prev-icon",$("nextIcon"+a).className="common-sprite next-icon-active",void 0!==c&&1==c&&($("prevArrow"+a).className="prevArrow disable",$("nextArrow"+a).className="nextArrow")):currentSlide[a]==lastSlide[a]?($("prev"+a).className="prev-box active",$("next"+a).className="next-box",$("prevIcon"+a).className="common-sprite prev-icon-active",$("nextIcon"+a).className="common-sprite next-icon",void 0!==c&&1==c&&($("prevArrow"+a).className="prevArrow",$("nextArrow"+a).className="nextArrow disable")):($("prev"+a).className="prev-box active",$("next"+a).className="next-box active",$("prevIcon"+a).className="common-sprite prev-icon-active",$("nextIcon"+a).className="common-sprite next-icon-active",void 0!==c&&1==c&&($("prevArrow"+a).className="prevArrow",$("nextArrow"+a).className="nextArrow")),1==b)for(var d=firstSlide[a];d>=lastSlide[a];d--){var e=d*-1+1;d==currentSlide[a]?$("recoSliderButton"+e+a).className="active":$("recoSliderButton"+e+a).className=""}}function checkTextElementOnTransition(a,b){var c=trim(a.getAttribute("default"));return null!=c&&("focus"==b?(a.style.color="",trim(a.value)==c&&(a.value="")):""==trim(a.value)&&(a.value=c,a.style.color="#ada6ad"),!0)}function scrollBackToTop(){var a="",b="";a=arguments[0],void 0!==arguments[1]&&(b=arguments[1]);var c=Math.max($j(document).height(),$j(window).height()),d=parseInt(.3*c);if(null!=$("rightStickyPanel")){var e=0;e=$j("#rightStickyPanel").offset().top,""==b?e+=175:"examContent"==b&&(e=$j("#rightStickyPanel").offset().top)}$j(window).scroll(function(){if($j(this).scrollTop()>=d&&(!/MSIE ((5\\.5)|6)/.test(navigator.userAgent)||"Win32"!=navigator.platform)?$j("#toTop").fadeIn():$j("#toTop").fadeOut(),null!=$("rightStickyPanel"))if($j(this).scrollTop()>=e){var a;"examContent"==b?($j("#examContentDownloadGuide").css({"margin-bottom":"0px"}),a="310px"):a="308px",$j("#rightStickyPanel").css({position:"fixed",top:"0px",width:a,"margin-top":"0px",background:"#fff"})}else"examContent"==b&&$j("#examContentDownloadGuide").css({"margin-bottom":"15px"}),$j("#rightStickyPanel").css({position:"relative",top:"0px","margin-top":"15px"})}),$j("#toTop").click(function(){$j("body,html").animate({scrollTop:$j("#"+a).offset().top},1e3)})}function courseShortlister(a){if("number"==typeof a){x=a;var b=document.getElementById("shortlist_page_course_count");if($j(".college-notification-button").length>0)if(0!=x||isUserLoggedIn){if(!isUserLoggedIn){var c=x;$j(".college-notification-button #notificationBoxText").html(c),$j(".college-notification-button").css("font-size","12px")}$j(".college-notification-button").show()}else $j(".college-notification-button").hide();return void(null!=b&&(b.innerHTML=x))}$j.ajax({type:"GET",url:"/categoryList/AbroadCategoryList/getShortListedCourseCount",cache:!1,async:!1,success:function(a){x=a;var b=document.getElementById("shortlist_page_course_count");if(null!=b&&(b.innerHTML=x),$j(".college-notification-button").length>0)if(0!=x||isUserLoggedIn){if(!isUserLoggedIn){var c=x;$j(".college-notification-button #notificationBoxText").html(c),$j(".college-notification-button").css("font-size","12px")}$j(".college-notification-button").show()}else $j(".college-notification-button").hide();"undefined"!=typeof pageTotalShortlistCount&&(pageTotalShortlistCount=x)}})}function brochureLayerCloseTracking(a){studyAbroadTrackEventByGA("ABROAD_PAGE","brochureForm_"+a.data.widget,"close"),$j(".close-icon").unbind(".closeTrackGA")}function validateCourseDropDownWithoutRegistration(a,b,c,d,e){if("response_abroad_university_download_form_bottom"==b)var f="listing_course_list_select_bottom",g=f,h="form";else var f="university_course_list_select",g="university_course_list",h=".abroad-layer-content";var i=0,j=!0;if(j=validateSelect($j("#"+f).val(),$j("#"+f).attr("caption")),"undefined"!=typeof consultantInRegistration&&1==consultantInRegistration&&!validateConsultantFields()&&1==j)return $j("#"+g+"_error").html(""),$j("#"+g+"_error").hide(),!1;if(1!=j&&""!=j)return $j("#"+g+"_error").html(j),$j("#"+g+"_error").show(),!1;$j("#"+g+"_error").html(""),$j("#"+g+"_error").hide(),i=$j("#"+f).find("option:selected").attr("clientCourseId");var k="";k="undefined"==typeof rmcPageTitle?"/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+a+"/"+i+"/"+b:"/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+a+"/"+i+"/"+b+"/"+rmcPageTitle;var l={};if($j("#widget").val().indexOf("request_callback")!=-1&&(l.widget=$j("#widget").val()),"undefined"!=typeof consultantInRegistration&&1==consultantInRegistration){var m=[];$j(c).closest(h).find('input[name="consultantList[]"]:checked').each(function(){m.push($j(this).val())}),l.consultantList=m,l.userRegion=$j(c).closest(h).find('input[name="userRegion"]').val()}$j("#DHTMLSuite_modalBox_contentDiv").hide(),showFullPageProgressLayer(),l.trackingPageKeyId=d,l.consultantTrackingPageKeyId=e,registrationOverlayComponent.showOverlay(k,1200,455,l,!1)}function realignDownloadLinkOverlay(){var a=$j("#downloadLinkContainer").width()/2,b=$j(window).width()/2,c=b-a-40;$j("#downloadLinkContainer").css("position","absolute"),$j("#downloadLinkContainer").css("left",c+"px"),"undefined"!=typeof intervalId&&intervalId&&clearInterval(intervalId)}function listingCourseSelectChangeBottom(){var a="listing_course_list_select_bottom";""==$j("#"+a).val()?$j("#"+a+"_error").html("Please select a course"):$j("#"+a+"_error").html(""),$j("#listingTypeIdForBrochureBottom").val($j("#"+a).find("option:selected").attr("clientCourseId")),$j("#desiredCourseForResponseBottom").val($j("#"+a).val()),$j("#isPaidBottom").val($j("#"+a).find("option:selected").attr("ispaid")),$j("#abroadSpecializationForResponseBottom").val($j("#"+a).find("option:selected").attr("subcategory")),triggerConsultantLayer($j("#listing_course_list_select_bottom"),$j("#regFormId").val())}function customStopPropagation(a){return a.cancelBubble=!0,a.stopImmediatePropagation(),!1}function showAcceptedMessage(a){$j(a).find("span").show(),$j(a).parent().css("overflow","visible"),$j(a).parent().parent().css("overflow","visible")}function hideAcceptedMessage(a){$j(a).find("span").hide()}function swapContentOrgTab(a){1==a?($j("#chooseRight").addClass("active"),$j("#knowAbout").removeClass("active"),$j("#chooseRightSection").show(),$j("#knowAboutSection").hide()):2==a&&($j("#chooseRight").removeClass("active"),$j("#knowAbout").addClass("active"),$j("#chooseRightSection").hide(),$j("#knowAboutSection").show())}function changeConsultantInfo(a){var b=$j(a).find("option:selected").attr("consultantlocationid");$j(".locationSpan").html(consultantLocations[b].locationName),null==consultantLocations[b].shikshaPRI?$j(".shikshaPRIDiv").hide():($j(".shikshaPRIDiv span").html(consultantLocations[b].displayPRI),$j(".shikshaPRIDiv").show())}function validateConsultantFields(a){if(void 0===a&&(a=""),void 0===$j("#consultantLayer_"+a+" .consultantRequired:checked").val())return $j("#selectConsultantsList_"+a+"_error").text("Please select whether you want to be contacted by cosultant").show(),!1;if("yes"==$j("#consultantLayer_"+a+" .consultantRequired:checked").val()){var b=$j("#requiredConsultantsList_"+a).find("input:checkbox:checked").map(function(){return this.value}).get();return $j("#selectConsultantsList_"+a+"_error").hide(),0==b.length?($j("#requiredConsultantsList_"+a+"_error").text("Please select atleast one consultant").show(),!1):($j("#requiredConsultantsList_"+a+"_error").text("").hide(),!0)}return"no"!=$j("#consultantLayer_"+a+" .consultantRequired:checked").val()||($j("#selectConsultantsList_"+a+"_error").hide(),!0)}function validateConsultantEnquiryForm(a){var b=[];$j("#form_"+a+" .errorMsg").hide(),$j("#form_"+a+" .enquiryField").each(function(){$j(this).attr("required")&&(validationRes=validateBrochureFormElement(this,"blur"),b.push(validationRes))});for(var c=0;c<b.length;c++)if(1!=b[c])return!1;return!0}function saveConsultantEnquiry(a){if(enquirySaveInitiated||validateConsultantEnquiryForm(a)===!1)return!1;showFullPageProgressLayer();var b={source:a,email:$j("#email_"+a).val(),mobile:$j("#mobile_"+a).val(),firstName:$j("#firstName_"+a).val(),lastName:$j("#lastName_"+a).val(),message:$j("#message_"+a).val(),consultant:$j("#consultantId_"+a).val(),region:$j("#region_"+a).val(),university:$j("#university_"+a).val(),consultantTrackingPageKeyId:$j("#consultantTrackingPageKeyId_"+a).val()};if(consultantEnquirySaveDataObj=b,checkIfOtpRequired(b.email,b.mobile)!==!0)return showOTPLayer(),!1;enquirySaveInitiated=!0,submitConsultantEnquiry()}function submitConsultantEnquiry(){$j.ajax({url:"/consultantEnquiry/ConsultantEnquiry/saveConsultantEnquiry",data:consultantEnquirySaveDataObj,async:!1,type:"POST",success:function(a){"consumption_failed"==a&&(alert("The consultant seems to be unavailable right now. Please try again later."),window.location.reload()),a>0&&(loadStudyAbroadForm({},"/consultantEnquiry/ConsultantEnquiry/getConsultantEnquiryThankYouLayer","consultantEnquiryThankYouLayer"),$j("#overlayContainer").css("width","auto"),$j("#overlayTitle").css("margin","0 0 0 10px").show(),$j("#overlayContainer").find(".close-icon").show()),enquirySaveInitiated=!1},error:function(){alert("Something went wrong..")}})}function checkIfOtpRequired(a,b){if(otpVerifiedEmail==a&&otpVerifiedMobile==b)return!0;var c;return $j.ajax({type:"POST",url:"/userVerification/userVerification/verifyUser",async:!1,data:{email:a,mobile:b,verification:"OTP",isStudyAbroad:1},success:function(a){if("failed"==a)return alert("You have exceeded maximum five attempts to verify your mobile."),window.location.reload(),c=!0,!1;c="skip"==a||"exists"==a||a}}),c}function showOTPLayer(){var a=void 0!==arguments[0]?arguments[0]:0,b=new Object;b.showVerificationLayer=1,b.regData="",b.mobile=consultantEnquirySaveDataObj.mobile,b.isStudyAboad=1,loadStudyAbroadForm(b,"/consultantEnquiry/ConsultantEnquiry/getConsultantUserVerificationLayer","consultantOTPContainer"),$j("#overlayTitle").hide(),$j("#overlayContainer").css("width","auto"),$j("#overlayContainer").find(".abroad-layer-content").eq(0).css("padding","0px"),$j("#overlayContainer").find(".close-icon").hide(),hideFullPageProgressLayer(),a&&$j("#pin-Error").html("The OTP is sent to your mobile")}function changeMobileLayer(){$j(".enterMobilePin").hide(),$j(".changeMobileLayer").show(),$j(".changeMobile").hide(),$j("#yourChangeMobile").html($j("#mobile").val())}function updatedMobileValidation(a){var b=validateMobileInteger(a,"mobile number",10,10,!0);return 1!=b?setTimeout(function(){$j(".regErrorMsgForOTP").html(b),$j(".regErrorMsgForOTP").css("color","red")},500):1==b&&setTimeout(function(){$j(".regErrorMsgForOTP").html("")},500),b}function changeMobile(){var a=$("newMobileNumber").value;if(1!=updatedMobileValidation(a))return!1;consultantEnquirySaveDataObj.mobile=a,$j(".changeMobileLayer").hide(),$j(".enterMobilePin").show(),$j(".yourMobile").html(a),$j(".close").show(),resendOTP()}function resendOTP(){var a=void 0!==arguments[0]?arguments[0]:0;if(showFullPageProgressLayer(),checkIfOtpRequired(consultantEnquirySaveDataObj.email,consultantEnquirySaveDataObj.mobile)!==!0)return showOTPLayer(a),!1}function userOTPAuthentication(){showFullPageProgressLayer();var a=parseInt($j("#one-time-pass").val());isNaN(a)||a<1e5||a>999999?$j("#pin-Error").html("Enter a vaild OTP").show():$j.ajax({type:"POST",url:"/userVerification/userVerification/verifyOTP",data:{email:consultantEnquirySaveDataObj.email,mobile:consultantEnquirySaveDataObj.mobile,OTP:a,isStudyAbroad:1},success:function(a){if("yes"==a)submitConsultantEnquiry();else{if("failed"==a)return alert("You have exceeded maximum five attempts to verify your mobile."),window.location.reload(),!1;"no"==a&&(setTimeout(function(){$j("#pin-Error").html("OTP is incorrect")},500),$j("#pin-Error").show())}hideFullPageProgressLayer()}})}function toggleConsultantsList(a,b){$j(b).is(":checked")&&"yes"==$j(b).val()&&$j("#requiredConsultantsList_"+a).slideDown(),$j(b).is(":checked")&&"no"==$j(b).val()&&($j('[name="consultantList[]"]').attr("checked",!1),$j("#requiredConsultantsList_"+a).slideUp()),"checked"==$j("#consultantRequired_yes_"+a).attr("checked")?void 0!==$j("#contactByConsultant_yes_"+a)&&$j("#contactByConsultant_yes_"+a).attr("checked",!0):"checked"==$j("#consultantRequired_no_"+a).attr("checked")&&($j("#contactByConsultant_no_"+a),$j("#contactByConsultant_no_"+a).attr("checked",!0)),$j("#selectConsultantsList_"+a+"_error").hide()}function showConsultantLayerForm(a,b){if(void 0===a&&(a=""),0==$j("#consultantLayer_"+a).length)return void(consultantInRegistration=!1);var c=!1,d=getRequestedCourseIdForConsultant();if($j.isNumeric(b)&&b>0){var e=consultantCityRegionData[b].regionId;if(consultantList.hasOwnProperty(e))for(var f=0;f<3;f++)if(consultantList[e].hasOwnProperty(f)){var g=consultantList[e][f],h=!1;if(excludedCourses.hasOwnProperty([g.consultantId]))for(var i=0;i<excludedCourses[g.consultantId].length;i++)if(d==excludedCourses[g.consultantId][i]){h=!0;break}if(h){c=c||!1,$j("#consultant-ins-list-"+a+" li:eq("+f+")").find("input").val(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultant-info-box").find("a").attr("href","javascript:void(0)"),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantNameStrong").html(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantOfficeAddressP").html(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").css("display","none");continue}c=c||!0,$j("#consultant-ins-list-"+a+" li:eq("+f+")").find("input").val(g.consultantId),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultant-info-box").find("a").attr("href",g.consultantProfileUrl),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantNameStrong").html(g.consultantName),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantOfficeAddressP").html(g.officeAddress),$j("#consultant-ins-list-"+a+" li:eq("+f+")").css("display","block")}else c=c||!1,$j("#consultant-ins-list-"+a+" li:eq("+f+")").find("input").val(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultant-info-box").find("a").attr("href","javascript:void(0)"),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantNameStrong").html(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").find(".consultantOfficeAddressP").html(""),$j("#consultant-ins-list-"+a+" li:eq("+f+")").css("display","none")}c?($j("#consultantLayer_"+a).css("display","block"),$j("#userRegion_"+a).val(e),$j("#consultantRequired_no_"+a).attr("checked",!1),consultantInRegistration=!0):($j("#consultant-ins-list-"+a+' [name="consultantList[]"]').attr("checked",!1),$j("#consultantLayer_"+a).css("display","none"),$j("#requiredConsultantsList_"+a).css("display","none"),$j("#consultantRequired_no_"+a).attr("checked",!0),$j("#userRegion_"+a).val(""),consultantInRegistration=!1),$j("ul.consultant-ins-list li:visible").length>1?$j("p.consultant-text").html("<strong>Select consultants below </strong>(showing consultants based on your current city)"):$j("p.consultant-text").html("<strong>Select consultant below </strong>(showing consultant based on your current city)")}function getRequestedCourseIdForConsultant(){return consutantForCourseId>0?consutantForCourseId:0}function triggerConsultantLayer(a,b){if(""!=b&&void 0!==b||(b=""),"undefined"!=typeof consultantInRegistration)if(consutantForCourseId=$j(a).find(":selected").attr("clientcourseid"),0==loggedInUserCity){if($j("#residenceCity_"+b)){var c=$j("#residenceCity_"+b).val();showConsultantLayerForm(b,c)}}else showConsultantLayerForm(b,loggedInUserCity)}function loadConsultantHelpForm(a,b){url="/listing/abroadListings/consultantCatPageOverlayData",a=JSON.parse(base64_decode(a)),title="A Shiksha Verified consultant can help you with admission related guidance for this university";var c="";$j.ajax({url:url,data:a,async:!1,type:"POST",success:function(a){c=a}}),$j("#main-wrapper").find("#"+b).remove(),$j("#main-wrapper").append(c),$j("#overlayTitle").css("margin-left","0"),hideProgressLayer(),showAbroadOverlay(b,title)}function applyContentDownloadGuide(a,b,c){windowUnloadEntry(b[2],b[4]),downloadPDF(a,b,c)}function downloadDHLPDF(a,b,c,d){a=a.replace(/\/+$/,"");for(var e=0;e<b.length;e++)a=a+"/"+b[e];var f;void 0===f&&(f=document.createElement("iframe"),f.id="download-container",f.style.visibility="hidden",document.body.appendChild(f)),f.src=a,void 0!==d&&d()}function downloadPDF(a,b,c,d){if("new"==b[4]&&!contentDownloadFlowStart){setSingleSignupFormParamsCookie({contId:b[1],tkey:b[2],cType:b[6],url:b[0],rf:window.location.pathname,rftl:encodeURI($j("title").text())})}if(ifSingleSignUpFormToBeShown(b[4])||contentDownloadFlowStart)if("new"!=b[4]||contentDownloadFlowStart){a=a.replace(/\/+$/,"");for(var e=0;e<3;e++)a=a+"/"+b[e];var f;void 0===f&&(f=document.createElement("iframe"),f.id="download-container",f.style.visibility="hidden",document.body.appendChild(f)),f.src=a,void 0!==d&&d()}else showSuccessPage("dg",{contentId:b[1]});else TIME_DELAY_FOR_PDF_DOWNLOAD=4e3,contentDownloadFlow=!0,contentDownloadFlowStart=!1,contentDownloadControllerUrl=a,contentDownloadInputArray=b,contentDownloadCallBackFunction=d,isUserLoggedIn===!1&&insertSignUpFormABTracking(b[5],b[2],b[4]),"new"===b[4]?window.location="/signup":shikshaUserRegistration.showOneStepLayer("studyAbroad",c,b[2])}function setPageRefreshCookie(){setCookie("pageRefreshCookie","true",1800,"seconds")}function showHideRMCTooltip(a){$j(a).parent().find(".tooltip-info").toggle()}function fetchNotificationCount(){$j.ajax({type:"GET",url:"/studyAbroadCommon/AbroadNotifications/getNotificationCount",success:function(a){a>0&&($j(".notification-count").show(),$j("#notificationCount").html(a))}})}function fetchUserNotificationLayer(){$j.ajax({type:"GET",url:"/studyAbroadCommon/AbroadNotifications/getDesktopNotificationOverlay",success:function(a){$j("#abroadNotificationLayerDiv").html(a)}})}function initializeNotificationLayer(){$j(".notification-layer").show();var a=$j(window).height(),b=$j(".notification-head").height(),c=$j(".notification-btn-sec").height();$j(".notification-content").height(a-b-2*c-10),$j(".notification-content").find(".viewport").height($j(".notification-content").height()),$j(".notification-layer").find(".scrollbar1").tinyscrollbar(),$j(".notification-layer").hide(),$j(".notification-layer").css({left:$j(window).width()}),$j(".notification-layer").show(),showNotificationOverlay(),setTimeout(markNotificationsAsViewed,3e3)}function closeNotificationOverlay(){$j(".notification-layer").animate({left:$j(window).width()+"px"},200),setTimeout(function(){$j(".notification-layer").html("").hide(),$j("#shader").hide()},200)}function showNotificationOverlay(){$j("#shader").css({height:$j(document).height(),width:$j(window).width()}).show(),$j(".notification-layer").animate({display:"block",left:$j(window).width()-$j(".notification-layer").width()-3+"px"},200),$j("#shader").on("click",function(){closeNotificationOverlay()})}function openCloseAccordion(a){var b=$j(a).siblings();"closed"==$j(a).attr("state")?($j(a).attr("state","open").find("i").removeClass("notification-side-knob").addClass("notification-side-knob-dwn"),$j(b).slideDown(500,function(){})):($j(a).attr("state","closed").find("i").addClass("notification-side-knob").removeClass("notification-side-knob-dwn"),$j(b).slideUp(500,function(){})),setTimeout(function(){$j(".notification-layer").find(".scrollbar1").tinyscrollbar_update()},600)}function isScrolledIntoViewSticky(a){return $j(window).scrollTop()+$j(window).height()>$j(a).offset().top}function addRemoveFromCompare(a,b,c,d){if(isUserLoggedIn||"undefined"==typeof isComparePage||1!=isComparePage){if("undefined"!=typeof isComparePage&&1==isComparePage)return addCourseToComparePage(a,b),!1;var e=getCookie("compareCourses");e=void 0!=e&&""!=e?JSON.parse(e):{};var f=Object.keys(e).length;return void 0!=e[a]?removeCourseFromCompare(a,b,e):f<3?addCourseToCompare(a,b,e):alert("Oops! You can only compare maximum of 3 courses. Please remove a course before adding another one."),!0}compareCourseButtonClicked=!0;var g=null;if("old"==d)$j("#courseId").val(a),$j("#source").val(b);else var g={cId:a,srcno:b,tkey:c,rf:window.location.href,rftl:encodeURI($j("title").text())};loadSignUpFromLoginPage("compare",c,d,g)}function addCourseToCompare(a,b,c){c[a]=1,setCookie("compareCourses",JSON.stringify(c)),$j.ajax({url:"/studyAbroadCommon/compareCourses/trackCompareAddRemove?random="+Math.random(),type:"POST",async:!1,data:{courseId:a,source:b,action:"add"},success:function(b){addCourseToCompareAnimation(a)}})}function removeCourseFromCompare(a,b,c){delete c[a],setCookie("compareCourses",JSON.stringify(c)),$j.ajax({url:"/studyAbroadCommon/compareCourses/trackCompareAddRemove?random="+Math.random(),type:"POST",async:!1,data:{courseId:a,source:b,action:"remove"},success:function(b){removeCourseFromCompareAnimation(a)}})}function addCourseToCompareAnimation(a){return $j("#compare"+a).length>0&&$j("#compare"+a).attr("checked","checked").parent().children("label").children("p").html("Added to compare"),$j("#compareCourseButton").length>0&&$j("#compareCourseButton").children("span").html("Added to compare"),$j("#compareShortlist"+a).length>0&&$j("#compareShortlist"+a).attr("checked","checked").parent().children("label").children("p").html("Added to compare"),$j("#compareRMC"+a).length>0&&$j("#compareRMC"+a).attr("checked","checked").parent().children("label").children("p").html("Added to compare"),$j("#compareSearch"+a).length>0&&$j("#compareSearch"+a).attr("checked","checked").parent().children("label").children("p").html("Added to compare"),$j("#compareRMCSuccess"+a).length>0&&$j("#compareRMCSuccess"+a).attr("checked","checked").parent().children("label").children("p").html("Added to compare"),evaluateCompareLayer("add"),!0}function removeCourseFromCompareAnimation(a,b){return $j("#compare"+a).length>0&&$j("#compare"+a).removeAttr("checked").parent().children("label").children("p").html("Add to compare"),$j("#compareCourseButton").length>0&&$j("#compareCourseButton").children("span").html("Compare this course"),$j("#compareShortlist"+a).length>0&&$j("#compareShortlist"+a).removeAttr("checked").parent().children("label").children("p").html("Add to compare"),$j("#compareRMC"+a).length>0&&$j("#compareRMC"+a).removeAttr("checked").parent().children("label").children("p").html("Add to compare"),$j("#compareSearch"+a).length>0&&$j("#compareSearch"+a).removeAttr("checked").parent().children("label").children("p").html("Add to compare"),$j("#compareRMCSuccess"+a).length>0&&$j("#compareRMCSuccess"+a).removeAttr("checked").parent().children("label").children("p").html("Add to compare"),void 0!==b&&b===!0||evaluateCompareLayer("remove"),!0}function putAbroadComparedCoursesFromCookieToDB(){$j.ajax({url:"/studyAbroadCommon/compareCourses/putAbroadComparedCoursesFromCookieToDB?random="+Math.random(),async:!1,success:function(a){""!=a&&(a=JSON.parse(a),1==a.error&&alert(a.errorMsg))}})}function initializeCompareLayer(){Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),evaluateCompareLayer("init")}function evaluateCompareLayer(a){if("undefined"==typeof showCompareLayerPage||!showCompareLayerPage)return!1;var b="/studyAbroadCommon/compareCourses/getDataForCompareLayer?random="+Math.random();return $j.ajax({url:b,async:!1,success:function(c){if(""==c)return manageCompareLayerVisibility(a),!1;c=JSON.parse(c),$j("#compareCourseBottomLayer").replaceWith(c.html),manageCompareLayerVisibility(a);var d=$j(".compare-list").find(".comparedCourse").not("[value='']"),e=[];d.length>0&&($j(d).each(function(a,b){e.push($j(b).val())}),b="/studyAbroadCommon/compareCourses/getRecommendationsForComparedCourses?random="+Math.random(),$j.ajax({url:b,async:!0,data:{courseList:e},type:"POST",success:function(a){""==a?($j("#compareLayerRecommendations").removeClass("compare-suggestion-box"),$j("#recommendationDiv").hide(),$j("#compareCourseBottomLayer .compare-list li").length>1?$j("#lastCellDiv").show():$j("#compareCourseBottomLayer").hide()):($j("#compareLayerRecommendations").addClass("compare-suggestion-box"),$j("#recommendationDiv").show(),$j("#compareLayerRecommendations ul.sticky-suggestion-list").html(a),$j("#lastCellDiv").hide())}})),manageCompareLayerVisibility(a)}}),!0}function manageCompareLayerVisibility(a){var b=$j("#compareCourseBottomLayer"),c=getCookie("compareCourses"),d=0;if(isUserLoggedIn)$j(".img-remove-mark").length>0&&(d=2);else{if(""==c)return $j("#compareCourseBottomLayer").hide(),!0;c=JSON.parse(c),d=Object.keys(c).length}"init"==a&&($j("#compareCourseBottomLayer").hide(),d>0&&b.show().css({height:0}).animate({height:140},500,function(){})),"add"==a&&(1==d?b.show().css({height:0}).animate({height:140},500,function(){}):b.show()),"remove"==a&&(0==d?(b.show(),b.animate({height:0},500,function(){b.hide()})):b.show())}function clearCompareSelection(){$j.ajax({url:"/studyAbroadCommon/compareCourses/clearCompareSelection?random="+Math.random(),success:function(a){var b=JSON.parse(getCookie("compareCourses"));for(i in b)removeCourseFromCompareAnimation(i,!0);setCookie("compareCourses","{}"),setTimeout(function(){evaluateCompareLayer("remove")},1500)}})}function compareCoursesCatergoryPage(a,b,c){isUserLoggedIn&&ifSingleSignUpFormToBeShown(c)?sendToComparePage():(setCookie("compareButtonTrackingId",compareButtonTrackingId,1800,"seconds"),compareCourseButtonClicked=!0,loadSignUpFromLoginPage(a,b,c))}function sendToComparePage(a,b){var c="/comparepage",d=JSON.parse(getCookie("compareCourses"));if(Object.keys(d).length<2)return evaluateCompareLayer(),!0;for(i in d)c=c+"-"+i;var e=compareButtonTrackingId;""!=getCookie("compareButtonTrackingId")&&(e=getCookie("compareButtonTrackingId"),setCookie("compareButtonTrackingId","",-1)),b&&setCookie("compareRefUrl",base64_encode(b),1800,"seconds"),isNaN(parseInt(e))||$j.ajax({url:"/studyAbroadCommon/compareCourses/trackCompareButtonClick/"+e,type:"GET",async:!1,success:function(){}}),compareCookiePageTitle=a?base64_encode(a):compareCookiePageTitle,setCookie("compareRefTitle",compareCookiePageTitle,1800,"seconds"),window.location=c}function addCourseToComparePage(a,b,c){var d=checkUserComparedCourses();if(isUserLoggedIn&&3==d.length){var e=window.location.href+"-"+a;return window.location.href=e,!1}$j.ajax({url:"/studyAbroadCommon/compareCourses/trackCompareAddRemove?random="+Math.random(),type:"POST",async:!1,data:{courseId:a,source:b,action:"add"},success:function(b){if(""!=getCookie("compareCourses")){var f=JSON.parse(getCookie("compareCourses"));Object.keys(f).length<3&&(f[a]=1)}else if(!isUserLoggedIn||3!=d.length)var f={courseId:1};setCookie("compareCourses",JSON.stringify(f)),e=void 0!==c?c:window.location.href,e=e+"-"+a,window.location.href=e}})}function checkUserComparedCourses(){var a;return $j.ajax({url:"/studyAbroadCommon/compareCourses/getUserComparedCourses?random="+Math.random(),type:"POST",async:!1,success:function(b){a=JSON.parse(b)}}),a}function submitGNBSearchForm(){if("undefined"!=typeof pageTracker){var a=document.getElementById("seachTextBox").value,b=new TrackingError("GA tracking Started tracking for SA_SESSION_ABROAD_GNB/gnbSearch_"+a);logJSErrors(b),pageTracker._setCustomVar(2,"AbroadSessionVar","SA_SESSION_ABROAD_GNB/gnbSearch_"+a,2),pageTracker._trackEventNonInteractive("dummyTrackingCat","SA_SESSION_ABROAD_GNB/gnbSearch","gnbSearchText_"+a,0,!0);var b=new TrackingError("GA tracking Ended tracking for SA_SESSION_ABROAD_GNB/gnbSearch_"+a);logJSErrors(b)}return!0}function openFeedbackForm(){$j.ajax({type:"POST",url:"/listing/abroadListings/getFeedbackForm",data:{url:document.URL},async:!1,success:function(a){feedbackHTML=a,$j("#userFeedbackLayer").html(feedbackHTML),$j("#userFeedbackLayer").height(),$j("#userFeedbackLayer").css({"z-index":101,bottom:0,position:"fixed",right:0,left:"",height:"455px"}),$j("#userFeedbackLayer").hide()}}),showFeedbackLayer()}function submitFeedbackForm(){if(submitFlag)return!1;var a=$j("#feedback_email").val(),b=$j("#feedback_mobile").val(),c=$j("#feedback_email").attr("required"),d=$j("#feedback_comments").val(),e=$j("#session_id").val(),f=$j("#source_page_url").val(),g={feedback_email:a,feedback_mobile:b,feedback_comments:d,session_id:e,source_page_url:f},h=!1;if($j(".feedbackErrorMsg").hide(),""==trim(a)&&void 0!==c&&($j("#feedback_email_error").html("Please enter your email").show(),h=!0),""==trim(b)&&void 0!==c&&($j("#feedback_mobile_error").html("Please enter your mobile no.").show(),h=!0),""==trim(d)&&($j("#feedback_comments_error").html("Please enter the feedback").show(),h=!0),h)return $j("#userFeedbackLayer").css("height",isUserLoggedIn?"370":"490px"),hideFeedbackProgressLayer(),submitFlag=!1,!1;var i=validateEmail(a,$j("#feedback_email").attr("caption"),$j("#feedback_email").attr("maxlength")),j=validateStr(d,$j("#feedback_comments").attr("caption"),$j("#feedback_comments").attr("maxlength")),k=validateMobileInteger(b,$j("#feedback_mobile").attr("caption"),$j("#feedback_mobile").attr("maxlength"),$j("#feedback_mobile").attr("minlength"));if(1!=i||1!=j||1!=k)return $j(".feedbackErrorMsg").hide(),1!=k&&void 0!==c&&$j("#feedback_mobile_error").html(k).show(),1!=i&&void 0!==c?$j("#feedback_email_error").html(i).show():("HTML tags will be removed"==j&&(j="Please remove html tags."),$j("#feedback_comments_error").html(j).show()),submitFlag=!1,$j("#userFeedbackLayer").css("height",isUserLoggedIn?"370":"490px"),hideFeedbackProgressLayer(),!1;submitFlag=!0,$j(".feedbackErrorMsg").hide(),$j.ajax({type:"POST",url:"/listing/abroadListings/submitFeedback",data:g,success:function(a){result=JSON.parse(a);var b=0;b=parseInt(result)>0?1:0,getFeedbackThankYouMsg(b),hideFeedbackProgressLayer()}})}function hideFeedbackLayer(){var a=$j("#userFeedbackLayer").height();$j("#userFeedbackLayer").animate({height:"0px"},{complete:function(){$j("#userFeedbackLayer").hide()}}),$j("#userFeedbackLayer").height(a)}function showFeedbackLayer(){var a=0==$j("#feedback_email_error").length?375:455;$j("#userFeedbackLayer").css("height","0px"),$j("#userFeedbackLayer").show(),$j("#userFeedbackLayer").animate({height:a})}function getFeedbackThankYouMsg(a){$j("#feedbackMain").hide(),$j("#userFeedbackLayer").css("height","185px"),1==a?($j(".stu-helpline-sec").hide(),$j("#feedbackThanks").show()):($j(".stu-helpline-sec").hide(),$j("#feedbackError").show())}function showFeedbackProgressLayer(){$j("#AbroadAjaxLoaderFeedback").show()}function hideFeedbackProgressLayer(){$j("#AbroadAjaxLoaderFeedback").hide()}function enlargeFeedbackButton(a){$j(a).css("padding-bottom","12px")}function compressFeedbackButton(a){$j(a).css("padding-bottom","8px")}function studyAbroadTrackEventByGA(a,b,c,d,e){return void 0===c&&(c=""),void 0===d&&(d=0),void 0===e&&(e=!0),"undefined"!=typeof pageTracker&&pageTracker._trackEventNonInteractive(a,b,c,d,e),!0}function showHideSections(a,b){var c=["bachelors","masters","countryInformation","abroadExams","studyInIndia","otherLinks","popUnv"];$j("#left-tabs-section").find(".active").removeClass("active"),$j(b).addClass("active"),$j.each(c,function(b,c){c==a?$j("#"+a).fadeIn(600):$j("#"+c).hide()})}function obtainPostitionLeftPosition(a){return $j(a).position().left}function obtainPostitionTopPosition(a){return $j(a).position().top}function openLayer(a){$j("#menuNavigation").find(".active").removeClass("active"),$j("#bachelorMenuHeadingLayer").hide(),$j("#masterMenuHeadingLayer").hide(),$j("#countryInformationMenuHeadingLayer").hide(),$j("#abroadExamHeadingLayer").hide(),$j("#studyInIndiaMenuHeadingLayer").hide(),$j("#otherLinksMenuHeadingLayer").hide();var b=["bachelorMenuHeading","masterMenuHeading","countryInformationMenuHeading","abroadExamHeading","studyInIndiaMenuHeading","otherLinksMenuHeadingLayer"];"hometabStudyAbroadHeading"==a.id&&$j(a).addClass("active");for(i in b){var c=a.id+"Layer";if(a.id==b[i])if($j(a).addClass("active"),ddmenuitem=$j("#"+c).show(),b[i],"studyInIndiaMenuHeading"==this.id){var d=obtainPostitionTopPosition(a)+$j(a).height(),e=$j("#"+c).outerWidth(),f=$j("#"+a.id).width(),g=obtainPostitionLeftPosition(a)-e+f;$j("#"+c).css({top:d})}else{var d=obtainPostitionTopPosition(a)+$j(a).height();$j("#"+c).css({left:g,top:d})}else $j("#"+b[i]+"Layer").hide()}mySelection=a.id}function hideLayer(){ddmenuitem&&ddmenuitem.hide(),$j("#"+mySelection).removeClass("active")}function checkTime(){var a=this;myVar=setTimeout(function(){openLayer(a)},150)}function clearTime(){clearTimeout(myVar),hideLayer(),timer=0}function rmcButtonSubmit(a,b,c,d,e){ifSingleSignUpFormToBeShown("new",c)&&void 0!==c?$j.ajax({type:"post",data:{courseId:c},url:"/rateMyChances/getUserStageAndRmcCoursesAppliedToByCurrentUser",success:function(b){function f(){showRmcErrorMessagePopup(g.html),void 0!==e&&""!=e?$j("body").on("click",".signup-txtwidth a, #overLayCrossButton",function(){window.location.href=a}):0==isUserLoggedIn&&$j("body").on("click",".signup-txtwidth a, #overLayCrossButton",function(){window.location.reload()})}var g=JSON.parse(b),h=g.courses,i=g.stage;if(g.courseCount>=rmcUserLimitCount)return f(),!1;if(10==i)return f(),!1;var j=!0,k=!1;return $j.each(h,function(a,b){c==a&&(5==b?(f(),k=!0):(alert("You have already rated your chances on this course!"),j=!1))}),1!=k&&(j?(setCookie("rmcTrackingPageKey"+c,d,1),generateResponseForNewForm({trackingPageKeyId:d},"/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/course/"+c+"/rmcPage"),!0):(window.location.href=a,!1))}}):window.location="/signup"}function loadRMCForm(a){var b=JSON.parse(base64_decode(a));setDataForResponseInCookie(b),rmcButtonSubmit(b.url,b.pageTitle,b.courseId,b.trackingPageKeyId)}function showRmcErrorMessagePopup(a){$j("#rmcMsgBox").remove(),$j("body").append(a),showAbroadOverlay("rmcMsgBox","Rate my chances"),$j("#rmcMsgBox").remove()}function initializeTracking(){$j("#nav > ul > li").bind("mouseenter",checkTime),$j("#nav > ul > li").bind("mouseleave",clearTime)}function initializeCommonFunctionality(){$j("#feedbackLink").on("click",function(){openFeedbackForm()}),$j("#feedbackLink").on("mouseleave",function(){compressFeedbackButton(this)}),$j("#feedbackLink").on("mouseover",function(){enlargeFeedbackButton(this)}),$j("#left-tabs-section li a").on("click",function(){showHideSections($j(this).attr("sectionId"),this)}),"function"==typeof setCustomizedVariableForTheWidget&&(window.addEventListener?window.addEventListener("click",setCustomizedVariableForTheWidget,!1):window.attachEvent&&document.attachEvent("onclick",setCustomizedVariableForTheWidget)),"undefined"!=typeof isUserLoggedIn&&1==isUserLoggedIn&&fetchNotificationCount()}function initializeGAOnclick(){$j(document).on("click",".gaTrack",function(event){var params=$j(this).attr("gaParams");if(void 0!==params&&""!=params){if(params=params.split(","),params.length>5)return;params=params.join("','"),params="'"+params+"'",eval("studyAbroadTrackEventByGA("+params+")")}})}function automatedUrlScript(){var a="undefined"==typeof $j?$:$j;if("undefined"!=typeof ele&&""!=ele&&""!=ele.selector){if(_pushReport(),a.each(ele.selector,function(b,c){var d=a(c+" a[href]").length,e=ele.heading[b];_prepareHeading(e,b,d),a(c+" a[href]").each(function(c){var d=a(this).attr("href"),f=a(this).attr("track")?a(this).attr("track"):a(this).attr("data-type"),f=""==f||void 0===f?a(this).text().length>30?a(this).text().substr(0,30)+"...":a(this).text():f;a("#count_"+b).text(c+1),void 0!==d&&null==d.match(/javascript/gi)&&void 0!==f&&_doRequest(e,f,d,this)})}),"Main Wrapper"==ele.heading[0]){var b=0;totalUrl=parseInt(a("#_totalReq").text()),a("#_totalReq").text(totalUrl+parseInt(a("img[src], iframe[src]").length)),a("#_urlstatus").text("img-iframe Reading...")}else{var b="if";_prepareHeading("Img-Iframe",b,parseInt(a("img[src], iframe[src]").length))}if(a("img[src], iframe[src]").each(function(c){var d=a(this).prop("tagName").toLowerCase()+":src",e=a(this).attr("src"),f=a(this).attr("title")?a(this).attr("title"):a(this).attr("alt"),f=""!=f&&void 0!==f?f.length>20?f.substr(0,20)+"...:"+d:f+":"+d:d;a("#count_"+b).text(parseInt(a("#count_"+b).text())+1),void 0!==e&&null==e.match(/about:blank/gi)&&null==e.match(/data:image\/png/gi)&&void 0!==f&&_doRequest("Img-Iframe",f,e,this)}),"Main Wrapper"==ele.heading[0]){var b=0;totalUrl=parseInt(a("#_totalReq").text()),a("#_totalReq").text(totalUrl+parseInt(a("link[href], script[src]").length)),a("#_urlstatus").text("Link-script Reading...")}else{var b="ls";_prepareHeading("Link-Script",b,parseInt(a("link[href], script[src]").length))}a("link[href], script[src]").each(function(c){var d=a(this).prop("tagName").toLowerCase();d="link"==d?d+":href":d+":src";var e=a(this).attr("href")?a(this).attr("href"):a(this).attr("src"),f=a(this).attr("type")?a(this).attr("type"):a(this).attr("rel"),f=""!=f&&void 0!==f?f.length>20?f.substr(0,20)+"...:"+d:d+":"+f:d;a("#count_"+b).text(parseInt(a("#count_"+b).text())+1),void 0!==e&&null==e.match(/about:blank/gi)&&void 0!==f&&_doRequest("Main Wrapper",f,e,this)}),a("#_urlstatus").css({"margin-left":"43%",background:"greenyellow"}).text("Completed"),a("#_rpCbtn").on("click",function(){a("#reportURL, #reportBg").remove()}).show()}}function _doRequest(a,b,c,d){var e="undefined"==typeof $j?$:$j;e.ajax({url:"/common/automateUrl/getStatus",type:"POST",async:!1,data:{from:a,param:b,url:c,scheme:window.location.protocol,requestType:e(d).prop("tagName").toLowerCase()},success:function(a){""!=a&&(e("#reportURL, #reportBg").show(),e("#reportURL").append(a))}})}function _prepareHeading(a,b,c){var d="undefined"==typeof $j?$:$j,e='<div style="font-size: 15px;font-weight:bold;background:#eee;margin-left:12px;padding:5px;margin:5px 12px 10px"><span>'+a+' URL\'s </span><span style="margin-left:30px;"><span id="count_'+b+'">0</span> / <span id="_totalReq">'+c+"</span></span></div>";d("#_urlstatus").text(a+" Reading..."),d("#reportURL").append(e)}function _pushReport(){var a="undefined"==typeof $j?$:$j;a("#reportBg").show(),a('<div id="reportURL" style="background-color: rgb(255, 255, 255); width: 80%; display: block; float: none; top: 0px; left: 0px; z-index: 9999999; padding:20px; transform: translate(-50%); margin-left: 50%; position: fixed; margin-top: 3%;max-height:565px; overflow:auto;"><div style="padding: 0px 13px;font-size:16px;font-weight:bold;position: relative;top: -10px;">URL\'s Report - </div><div style="position: absolute; margin-left: 40%; top: 0px;padding: 4px 10px 6px; background: yellow none repeat scroll 0% 0%;font-size: 15px" id="_urlstatus"></div><a href="javascript:void(0);" id="_rpCbtn" style="display:none;float: right; padding: 0px 13px;top:-30px;position:relative;font-size: 20px;text-decoration:none;color:#000;" title="Close">X</a></div><div id="reportBg" style="display: block;position:fixed;background:rgba(0,0,0,0.4); width:100%; height:100%; z-index:999;top: 0px;bottom:0px;left:0px;right: 0px;"></div>').insertAfter("#footer")}function insertSignUpFormABTracking(a,b,c){if(useABTestAbroadSingleSignupForm){var d={};d.CTA=a,d.pageReferer=window.location.href,d.MISTrackingId=b,d.sourceApplication="desktop",d.formType=c,$j.ajax({url:"/studyAbroadCommon/signUpFormOption/insertSignUpFormABTracking",type:"POST",data:{trackingParams:d},success:function(a){}})}}function ifSingleSignUpFormToBeShown(a){var b=void 0!==arguments[1]?arguments[1]:0,c=!1,d={isAJAX:1};return 0!=b&&(d.courseId=b),"old"===a&&isUserLoggedIn===!0?c=!0:"new"===a&&$j.ajax({url:"/studyAbroadCommon/AbroadSignup/checkToShowSignupForAbroadUser",async:!1,type:"POST",data:d,success:function(a){a=JSON.parse(a),c=a!==!0}}),c}function setSingleSignupFormParamsCookie(a){"undefined"!=typeof isSignupThankYouPage&&1==isSignupThankYouPage&&(a.rf=customReferer,a.rftl=encodeURI(refererTitle)),setCookie("signUpFormParams",base64_encode(JSON.stringify(a)))}function loadHeaderSignUpForm(a,b,c){if(deleteSignupFormParamsCookie(),windowUnloadEntry(b,c),isUserLoggedIn===!1&&insertSignUpFormABTracking(a,b,c),"new"===c){setSingleSignupFormParamsCookie({tkey:b,rf:window.location.pathname,rftl:encodeURI($j("title").text())}),window.location="/signup"}else shikshaUserRegistration.showOneStepLayer("studyAbroad","",b)}function loadSignUpFromLoginPage(a,b,c,d){if(windowUnloadEntry(b,c),isUserLoggedIn===!1&&insertSignUpFormABTracking(a,b,c),"new"===c){if(void 0===d)var d={tkey:b,rf:window.location.pathname,rftl:encodeURI($j("title").text())};"compare"==a&&(d.rf=window.location.href),setSingleSignupFormParamsCookie(d),window.location="/signup"}else shikshaUserRegistration.showOneStepLayer("studyAbroad","",b)}function getResponseSource(a,b,c){var d="";return"course"!=a&&"department"!=a&&"university"!=a||(d=a+"_"),c?"response_abroad_mobile_."+d+b:"response_abroad_"+d+b}function setDataForResponseInCookie(a){var b=$j("title").text().replace(" | Shiksha.com","");setSingleSignupFormParamsCookie({cId:void 0!=a.courseId?a.courseId:null,uId:void 0!=a.courseId?null:a.universityId,tkey:a.trackingPageKeyId,srcpg:a.sourcePage,wdgt:a.widget,rf:window.location.pathname,rftl:encodeURI(b)})}function loadBrochureDownloadForm(a,b,c,d,e){var f=JSON.parse(base64_decode(a));if("new"===e&&setDataForResponseInCookie(f),ifSingleSignUpFormToBeShown(e,f.courseId)&&"new"==e&&void 0!==f.courseId){var g=getResponseSource(f.sourcePage,f.widget),b="/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/course/"+f.courseId+"/"+g,h={trackingPageKeyId:f.trackingPageKeyId};f.source=g,generateResponseForNewForm(h,b,f)}else isUserLoggedIn===!1&&insertSignUpFormABTracking(d,f.trackingPageKeyId,e),"new"===e?window.location="/signup":loadStudyAbroadForm(a,b,c,null)}function generateResponseForNewForm(a,b,c){showFullPageProgressLayer(),$j.ajax({url:b,type:"POST",data:a,success:function(a){if(hideFullPageProgressLayer(),a=JSON.parse(a),void 0!=a.status&&"success"==a.status){var b={listingTypeId:c.courseId,source:c.source};void 0!==a.brochureEmailInsertId?b.brochureEmailInsertId=a.brochureEmailInsertId:void 0!==a.tempLmsTableId&&(b.tempLmsTableId=a.tempLmsTableId),showSuccessPage("db",b)}else{if(void 0!==a.url)return setCookie("rmcShowSuccessPage","1",3600,"seconds"),window.location=a.url,!0;alert("Some error occurred. Please try again later.")}}})}function showSuccessPage(a,b){window.onbeforeunload=null,"db"==a?window.location.href="/thank-you-for-downloading-brochure?c="+base64_encode(JSON.stringify(b)):"dg"==a&&(window.location.href="/thank-you-for-downloading-guide?c="+base64_encode(JSON.stringify(b)))}function unloadSingleSignUpForm(a){if(useABTestAbroadSingleSignupForm&&(a||(a=$j("input#tracking_page_key").val()),a)){var b={};b.MISTrackingId=a,b.pageReferer=window.location.href,$j.ajax({url:"/studyAbroadCommon/signUpFormOption/updateUnloadData",type:"POST",data:{trackingParams:b},success:function(a){}})}}function windowUnloadEntry(a,b){useABTestAbroadSingleSignupForm&&(window.onbeforeunload=function(){"old"===b&&($j("#singleSignUpDownloadBrochureForm").is(":visible")||$j("#singleSignUpSaveCourseForm").is(":visible")||$j("#overlayContainer").is(":visible"))&&unloadSingleSignUpForm(a)})}function saveShortlistedCourse(a){var b="";b="categoryPage"==a.page?"/categoryList/AbroadCategoryList/updateShortListedCourse/"+a.shortlistCourseIdInSignUpProcess+"/add/categoryPageListing":"/listing/abroadListings/putShortListCouresFromCookieToDB/"+a.shortlistCourseIdInSignUpProcess,$j.ajax({type:"POST",url:b,data:{trackingPageKeyId:a.trackingPageKeyId},success:function(b){""!=b&&(window.location=a.pageReferrer)}})}function redirectToReferer(a,b){window.location=a+"?redirect="+base64_encode(JSON.stringify(b))}function deleteSignupFormParamsCookie(){setCookie("signUpFormParams","",-1)}function updateDraftComment(a,b,c){$j.ajax({url:"/blogs/SAContent/updateDraftComment",type:"POST",async:!1,data:{commentId:a,contentId:b,commentType:c},success:function(a){}})}function getElementPosition(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}}function serializeForm(a){if(a&&"FORM"===a.nodeName){var b,c,d=[];for(b=0;b<a.elements.length;b++)if(""!==a.elements[b].name)switch(a.elements[b].nodeName){case"INPUT":switch(a.elements[b].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"tel":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"checkbox":case"radio":a.elements[b].checked&&d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"file":}break;case"TEXTAREA":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"SELECT":switch(a.elements[b].type){case"select-one":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"select-multiple":for(c=a.elements[b].options.length-1;c>=0;c-=1)a.elements[b].options[c].selected&&d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].options[c].value))}break;case"BUTTON":switch(a.elements[b].type){case"reset":case"submit":case"button":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value))}}return"undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&(d=validateEducationFields(d)),d.join("&")}}function validateEducationFields(a){if(courseLevel=shikshaUserRegistrationForm[regFormId].getCurrentCourseLevel(),""==courseLevel)return a;for(var b=[],c=0;c<a.length;c++)fieldName=a[c].split("="),fieldName=fieldName[0],$j.inArray(fieldName,["graduationStream","graduationMarks","workExperience"])==-1?$j.inArray(fieldName,["currentClass","tenthBoard","tenthmarks","currentSchool"])==-1?b.push(a[c]):"UG"==courseLevel&&b.push(a[c]):"PG"==courseLevel&&b.push(a[c]);return b}function addAnEvent(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.call(a)}):a.addEventListener&&a.addEventListener(b,c,!1)}function vizurypixels(a,b){}function submitRequestEBrochureForm(){var a=window.jQuery("input[name=currentUrl]").val(),b=window.jQuery("input[name=referrer]").val(),c=window.jQuery("input[name=courseArray]").val(),d=window.jQuery("input[name=from_where]").val(),e=window.jQuery("input[name=login]").val(),f=window.jQuery("input[name=firstName]").val(),g=window.jQuery("input[name=lastName]").val(),h=window.jQuery("input[name=email]").val(),i=window.jQuery("input[name=mobile]").val(),j=window.jQuery("input[name=list]").val(),k=window.jQuery("input[name=institute_id]").val(),l=(window.jQuery("input[name=widget]").val(),window.jQuery("input[name=preferred_city_ml]").val()),m=window.jQuery("input[name=preferred_locality_ml]").val(),n=window.jQuery("input[name=action_type]").val();jQuery.ajax({url:"/muser5/MobileUser/request_validation/",type:"POST",data:{currentUrl:a,referralUrl:b,courseArray:c,user_email:h,from_where:d,login:e,user_first_name:f,user_last_name:g,user_mobile:i,list:j,preferred_city_dropdown:l,preferred_locality_dropdwon:m,pageName:"REQUEST-E-BROCHURE",institute_id:k,autoResponse:"0",action_type:n},success:function(b){var c=b.split("#");if("user_exit_in_db"==c[0]&&(window.jQuery("#submitBtn").removeAttr("disabled",""),window.jQuery("#mainError").html("User already exists."),window.jQuery("#error_user_password").parent().show(),window.jQuery("#user_forget_password_li").show(),status="user_exit_in_db"),"REQUEST-E-BROCHURE"==trim(c[0]))return setCookie("rebOnInsDetailPageStatus","true",30),void(window.location=trim(c[1]));setCookie("show_recommendation","yes",30),setCookie("recommendation_course",j,30),""!=base64_decode(a)?window.location=base64_decode(a):window.location.reload()},error:function(a){}})}function addMenteeData(a){jQuery.ajax({url:"mCampusAmbassador5/MentorController/addMenteeData",type:"POST",async:!1,data:{userId:a},beforeSend:function(){},success:function(a){"success"==a&&(setCookie("menteeData","",0,"seconds"),setCookie("openMenteeLayer",1,300,"seconds"))}})}function logActivityForStudyAbroadUserProfileSetting(){$j.ajax({url:"/shikshaApplyCRM/rmcPosting/logAccountSettingChangeActivityForUser",type:"POST",async:!1,success:function(a){}})}function pushCustomVariable(a){if("undefined"==typeof pageTracker||!pageTracker||!a)return!1;a.indexOf("_SESSION")>=0?pageTracker._setCustomVar(4,"GATrackingVariableNewSession",a,2):a.indexOf("_PAGELEVEL")>=0?pageTracker._setCustomVar(5,"GAPageLevelTracking",a,3):pageTracker._setCustomVar(3,"GATrackingVariableNew",a,1),pageTracker._trackEventNonInteractive("dummyTrackingCat",a,"dummyTrackingleb",0,!0)}function getJSWithVersion(a){var b="";return a in JSREVISIONS&&(b=JSREVISIONS[a]),a+JSVERSION+b+".js"}function enableElement(a){$(a)&&($(a).disabled=!1)}function disableElement(a){$(a)&&($(a).disabled=!0)}function upLoadJsOnDemand(a,b){var c=$("cvsJsIncludedOnPage").value;if(!$("cvsJsIncludedOnPage")||c.indexOf(a)==-1){c+=","+a,a=b?"//"+JSURL+"/public/js/"+getJSWithVersion(a):"//"+JSURL+"/public/js/"+a+".js";var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src",a),d.setAttribute("defer","defer"),document.body.appendChild(d),$("cvsJsIncludedOnPage").value=c}}function showConfirmation(a,b,c){hideOverlay(!1),overlayParent=$("ConfirmRegistration"),$("confirmdiv").style.display="",$("confirmdiv").innerHTML=c,$("genOverlayTitleCross_hack").style.display="none",showOverlay(300,100,null,overlayParent.innerHTML,!1),overlayParent.innerHTML="";var d=document.createElement("iframe");d.setAttribute("src","/public/conversion/conversion.html"),d.setAttribute("height",0),d.setAttribute("width",0),d.setAttribute("border",0),$("ConfirmRegistration").appendChild(d)}function hideConfirmationOverlay(){$("dim_bg").style.display="none",$("ConfirmRegistration").style.display="none",hideOverlay(!1),$("genOverlayTitleCross_hack").style.display="",dissolveOverlayHackForIE(),setNoScroll(),$("tyepeOfRegistration_ForAnA")&&"veryshort"==$("tyepeOfRegistration_ForAnA").value?($("tyepeOfRegistration_ForAnA").value="",completeAction("loginflagreg_ForAnA","loginactionreg_ForAnA")):completeAction("loginflagreg","loginactionreg")}function sendReqInfo(a){return 1==validateFields(a)&&(1!=$("cAgree").checked?($("cAgree_error").innerHTML="Please agree to Terms & Conditions.",$("cAgree_error").parentNode.style.display="inline",!1):($("cAgree_error").innerHTML="Please agree to Terms & Conditions.",$("cAgree_error").parentNode.style.display="none",!0))}function getCategoriesforRegistration(a,b){for(var c=getChilds(completeCategoryTree,1),d="",e=0;e<c.length;e++)d+='<option value ="'+c[e][0]+'">'+c[e][1]+"</>";void 0===b&&(b="categoryPlace"),$(b).innerHTML='<select class="normaltxt_11p_blk_arial fontSize_12p" name="board_id" id="board_id" style="width:150px;" tip="course_categories">'+d+"</select>"}function insertWbr(str,offSet){return str.replace(eval("/[^ ]{"+offSet+",}?/g"),"$&<wbr/>")}function randNum(){return Math.floor(1e6*Math.random())}function reloadCaptcha(a,b,c,d){randomkey=Math.floor(1e6*Math.random()),c=void 0!==c?c:100,d=void 0!==d?d:40,$(a).src=void 0===b?"/CaptchaControl/showCaptcha?width="+c+"&height="+d+"&characters=5&junk="+randomkey:"/CaptchaControl/showCaptcha?width="+c+"&height="+d+"&characters=5&junk="+randomkey+"&secvariable="+b}function emptyInnerHtml(a){$(a).innerHTML=""}function hideObject(a){$(a).style.display="none"}function camelCase(a){var b=new Array;b=a.split(" ");for(var c="",d=0;d<b.length;d++)c+=d<b.length-1?b[d].substring(0,1).toUpperCase()+b[d].substring(1,b[d].length).toLowerCase()+" ":b[d].substring(0,1).toUpperCase()+b[d].substring(1,b[d].length).toLowerCase();return c}function showDiv(a,b){try{for(i=0;i<a.length;i++)i==b?$(a[i]).style.display="block":$(a[i]).style.display="none"}catch(a){}}function clearDivsInnerHtml(a){try{for(i=0;i<a.length;i++)$(a[i]).innerHTML=""}catch(a){}}function validateFields(objForm){for(var returnFlag=!0,formElementsCount=0;formElementsCount<objForm.elements.length;formElementsCount++){var formElement=objForm.elements[formElementsCount];if(errorDiv=void 0,formElement.getAttribute("validate")){var methodName=formElement.getAttribute("validate"),textBoxContent=trim(formElement.value);if(formElement.getAttribute("validateSingleChar")&&"true"==formElement.getAttribute("validateSingleChar")){var newStr=textBoxContent.charAt(0).toUpperCase()+textBoxContent.substr(1);if("http://"==textBoxContent.substring(0,7)||"https://"==textBoxContent.substring(0,8))var newStr=textBoxContent;var allowedPattern=/([^A-Za-z0-9\/(\n)\r\t])\1+/gi,newStr1=newStr.replace(allowedPattern,"$1"),notAllowedPattern=/[\/]{2,}/gi,newStr2=newStr1.replace(notAllowedPattern,"//");formElement.value=newStr2,textBoxContent=trim(formElement.value)}textBoxContent=stripHtmlTags(textBoxContent);var flagForContent=!0;if(void 0!==formElement.type&&("select-one"==formElement.type||"select-multiple"==formElement.type))var flagForContent=!1;flagForContent&&(formElement.value=textBoxContent);var strictCheck=!1;if(formElement.getAttribute("validateSpecial")&&"strict"==formElement.getAttribute("validateSpecial")){var strictCheck=!0;textBoxContent=escape(textBoxContent)}strictCheck||(textBoxContent=textBoxContent.replace(/[(\n)\r\t\"\'\\]/g," "),textBoxContent=textBoxContent.replace(/[^\x20-\x7E]/g,""));var textBoxMaxLength=formElement.getAttribute("maxlength"),textBoxMinLength=formElement.getAttribute("minlength"),displayprop=formElement.style.display,caption;try{caption=formElement.getAttribute("caption")}catch(a){caption="field"}if(""==formElement.id)continue;if("validateCheckedGroup"==methodName?errorDiv=$(formElement.id.substring(0,formElement.id.length-1)+"_error"):(errorDiv=$(formElement.id+"_error"),"selected_course_listingPageTopLinks"!=formElement.id&&"selected_course_listingPageBottomNew"!=formElement.id||(errorDiv.style.display="block")),!checkRequired(formElement)||"none"==displayprop){"none"==displayprop&&(errorDiv.parentNode.style.display="none",errorDiv.innerHTML="");continue}if(void 0!==formElement.type&&"checkbox"==formElement.type&&(textBoxContent=formElement.checked),void 0!==formElement.type&&("checkbox"==formElement.type||"radio"==formElement.type)&&"validateCheckedGroup"==methodName){var eleName=formElement.getAttribute("name"),elemensCheck=document.getElementsByName(eleName);textBoxContent=!1;for(var i=0;i<elemensCheck.length&&!(textBoxContent=elemensCheck[i].checked);i++);}var isNationalUser=!0;if("mobile"!=formElement.name&&"quickMobile_ForCA"!=formElement.name||!document.getElementsByName("isdCode")||"91-2"==document.getElementsByName("isdCode")[0].value||(isNationalUser=!1),formElement.getAttribute("allowNA")&&"NA"==textBoxContent)validationResponse=!0;else for(var multipleValidateMethods=methodName.split(","),multipleValidateMethodCount=0,validateMethodName;validateMethodName=multipleValidateMethods[multipleValidateMethodCount++];){validateMethodName=trim(validateMethodName);var methodSignature=validateMethodName+'("'+textBoxContent+'", "'+caption+'", '+textBoxMaxLength+", "+textBoxMinLength+","+formElement.getAttribute("required")+","+isNationalUser+")";if("validateReviewFields"==validateMethodName){var reqFlag=0;"true"==formElement.getAttribute("required")&&(reqFlag=1),methodSignature=validateMethodName+'("'+textBoxContent+'", "'+caption+'", '+textBoxMaxLength+", "+textBoxMinLength+","+reqFlag+")"}if(validationResponse=eval(methodSignature),validationResponse!==!0)break}if(validationResponse!==!0)errorDiv.parentNode.style.display="inline",errorDiv.style.display="block",errorDiv.innerHTML=validationResponse,null===validateFieldsFocusElement&&(validateFieldsFocusElement=$(formElement.id)),returnFlag=!1;else if(errorDiv.parentNode.style.display="none",errorDiv.innerHTML="",$(formElement.id+"_reputationVal")&&0==parseInt($(formElement.id+"_reputationVal").innerHTML)&&"Comment"==caption&&(errorDiv.style.display="inline",errorDiv.innerHTML="You can not comment because you have zero Reputation Index.",returnFlag=!1),!checkProfanity(formElement,caption)){returnFlag=!1;continue}}else try{var caption=formElement.getAttribute("caption"),textBoxMaxLength=formElement.getAttribute("maxlength"),textBoxMinLength=formElement.getAttribute("minlength");if(textBoxMinLength=null==textBoxMinLength?0:textBoxMinLength,textBoxMaxLength=null==textBoxMaxLength?0:textBoxMaxLength,(formElement.value.length>textBoxMaxLength||formElement.value.length<textBoxMinLength)&&0!=formElement.value.length&&0!=textBoxMaxLength&&("text"==formElement.type||"textarea"==formElement.type)){errorDiv.parentNode.style.display="inline",errorDiv.innerHTML=textBoxMinLength==textBoxMaxLength?"Please fill the "+caption+" with "+textBoxMaxLength+" characters.":"Please fill the "+caption+" within the range of "+textBoxMinLength+" to "+textBoxMaxLength+" characters.",returnFlag=!1;continue}if(errorDiv.parentNode.style.display="none",!checkProfanity(formElement,caption)){returnFlag=!1;continue}}catch(a){}}try{null!==validateFieldsFocusElement&&(validateFieldsFocusElement.focus(),validateFieldsFocusElement=null)}catch(a){}return returnFlag}function checkProfanity(a,b){var c;try{c=a.getAttribute("profanity")}catch(a){c=!1}if(null==c||0==c)return!0;try{if(a.getAttribute("readonly")&&null!==a.getAttribute("readonly"))return!0}catch(a){}if(c=!0,"text"!=a.type&&"textarea"!=a.type)return!0;if(!c)return!0;var d=trim(a.value);a.value=d,d=d.replace(/[(\n)\r\t\"\']/g," "),d=d.replace(/[^\x20-\x7E]/g,"");var e=isProfane(d);if(e!==!1)try{return $(a.id+"_error").parentNode.style.display="inline",$(a.id+"_error").innerHTML="Please don't use objected words ("+e+") for the "+b,!1}catch(a){}else try{return $(a.id+"_error").innerHTML.indexOf("objected words")>-1&&($(a.id+"_error").parentNode.style.display="none",$(a.id+"_error").innerHTML=""),!0}catch(a){return!0}}function validateStr(a,b,c,d,e){if(document.getElementById("allCities")&&document.getElementById("allCities").checked&&"City"==b&&(a="1"),a=a.replace(/[^\x20-\x7E]/g,""),checkHtmlTags(a))return"HTML tags will be removed.";if(""==a.length)return"Please enter the "+b+".";if(a.length>c)return"Please use a maximum of "+c+" characters for "+b;if(a.length<d)return"The "+b+" must contain atleast "+d+" characters.";a=removeNewLineCharacters(a),a=a.toLowerCase();for(var f=a.split(" "),g=0;g<f.length;g++){if(f[g].length>32&&f[g].search(/(http|https)?(:\/\/)/)==-1)return b+" cannot contain any word exceeding 32 characters.";if(isRestrictedWord(f[g]))return!1}return!0}function validateReviewFields(a,b,c,d,e,f){if(a=a.replace(/[^\x20-\x7E]/g,""),checkHtmlTags(a))return"HTML tags will be removed.";if(0==e&&""!=a){if(a.length>c)return"Too long. You must write at max "+c+" characters.";if(a.length<d)return"Too short. You must write at least "+d+" characters.";a=removeNewLineCharacters(a),a=a.toLowerCase();for(var g=a.split(" "),h=0;h<g.length;h++){if(g[h].length>32&&g[h].search(/(http|https)?(:\/\/)/)==-1)return"You can't write any word exceeding 32 characters.";if(isRestrictedWord(g[h]))return!1}return!0}if(1==e){if(""==a.length)return"You cant leave this empty.";if(a.length>c)return"Too long. You must write at max "+c+" characters.";if(a.length<d)return"Too short. You must write at least "+d+" characters.";a=removeNewLineCharacters(a),a=a.toLowerCase();for(var g=a.split(" "),h=0;h<g.length;h++){if(g[h].length>32&&g[h].search(/(http|https)?(:\/\/)/)==-1)return"You can't write any word exceeding 32 characters.";if(isRestrictedWord(g[h]))return!1}return!0}return!0}function validateSecurityCode(a,b,c,d,e){return a.length>c?"Please enter the "+b+" as shown in the image.":!(a.length<d)||"Please enter the "+b+" as shown in the image."}function validateChecked(a,b,c,d){return"false"!=a||b}function validateCheckedGroup(a,b,c,d){return"false"!=a||"Please select one of "+b+"."}function validateSelect(a,b,c,d){return 0!=a.length||"Please select "+b+"."}function validateSelectForReviews(a,b,c,d){return 0!=a.length||"You cant leave this empty."}function validateEmailFile(a,b){var c=a.split(".");return"eml"==(c=c[c.length-1])||"txt"==c||"Please select valid "+b.getAttribute("caption")}function multipleSelect(a,b,c,d){return""!=a||"Please select "+b+"."}function removeNewLineCharacters(a){return a.indexOf("\r\n")!=-1?a=a.replace(/\r\n/g," "):a.indexOf("\r")!=-1?a=a.replace(/\r/g," "):a.indexOf("\n")!=-1&&(a=a.replace(/\n/g," ")),a}function isRestrictedWord(a){return!1}function changeEmail(a,b,c,d){var e=validateEmail(a,b,c,d);if(1!=e)return $("newemail_error").parentNode.style.display="inline",$("newemail_error").innerHTML=e,!1;var f=getXMLHTTPObject();f.onreadystatechange=function(){if(4==f.readyState){var b=f.responseText;if(reloadCaptcha("changeEmailCaptacha","seccodechangeemail"),"exists"==b&&($("newemail_error").innerHTML="Email you provided already exists.Please provide a valid email-id",$("newemail_error").parentNode.style.display="inline",$("changecapt_error").innerHTML="",$("changecapt_error").parentNode.style.display="none"),"same"==b&&($("newemail_error").innerHTML="You have provided your old email-id.Please give an alternate email-id if you wish to change it.",$("newemail_error").parentNode.style.display="inline",$("changecapt_error").innerHTML="",$("changecapt_error").parentNode.style.display="none"),1==b){$("newemail_error").innerHTML="Email changed successfully.Verification mail is sent to the email provided by you.Please verify your email to enjoy the benefits of shiksha.com.";setCookie("user",a+"|"+getCookie("user").split("|")[1]+"|pendingverification"),window.setTimeout(function(){window.location.reload()},5e3),$("newemail_error").parentNode.style.display="inline",$("changecapt_error").innerHTML="",$("changecapt_error").parentNode.style.display="none"}}"code"==b&&($("changecapt_error").innerHTML="Please enter the Security Code as shown in the image.",$("changecapt_error").parentNode.style.display="inline",$("newemail_error").innerHTML="",$("newemail_error").parentNode.style.display="none")};var g="/user/Userregistration/changeEmail/"+a+"/"+$("changeCapt").value;return f.open("POST",g,!0),f.setRequestHeader("Content-length",0),f.setRequestHeader("Connection","close"),f.send(null),!1}function validateDisplayName(a,b,c,d,e){var f=trim(unescape(a)),e=/^([A-Za-z0-9\s](,|\.|_|-){0,2})*$/;if(""==f||"Your Name"==f||"Your First Name"==f||"Your Last Name"==f)return"Please enter your "+b;if(f.length<d)return b+" should be atleast "+d+" characters.";if(f.length>c)return b+" cannot exceed "+c+" characters.";if(0==e.test(f))return"The "+b+" can not contain special characters.";textBoxContent=f.replace(/[(\n)\r\t\"\']/g," "),textBoxContent=f.replace(/[^\x20-\x7E]/g,""),textBoxContent.toLowerCase();var g=!1;if("undefined"==typeof blacklistWords&&(blacklistWords=new Array),blacklistWords)for(i=0;i<blacklistWords.length;i++)textBoxContent.indexOf(blacklistWords[i].toLowerCase())>=0&&(g=!0);return!g||"This username is not allowed."}function validateAlphabetic(a,b,c,d,e){var f=trim(a),e=/^[a-zA-Z]+$/;return""==f?"Please enter the "+b:f.length<d?b+" should be atleast "+d+" characters.":f.length>c?b+" cannot exceed "+c+" characters.":0!=e.test(f)||b+" should be alphabetic."}function validateStringCityValue(a,b,c,d,e){var f=trim(a),e=/^[a-zA-Z0-9\s_-]+$/;return""==f?"Please enter the "+b:f.length<d?b+" should be atleast "+d+" characters.":f.length>c?b+" cannot exceed "+c+" characters.":0!=e.test(f)||b+" can not contain special characters."}function validateStringColumnNames(a,b,c,d,e){var f=a,e=/^([A-Za-z0-9\s,&_\-'\/%?.)])*$/;return""==f?"Please enter the "+b:f.length<d?b+" should be atleast "+d+" characters.":f.length>c?b+" cannot exceed "+c+" characters.":0!=e.test(f)||b+" can not contain special characters except ,&-/_%'.?"}function validateUrl(a,b){var c=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w!#]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w\[\]\|`<>:{}!\^\*\(\)\/]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/;return""==a?"Please enter the "+b+".":!!c.test(a)||"Please enter "+b+" in correct format."}function validateInteger(a,b,c,d){return 0==a.toString().length&&0==d||(/^(\d)+$/.test(a)?(d=void 0!=typeof d?d:0,c=void 0!=typeof c?c:a.toString().length,!(a.toString().length>c||a.toString().length<d)||(c!==d?"Please fill the "+b+" with "+d+" to "+c+" digits.":"Please fill the "+b+" with "+c+" digits.")):"Please fill the "+b+" with correct numeric value")}function validateFloat(a,b,c,d){return 0==a.toString().length&&0==d||(isNaN(a)?"Please fill the "+b+" with correct numeric value":(d=void 0!=typeof d?d:0,c=void 0!=typeof c?c:a.toString().length,!(a.toString().length>c||a.toString().length<d)||(c!==d?"Please fill the "+b+" with "+d+" to "+c+" digits":"Please fill the "+b+" with "+c+" digits")))}function validateLandlineInteger(a,b,c,d,e){var f=/^(\d)+$/;return""!=a?f.test(a)?c==d&&(a.length>c||a.length<d)?"The "+b+" must have "+c+" digits only":a.length<d?"The "+b+" must contain minimum "+d+" digits":!(a.length>c)||"The "+b+" can contain maximum "+c+" digits":"Please enter your correct "+b:""!=a||!e||"Please enter your contact number"}function validateMobileInteger(a,b,c,d,e,f){var g=/^(\d)+$/;return void 0===f&&(f=!0),""!=a?g.test(a)?f&&9!=a.substr(0,1)&&8!=a.substr(0,1)&&7!=a.substr(0,1)?"The Mobile number can start with 9 or 8 or 7 only.":c==d&&(a.length>c||a.length<d)?"The Mobile number must have "+c+" digits only":a.length<d?"The Mobile number must contain minimum "+d+" digits":!(a.length>c)||"The Mobile number can contain maximum "+c+" digits":"Please enter your correct "+b:""!=a||!e||"Please enter your "+b}function validateEnterpriseMobileNumber(a,b,c,d,e){var f=document.getElementById("mobile"),g="";return f&&(g=f.value),document.getElementById("country")&&"2"==document.getElementById("country").value?validateMobileInteger(g,b,c,d,e):validateAbroadMobileNumber(g,b,c,d)}function validateAbroadMobileNumber(a,b,c,d){return 0==a.toString().length&&0==d||(d=void 0!=typeof d?d:0,c=void 0!=typeof c?c:a.toString().length,a.toString().length>c||a.toString().length<d?c!==d?"Please fill the "+b+" with "+d+" to "+c+" digits":"Please fill the "+b+" with "+c+" digits":!!/^[+][\d\+\-\(\)]+$/.test(a)||"Please fill the "+b+" with correct format")}function validateZip(a,b,c,d){return/^(\d)+$/.test(a)?!(a.length>c||a.length<d)||"Please fill the field with valid zip/pincode 5-6 digits.":"Please fill the field with correct numeric value"}function validateDate(a,b,c){if(""==a)return"Please enter the "+b;if(!validateStr(a,10))return"Please enter date in correct format of yyyy-mm-dd";var d=a.split("-");if(d.length<3)return"Please enter date in correct format of yyyy-mm-dd";var e=d[0],f=d[2],g=d[1];return 1==validateInteger(e,4)&&1==validateInteger(f,2)&&1==validateInteger(g,2)||"Please enter date in correct format of yyyy-mm-dd with all the values as numbers"}function validateStartDate(){var a=$("start_date").value,b=validateDate(a,$("start_date").getAttribute("caption"),$("start_date").getAttribute("maxLength"));return b===!0?($("start_date_error").innerHTML="",!0):($("start_date_error").parentNode.style.display="block",$("start_date_error").innerHTML=b,b)}function validateEndDate(a,b,c){var d=validateDate(a,b,c),e=$("start_date").value;if(validateStartDate()!==!0&&!$("end_date").getAttribute("required"))return"";if(d===!0){var f=e.split("-"),g=a.split("-");f[1]=0==f[1].indexOf("0")?f[1].replace("0",""):f[1],g[1]=0==g[1].indexOf("0")?g[1].replace("0",""):g[1],f[2]=0==f[2].indexOf("0")?f[2].replace("0",""):f[2],g[2]=0==g[2].indexOf("0")?g[2].replace("0",""):g[2];var e=new Date(parseInt(f[0]),parseInt(f[1])-1,parseInt(f[2])),h=new Date(parseInt(g[0]),parseInt(g[1])-1,parseInt(g[2])),i=864e5,j=Math.ceil((h.getTime()-e.getTime())/i);return j>=0?!(j>365)||"The difference between End date and Start date should not be more than 365 days.":"End date should be greater than Start Date"}return d}function validateTime(a,b,c){var d=a.split(":");if(""==a)return"Please enter the "+b;if(d.length<2)return"Please enter the "+b+" in correct format of hh:mm";var e=d[0],f=d[1];return 1!=validateInteger(e,2)||1!=validateInteger(f,2)?"Please enter the "+b+" in correct format of hh:mm":parseInt(e)>12||parseInt(e)<0&&0!=e.indexOf(0)?"Please enter the "+b+" in correct format of hh:mm with all the values in numbers":!(parseInt(f)>59||parseInt(f)<0&&0!=f.indexOf(0))||"Please enter the "+b+" in correct format of hh:mm with all the values in numbers"}function validateEndTime(a,b,c){var d=validateTime(a,b,c);if(""!=$("end_date_error").innerHTML)return"";if(d===!0){if($("start_date").value==$("end_date").value||""==$("end_date").value){var e=$("start_time").value,f=$("startTimeStampAM").checked?$("startTimeStampAM").value:$("startTimeStampPM").value,g=$("endTimeStampAM").checked?$("endTimeStampAM").value:$("endTimeStampPM").value,h=$("end_time").value,i=e.split(":"),j=h.split(":"),k=i[0].indexOf("0")>0?i[0]:i[0].replace("0",""),l=j[0].indexOf("0")>0?j[0]:j[0].replace("0","");return k=parseInt(k)+parseInt(f),l=parseInt(l)+parseInt(g),k>=l?"Please enter the End time greater than Start time":($("end_time_error").innerHTML="",!0)}return!0}return d}function checkDisAllowedWord(a){a=a.replace(/[^\x20-\x7E]/g,"");var b=base64_decode("bWVyYWNhcmVlcmd1aWRlfG1lcmFjYXJlZXJndWlkfHJlYWNoQGluZHJhaml0LmlufHd3dy5pbmRyYWppdC5pbnwwOTgxMDIyNTExNA=="),c=new RegExp(b,"i"),d=c.exec(a);return null==d||d}function isProfane(str){var responseValue=checkDisAllowedWord(str);if(responseValue!==!0)return responseValue;for(var profaneWordsBag=eval(base64_decode("WyJzdWNrIiwiZnVjayIsImRpY2siLCJwZW5pcyIsImN1bnQiLCJwdXNzeSIsImhvcm55Iiwib3JnYXNtIiwidmFnaW5hIiwiYmFiZSIsImJpdGNoIiwic2x1dCIsIndob3JlIiwid2hvcmlzaCIsInNsdXR0aXNoIiwibmFrZWQiLCJpbnRlcmNvdXJzZSIsInByb3N0aXR1dGUiLCJzZXgiLCJzZXh3b3JrZXIiLCJzZXgtd29ya2VyIiwiYnJlYXN0IiwiYnJlYXN0cyIsImJvb2IiLCJib29icyIsImJ1dHQiLCJoaXAiLCJoaXBzIiwibmlwcGxlIiwibmlwcGxlcyIsImVyb3RpYyIsImVyb3Rpc20iLCJlcm90aWNpc20iLCJsdW5kIiwiY2hvb3QiLCJjaHV0IiwibG9yYSIsImxvZGEiLCJyYW5kIiwicmFuZGkiLCJ0aGFyYWsiLCJ0aGFyYWtpIiwidGhhcmtpIiwiY2hvZCIsImNob2RuYSIsImNodXRpeWEiLCJjaG9vdGl5YSIsImdhYW5kIiwiZ2FuZCIsImdhbmR1IiwiZ2FhbmR1IiwiaGFyYWFtaSIsImhhcmFtaSIsImNodWRhaSIsImNodWRuYSIsImNodWR0aSIsImJhZGFuIiwiY2hvb2NoaSIsInN0YW4iLCJuYW5naSIsIm5hbmdhIiwibmFuZ2UiLCJwaHVkZGkiLCJmdWRkaSIsImxpZmVrbm90cyIsIjA5ODEwMTEyOTU0IiwiYWJpZGphbiIsInNpZXJyYS1MZW9uZSIsInNlbmVnYWwiLCJzaWVycmEgbGVvbmUiLCJsdWNreSBtYW4iLCJzaXJhIiwibWFkaGFyY2hvZCIsInRoYWJvIiwiZnVja2VkIiwiZnVja2luZyIsInB1YmxpYyBzaXRlIiwiRGFrdSIsInByaXZhdGUgbWFpbCIsInByaXZhdGUgbWFpbGJveCIsInNleHkiLCJqb2JzIHZhY2FuY2llcyIsIm9tbmkgY2l0eSIsImJhc3R1cmQiLCJqZWhhZCIsInRlbmRlcm5lc3MgY2FyZSIsIm1lcmFjYXJlZXJndWlkZS5jb20iLCJtZXJhY2FyZWVyZ3VpZGUiXQ==")),words=str.split(" "),wordsCount=0;wordsCount<words.length;wordsCount++)for(var profaneWordsCount=0;profaneWordsCount<profaneWordsBag.length;profaneWordsCount++)if(words[wordsCount]==profaneWordsBag[profaneWordsCount])return profaneWordsBag[profaneWordsCount];return!1}function fillProfaneWordsBag(){return!1}function validatepassandconfirmpass(a,b){return""==trim($(b).value)?($(b+"_error").innerHTML="Please re-enter your password specified above",$(b+"_error").parentNode.style.display="inline",!1):$(a).value!=$(b).value?""!=$(b).value?($(b+"_error").innerHTML="Password and confirm password should match",$(b+"_error").parentNode.style.display="inline",!1):($(b+"_error").innerHTML="Please enter the password again",$(b+"_error").parentNode.style.display="inline",!1):($(b+"_error").innerHTML="",$(b+"_error").parentNode.style.display="none",!0)}function selectMultiComboBox(a,b){for(var c=0;c<a.options.length;c++){a.options[c].selected=!1;for(var d=0;d<b.length;d++)if(a.options[c].value==b[d]){a.options[c].selected=!0;break}}return!0}function truncateString(a,b){return a=trim(a),a.length>b&&(a=a.substr(0,b-3),a+="..."),a}function getCategoryCombo(categoryTreeRoot,categoryIndex){var catCount,categoryTree=eval(categoryTreeRoot[categoryIndex]),innerHTMLCategory="",otherCategoryHTML="";catCount++;for(var cat in categoryTree){var typeVar=typeof categoryTree[cat];if("object"==typeVar)getCategoryCombo(categoryTree,cat);else if("string"==typeVar){var categoryText=categoryTree[cat],categoryProperties=categoryText.split("<=>"),categoryID=categoryProperties[0],categoryName=trim(categoryProperties[1]);"Other"==categoryName.substring(0,5)?otherCategoryHTML+='<option value="'+categoryID+'">'+categoryName+"</option>":innerHTMLCategory+='<option value="'+categoryID+'">'+categoryName+"</option>"}}""!==innerHTMLCategory&&(innerHTMLCategory+=otherCategoryHTML,"All"==categoryIndex?categoryCombos[categoryComboCount]='<span id="'+categoryIndex+'" style="display:inline"><select style="font-size:11px;" onChange="showSubCatgory(this);"><option value="">--Select--</option>'+innerHTMLCategory+"</selct></span>":(categoryCombos[categoryComboCount]='<span id="catCom'+categoryComboCount+'" style="display:none"><select style="font-size:11px;" onChange="updateCategoryForForm(this.value);createCategoryCrumb(this,0);"><option value="">-- Select Sub Category --</option>'+innerHTMLCategory+"</selct></span>",categoryComboCount++))}function showSubCatgory(a){for(var b=0;b<a.options.length;b++)$("catCom"+b)&&(b==a.selectedIndex-1?$("catCom"+b).style.display="inline":$("catCom"+b).style.display="none");updateCategoryForForm(a.value),createCategoryCrumb(a,1)}function updateCategoryForForm(a){$("board_id").value=a}function createCategoryCrumb(a,b){var c=a[a.selectedIndex].innerHTML;if($("categoryCrumb"))if(1==b)$("categoryCrumb").value=c;else{var d=$("categoryCrumb").value.split("-");$("categoryCrumb").value=d[0],$("categoryCrumb").value=$("categoryCrumb").value+"-"+c}}function createCategoryCombo(a,b){if($(b).innerHTML="",!isNaN(a.selectedIndex)&&a.selectedIndex>-1){a.options[a.selectedIndex].innerHTML;getCategoryCombo(categoryTreeMain.Root,"All");for(var c=categoryCombos.length-1;c>=0;c--)$(b).innerHTML+=categoryCombos[c]}categoryCombos=new Array,categoryComboCount=0}function updateCluster(a){for(var b=0;b<a.length;b++){var c=a[b].categoryId,d=a[b].categoryCount;$("categoryLabel_"+c)&&($("categoryLabel_"+c).innerHTML+="<count>("+d+")</count>")}return""}function CountryChanged(){for(var a=document.getElementsByTagName("count"),b=0;b<a.length;b++){a[b].parentNode.removeChild(a[b])}startOfCreateEventList()}function getWindowHeight(){var a=0;return"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight),a}function setContent(a){if($){var b=getWindowHeight();if(b>0){var c=$(a),d=c.offsetHeight;b-d>0&&(c.style.top=b/2-d/2+"px")}}}function createLocationCrumb(a,b,c,d){if(void 0===d&&(d=$("cities")),$("locationCrumb")){var e=a[a.selectedIndex].innerHTML;$("locationCrumb").value=e+"-"+b,selectComboBox(d,c)}}function checkCourse(courseElement,callMethod){var otherCourseElement=$(courseElement.id+"_other");otherCourseElement.value="","-1"==courseElement.value?showElement(otherCourseElement):hideElement(otherCourseElement),void 0!==callMethod&&""!=callMethod&&(courseElement?eval(callMethod+"("+courseElement.value+',"'+courseElement.id+'")'):eval(callMethod+"("+courseElement.value+")"))}function showElement(a){a&&(a.style.display="",a.style.display="inline")}function hideElement(a){a&&(a.style.display="",a.style.display="none")}function getExperience(a,b,c){var d=$(a);c=!!c&&c,createExpDropDown(ExpList[2],d,c)}function createExpDropDown(a,b,c){var d=0;a&&(d=d.length),b.innerHTML="";var e=document.createElement("option");e.value="",1!=c&&1!=c||(e.innerHTML="Select",e.title="Select"),b.appendChild(e);for(var f in a)e=document.createElement("option"),e.value=f,e.innerHTML=getSmString(a[f],30),e.title=a[f],b.appendChild(e);b.style.display="inline"}function getCoursesForInstitute(suffix){var collegeDropDownId="colleges",courseDropDownId="courses";if(void 0!==suffix&&""!=trim(suffix)&&(collegeDropDownId="colleges"+suffix,courseDropDownId="courses"+suffix),$(courseDropDownId)){var courseDDObj=$(courseDropDownId),instituteId=$(collegeDropDownId).value,xmlHttp=getXMLHTTPObject();if(xmlHttp.onreadystatechange=function(){if(4==xmlHttp.readyState){var courses=eval("eval("+xmlHttp.responseText+")");createCourseDropDown(courses,courseDDObj)}},!instituteId)return!1;var url="/rating/Rating/getCoursesForInstitute/1/"+instituteId+"/"+randNum();xmlHttp.open("POST",url,!0),xmlHttp.setRequestHeader("Content-length",0),xmlHttp.setRequestHeader("Connection","close"),xmlHttp.send(null)}}function showcommonOverlay(a,b,c){if("none"!=$("commonOverlay").style.display&&hidecommonOverlay(),"none"==$("commonOverlay").style.display){if(attachOutMouseClickEventForPage($("commonOverlay"),"closeCatCountWidget()"),$("allCountryContainer").style.display="none",$("commonListContainer").style.height=300,"cities"==b){var d=obtainPostitionX($("Changecity"));d=d<130?obtainPostitionX(a):obtainPostitionX(a)-130,$("commonOverlay").style.left=d+"px"}else $("commonOverlay").style.left=obtainPostitionX(a)-0+"px";switch($("commonOverlay").style.top=obtainPostitionY(a)+25+"px",overlayHackLayerForIE("commonOverlay",$("commonOverlay")),$("commonOverlay").style.zIndex=parseInt($("commonOverlay").style.zIndex)+10,$("commonOverlay").style.display="block",b){case"category":$("countryList").style.display="none",$("cityList").style.display="none",$("parentcategoryList").style.display="none",$("countrycityList").style.display="none",$("categoryList").style.display="block",$("examcategoryList").style.display="none",parseInt($("categoryList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("categoryList").offsetHeight)+30+"px");break;case"parentcategory":$("countryList").style.display="none",$("cityList").style.display="none",$("parentcategoryList").style.display="block",$("countrycityList").style.display="none",$("categoryList").style.display="none",$("examcategoryList").style.display="none",parseInt($("parentcategoryList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("parentcategoryList").offsetHeight)+30+"px");break;case"country":void 0!==c&&1==c&&($("allCountryContainer").style.display=""),$("countryList").style.display="block",$("cityList").style.display="none",$("parentcategoryList").style.display="none",$("countrycityList").style.display="none",$("categoryList").style.display="none",$("examcategoryList").style.display="none",parseInt($("countryList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("countryList").offsetHeight)+30+"px");break;case"cities":$("countryList").style.display="none",$("cityList").style.display="block",$("parentcategoryList").style.display="none",$("countrycityList").style.display="none",$("categoryList").style.display="none",$("examcategoryList").style.display="none",parseInt($("cityList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("cityList").offsetHeight)+30+"px");break;case"countrycity":$("categoryList").style.display="none",$("countryList").style.display="none",$("cityList").style.display="none",$("parentcategoryList").style.display="none",$("examcategoryList").style.display="none",$("countrycityList").style.display="block",parseInt($("countrycityList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("countrycityList").offsetHeight+30)+"px");break;case"examcategory":$("categoryList").style.display="none",$("countryList").style.display="none",$("cityList").style.display="none",$("parentcategoryList").style.display="none",$("countrycityList").style.display="none",$("examcategoryList").style.display="block",parseInt($("examcategoryList").offsetHeight)<300&&($("commonListContainer").style.height=parseInt($("examcategoryList").offsetHeight+30)+"px")}}}function hidecommonOverlay(){isUserLoggedIn||""==getCookie("user")?($("commonOverlay").style.display="none",dissolveOverlayHackForIE()):window.location.reload()}function createInstituteDropDown(a,b){b.innerHTML="";var c=0;if(a)for(;c<a.length;c++){var d=document.createElement("option");d.value=a[c].instituteID,d.innerHTML=getSmString(a[c].instituteName,50),d.title=a[c].instituteName,b.appendChild(d)}var d=document.createElement("option");return d.value=-1,d.innerHTML="Other",b.appendChild(d),0===c?(updateCourses(-1,b.id),!1):(b.style.display="inline",!0)}function createCourseDropDown(a,b){if(!b)return!1;b.style.display="none",b.innerHTML="";for(var c=0;c<a.length;c++){var d=document.createElement("option");d.value=a[c].courseID,d.innerHTML=getSmString(a[c].courseName,50),d.title=a[c].courseName,b.appendChild(d)}var d=document.createElement("option");d.value=-1,d.innerHTML="Other",b.appendChild(d),0===c?updateCourses(-1,b.id):b.style.display="inline"}function updateInstitutes(a,b){var c=$(b),d=$(b+"_other");if(!d||!c)return!1;d.value="",a<0?(hideElement(c),showElement(d)):(showElement(c),hideElement(d)),updateCourses(a,b)}function updateCourses(a,b){var c=$(b),d=$(b+"_other");if(!d||!c)return!1;d.value="",a<0?(hideElement(c),showElement(d)):(showElement(c),hideElement(d))}function loadOverlay(fileName,overlayName,functionName){var j=0;arr=new Array;for(var i=3;i<arguments.length;i++)arr[j]=arguments[i],j++;if(null===$(overlayName)){var xmlHttp=getXMLHTTPObject(),re=new RegExp("/","g"),fileName=fileName.replace(re,"-");xmlHttp.onreadystatechange=function(){if(4==xmlHttp.readyState&&""!=trim(xmlHttp.responseText)){var response=xmlHttp.responseText,divElement=document.createElement("div");divElement.innerHTML=response,document.getElementsByTagName("body")[0].appendChild(divElement),eval(functionName).apply(this,arr)}};var url="/common/loadOverlayContent/"+fileName;return xmlHttp.open("POST",url,!0),xmlHttp.send(null),!1}}function hideaddRequestOverlay(){!isUserLoggedIn&&""!=getCookie("user")||$j("#ask_ana_question")&&$j("#ask_ana_question").length>0?window.location.reload():(hideaddRequestOverlayWithoutRefresh(),1==$("refreshFlag").value&&window.location.reload())}function hideaddRequestOverlayWithoutRefresh(){return $("dim_bg").style.display="none",$("addRequestOverlay").style.display="none",dissolveOverlayHackForIE(),setNoScroll(),!1}function loginScript(a,b,c,d,e){upLoadJsOnDemand("md5",!1),document.getElementsByTagName("head").item(0).appendChild(script);var d=$(d).value,f=$(e).value;if(""==d||""==f)return void b("Error");var g=f,h=getXMLHTTPObject();h.onreadystatechange=function(){4==h.readyState&&b(h.responseText,c)};var i="email="+d+"&password="+g;h.open("POST",a,!0),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.setRequestHeader("Content-length",i.length),h.send(i)}function getElementsByClassName(a,b,c){for(var d="*"==b&&a.all?a.all:a.getElementsByTagName(b),e=new Array,c=c.replace(/\-/g,"\\-"),f=new RegExp("(^|\\s)"+c+"(\\s|$)"),g=0;g<d.length;g++){var h=d[g];f.test(h.className)&&e.push(h)}return e}function noOfSelectedOptions(a){for(var b=0,c=0;a.options[c];c++)1==a.options[c].selected&&b++;return b}function getCategories(a,b,c,d,e,f,g){var h="";h=void 0===f?'tip="course_categories"':'tip="'+f+'"',void 0===g&&(g=""),void 0===e&&(e=!1),void 0===b&&(a?(b="categoryPlace",c="board_id",d="board_id"):(b="c_categories_combo",c="c_categories",d="c_categories"));var i=getChilds(completeCategoryTree,1);12!=i[0][1]&&i.sort();for(var j="",k=0;k<i.length;k++)j+='<optgroup label="'+i[k][0]+'" title = "'+i[k][0]+'" />',j+=getChildString(i[k][1],e);a?(j='<option value="">Select a Sub-Category</option>'+j,$(b).innerHTML="forBanners"!=g?'<select class="normaltxt_11p_blk_verdana" name="'+c+'" id="'+d+'" style="width:296px;" '+h+' caption="Category" required="true" validate="validateSelect">'+j+"</select>":'<select name="'+c+'" id="'+d+'" style="display:none" caption="subcategory">'+j+"</select>"):$(b).innerHTML='<select name="'+c+'[]" id="'+d+'" size="10" multiple ifvalidate="validateCatCombo" minlength="1" maxlength="10" style="width:296px;" '+h+" >"+j+"</select>"}function getChildString(a,b){for(var c="",d=getChilds(completeCategoryTree,a),e="",f=0;f<d.length;f++){var g=d[f][0];b?"Other"!=g.substring(0,5)?c+='<option value="'+d[f][1]+"-"+a+'" title = "'+d[f][0]+'">'+d[f][0]+"</option>":e='<option value="'+d[f][1]+"-"+a+'" title = "'+d[f][0]+'">'+d[f][0]+"</option>":"Other"!=g.substring(0,5)?c+='<option value="'+d[f][1]+'" title = "'+d[f][0]+'">'+d[f][0]+"</option>":e='<option value="'+d[f][1]+'" title = "'+d[f][0]+'">'+d[f][0]+"</option>"}return c+=e}function getChilds(a,b){var c=new Array;for(catId in a)a[catId][1]==b&&c.push(new Array(a[catId][0],catId));return c}function textKey(a){supportsKeys=!0,calcCharLeft(a)}function calcCharLeft(a){var b=!1,c=1e3;try{a.getAttribute("maxlength")&&(c=parseInt(a.getAttribute("maxlength")))}catch(a){}var d,e=trim(a.value);return e.length>c?(a.value=e.substring(0,c),d=c,b=!0):d=e.length,$(a.id+"_counter").innerHTML=d,b}function addOnFocusToopTip(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b];c.getAttribute("tip")&&("radio"!=c.type&&"checkbox"!=c.type&&"select"!=c.tagName||"OnlineForm"!=a.id?c.onfocus=showTip:c.onmouseover=showTip)}}function addOnFocusToopTipOnline(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b];c.getAttribute("tip")&&("radio"!=c.type&&"checkbox"!=c.type&&"select"!=c.tagName||"OnlineForm"!=a.id?c.onfocus=showTipOnline:c.onmouseover=showTipOnline)}}function addOnBlurValidate(objForm){for(var formElementsCount=0;formElementsCount<objForm.elements.length;formElementsCount++){var formElement=objForm.elements[formElementsCount];formElement.getAttribute("validate")||formElement.getAttribute("blurMethod")||formElement.getAttribute("blurmethod")?("radio"!=formElement.type&&"checkbox"!=formElement.type&&"select"!=formElement.tagName||"OnlineForm"!=objForm.id||(formElement.onmouseout=function(){try{hidetip()}catch(a){}}),formElement.onblur=function(){try{hidetip()}catch(a){}if("OnlineForm"==objForm.id&&"file"!=this.type&&("validateDisplayName"==this.validate||"validateStr"==this.validate||"text"==this.type)){var value=this.value.toUpperCase();if(1==this.getAttribute("csv")||"true"==this.getAttribute("csv")&&value){for(var csv=value.split(","),c=0;c<csv.length;c++)csv[c]=trim(csv[c]);value=csv.join(", ")}this.value=value}var returnFlag=!0;if(this.getAttribute("blurMethod")?returnFlag=eval(this.getAttribute("blurMethod")):this.getAttribute("blurmethod")&&(returnFlag=eval(this.getAttribute("blurmethod"))),!returnFlag)return!1;if(this.getAttribute("validate")){var methodName=this.getAttribute("validate"),textBoxContent=trim(this.value),flagForContent=!0;if(void 0!==this.type&&("select-one"==this.type||"select-multiple"==this.type))var flagForContent=!1;flagForContent&&(this.value=textBoxContent),textBoxContent=textBoxContent.replace(/[(\n)\r\t\"\'\\]/g," "),textBoxContent=textBoxContent.replace(/[^\x20-\x7E]/g,"");var textBoxMaxLength=this.getAttribute("maxlength"),textBoxMinLength=this.getAttribute("minlength"),caption=this.getAttribute("caption"),allowNA=this.getAttribute("allowNA"),errorDiv=void 0;if(errorDiv=$("validateCheckedGroup"==methodName?this.id.substring(0,this.id.length-1)+"_error":this.id+"_error"),errorDiv.parentNode.style.display="none",errorDiv.innerHTML="",void 0!==this.type&&"checkbox"==this.type&&(textBoxContent=this.checked),void 0!==this.type&&("checkbox"==this.type||"radio"==this.type)&&"validateCheckedGroup"==methodName){var eleName=this.getAttribute("name"),elemensCheck=document.getElementsByName(eleName);textBoxContent=!1;for(var i=0;i<elemensCheck.length&&!(textBoxContent=elemensCheck[i].checked);i++);}var isNationalUser=!0;if("mobile"!=this.getAttribute("name")&&"quickMobile_ForCA"!=this.getAttribute("name")||!document.getElementsByName("isdCode")||"91-2"==document.getElementsByName("isdCode")[0].value||(isNationalUser=!1),!checkRequired(this))return!0;if(this.getAttribute("allowNA")&&"NA"==textBoxContent)validationResponse=!0;else for(var multipleValidateMethods=methodName.split(","),validationResponse,multipleValidateMethodCount=0,validateMethodName;validateMethodName=multipleValidateMethods[multipleValidateMethodCount++];){validateMethodName=trim(validateMethodName);var methodSignature=validateMethodName+'("'+textBoxContent+'", "'+caption+'", '+textBoxMaxLength+", "+textBoxMinLength+","+this.getAttribute("required")+","+isNationalUser+")";if((validationResponse=eval(methodSignature))!==!0)break}if(validationResponse!==!0?(errorDiv.parentNode.style.display="inline",errorDiv.innerHTML=validationResponse,returnFlag=!1):(errorDiv.parentNode.style.display="none",errorDiv.innerHTML=""),checkProfanity(this,caption))return!0}}):("radio"!=formElement.type&&"checkbox"!=formElement.type&&"select"!=formElement.tagName||"OnlineForm"!=objForm.id||(formElement.onmouseout=function(){try{hidetip()}catch(a){}}),formElement.onblur=function(){if(""==this.id);else{try{hidetip()}catch(a){}var a=this.getAttribute("caption");if("OnlineForm"==objForm.id&&"file"!=this.type&&("validateDisplayName"==this.validate||"validateStr"==this.validate||"text"==this.type)){var b=this.value.toUpperCase();this.value=b}try{$(this.id+"_error").parentNode.style.display="none";var c=this.getAttribute("maxlength"),d=this.getAttribute("minlength");if(d=null==d?0:d,c=null==c?0:c,(this.value.length>c||this.value.length<d)&&0!=this.value.length&&0!=c&&("text"==this.type||"textarea"==this.type))return $(this.id+"_error").parentNode.style.display="inline",$(this.id+"_error").innerHTML="Please fill the "+a+" within the range of "+d+" to "+c+" characters.",!0;if($(this.id+"_error").parentNode.style.display="none",checkProfanity(this,a))return!0}catch(a){}}})}}function checkRequired(a){return!!a.getAttribute("required")||""!=a.value}function showInviteFriends(a){window.location="/inviteFriends/upload"}function stripHtmlTags(a){var b=/(<([^>]+)>)/gi;return plainstr=a.replace(b,""),plainstr}function checkHtmlTags(a){return/(<([^>]+)>)/gi.test(a)}function getSmallImage(a){return""==trim(a)?a:a.indexOf("_s")!=-1?a:a.indexOf("_m")!=-1?a=a.replace("_m","_s"):a.indexOf("_t")!=-1?a=a.replace("_t","_s"):a.length-a.lastIndexOf(".")>5?a+="_s":a.substring(0,a.lastIndexOf("."))+"_s."+a.substring(a.lastIndexOf(".")+1,a.length)}function getMediumImage(a){return""==trim(a)?a:a.indexOf("_m")!=-1?a:a.indexOf("_m")!=-1?a=a.replace("_s","_m"):a.indexOf("_t")!=-1?a=a.replace("_t","_m"):a.length-a.lastIndexOf(".")>5?a+="_m":a.substring(0,a.lastIndexOf("."))+"_m."+a.substring(a.lastIndexOf(".")+1,a.length)}function getTinyImage(a){return""==trim(a)?a:a.indexOf("_t")!=-1?a:a.indexOf("_s")!=-1?a=a.replace("_s","_t"):a.indexOf("_m")!=-1?a=a.replace("_m","_t"):a.length-a.lastIndexOf(".")>5?a+="_t":a.substring(0,a.lastIndexOf("."))+"_t."+a.substring(a.lastIndexOf(".")+1,a.length)}function validateSearch(keepSearchType,keepSearchLocation,submitForm){try{checkTextElementOnTransition($("tempkeyword"),"focus"),checkTextElementOnTransition($("templocation"),"focus")}catch(a){}submitForm&&void 0!==submitForm||(submitForm=0);var msg="keyword";switch($("keyword").value=$("tempkeyword").value,$("location").value=$("templocation").value,$("tempSearchType").value){case"Entire Shiksha":$("searchType").value="0";break;case"Ask & Answer":$("searchType").value="question";break;case"Important Dates":$("searchType").value="Event";break;case"Scholarships":$("searchType").value="scholarship";break;case"Articles":$("searchType").value="blog";break;case"kumkum":$("searchType").value="kumkum";break;case"Courses":$("searchType").value="course";break;case"Institutes":$("searchType").value="institute";break;case"Institutes & Courses":$("searchType").value="course";break;case"Related Questions":$("searchType").value="relatedData";break;default:$("searchType").value=$("tempSearchType").value}var keyword=$("keyword").value;keyword=trim(keyword);var location=$("location").value;if(location=trim(location),void 0!==eval("arrayHelpText."+getJsonKeyForSearch($("tempSearchType").value))){if(""==trim(keyword)||trim(keyword)==eval("arrayHelpText."+getJsonKeyForSearch($("tempSearchType").value)+".keywordInput")){alert("Enter "+msg+" to search");try{checkTextElementOnTransition($("tempkeyword"),"blur"),checkTextElementOnTransition($("templocation"),"blur")}catch(a){}return!1}}else if(""==trim(keyword)){alert("Enter "+msg+" to search");try{checkTextElementOnTransition($("tempkeyword"),"blur"),checkTextElementOnTransition($("templocation"),"blur")}catch(a){}return!1}return void 0!==eval("arrayHelpText."+getJsonKeyForSearch($("tempSearchType").value))&&location==eval("arrayHelpText."+getJsonKeyForSearch($("tempSearchType").value)+".locationInput")&&($("location").value=""),keepSearchLocation||($("subLocation").value="-1"),$("subType").value="0",$("startOffSetSearch").value="0",$("cityId").value="-1",$("cType").value="-1",$("courseLevel").value="-1",keepSearchType||($("searchType").value=""),setCookie("tsr","searchbtn"),submitForm?($("searchForm").submit(),!1):(writeSearchCookie(),!0)}function showFeedBack(){if(loadOverlay("-common-feedback","feedback","showFeedBack"),$("feedback")){var a=480,b=250,c="<span>Submit Feedback</span>",d="feedback";$("userFeedbackEmail_error").innerHTML="",$("feedBackContent_error").innerHTML="",$("userFeedbackEmail").value="",$("feedBackContent").value="";var e=$(d).innerHTML;$(d).innerHTML="";var f=e;return overlayParent=$(d),showOverlay(a,b,c,f,!1,document.body.offsetWidth/2-a/2),reloadCaptcha("feedbackCaptcha","feedbackSecurityCode"),$("userFeedbackEmail")&&$("userFeedbackEmail").focus(),!1}}function hideFeedBackOverlay(response){var result=eval("eval("+response+")");0==result.captchaResult?(reloadCaptcha("feedbackCaptcha","feedbackSecurityCode"),$("feedbackSecCode_error").parentNode.style.display="inline",$("feedbackSecCode_error").innerHTML="Please type in the characters as you see in the picture."):"true"==result.feedBackResult&&($j("#feedback_thanksmsg").html("Thank You for your feedback"),setTimeout(function(){hideOverlay()},2e3))}function showDataLoader(a){if(!a)return!1;var b=obtainPostitionX(a)+a.offsetWidth/2-20,c=obtainPostitionY(a)+a.offsetHeight/2-20,d=$("dataLoaderPanel");d.style.display="inline",d.style.left=b+"px",d.style.top=c+"px",a.innerHTML=""}function hideDataLoader(a){$("dataLoaderPanel").style.display="none"}function base64_decode(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l="";do{e=j.indexOf(a.charAt(k++)),f=j.indexOf(a.charAt(k++)),g=j.indexOf(a.charAt(k++)),h=j.indexOf(a.charAt(k++)),i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,l+=64==g?String.fromCharCode(b):64==h?String.fromCharCode(b,c):String.fromCharCode(b,c,d)}while(k<a.length);return l}function url_base64_decode(a){var b={".":"+","-":"=","~":"/"};for(var c in b)a=a.split(c).join(b[c]);return a=base64_decode(a)}function url_base64_encode(a){var b={"+":".","=":"-","/":"~"};a=base64_encode(a);for(var c in b)a=a.split(c).join(b[c]);return a}function reportAbuseListing(a,b){new Ajax.Request("/listing/Listing/reportAbuse",{method:"post",parameters:"listing_type="+a+"&type_id="+b,onSuccess:showResponseForReportAbuseListing})}function showResponseForReportAbuseListing(a){1==a.responseText&&($("reportAbuseListing").innerHTML="Reported Abuse",Yaxis=obtainPostitionY($("reportAbuseListing")),Xaxis=obtainPostitionX($("reportAbuseListing")),window.scrollTo(Xaxis,Yaxis),isUserLoggedIn||""==getCookie("user")||window.setTimeout(function(){window.location.reload()},5e3))}function reportAbuseEvent(a,b){if(!a||""==a)return!1;var c=getXMLHTTPObject();c.onreadystatechange=function(){if(4==c.readyState){1==c.responseText&&(b||(b="eventOperationResponse"),$(b).style.className="redcolor",$(b).innerHTML='<b class = "redcolor">Event is reported for abuse.</b>',Yaxis=obtainPostitionY($(b)),Xaxis=obtainPostitionX($(b)),window.scrollTo(Xaxis,Yaxis),isUserLoggedIn||""==getCookie("user")||window.setTimeout(function(){window.location.reload()},5e3))}};var d="/events/Events/reportAbuseEvent/"+a;c.open("POST",d,!0),c.setRequestHeader("Content-length",0),c.setRequestHeader("Connection","close"),c.send(null)}function htmlspecialchars(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")}function writeSearchCookie(){var a="",b="";try{a=htmlspecialchars($("keyword").value)}catch(a){}try{b=htmlspecialchars($("location").value)}catch(a){}setCookie("searchKeyword",a),setCookie("searchLocation",b)}function createCategoryDropDownForParents(a,b,c,d){void 0===d&&(d=!1);var e='<option value="1" selected>All Categories</option>';for(catId in completeCategoryTree)1==completeCategoryTree[catId][1]&&(e+='<option value="'+catId+'">'+completeCategoryTree[catId][0]+"</option>");$(a).innerHTML=d?'<select class="normaltxt_11p_blk_verdana" name="'+c+'" id="'+b+'" onchange="parentCategoryChanged(this.value)" style="width:296px;" tip="course_categories" >'+e+"</select>":'<select class="normaltxt_11p_blk_verdana" name="'+c+'" id="'+b+'" style="width:296px;" tip="course_categories" >'+e+"</select>"}function popitup(a,b,c,d,e,f){if(void 0===b)if(a.indexOf("communityGuideline")==-1)var b=600,c=600,d="yes",e=50,f=200;else var b=600,c=1e3,d="yes",e=50,f=200;return newwindow=window.open(a,"name","height="+b+",width="+c+", scrollbars="+d+", top="+e+", left="+f),window.focus&&newwindow.focus(),!1}function disableDatesTill(a,b){var c=b.split("-"),d=c[0],e=c[1]%13,f=c[2]%32,g=Date.UTC(d,e-1,f);yesterdayUTC=g-864e5;var h=new Date(yesterdayUTC),i=h.getDate(),j=h.getMonth()+1,k=h.getFullYear(),l=j+"/"+i+"/"+k;a.addDisabledDates(null,l)}function searchInSubProperty(a,b,c){if(""==trim(a))return!1;$("tempkeyword").value=a,$("tempSearchType").value=b,$("templocation").value="","foreign"==b?1!=c?($("subLocation").value=c,validateSearch(1,1)):validateSearch(1,0):"Country"==b?($("subLocation").value=c,$("searchType").value="",validateSearch(0,1)):("Category"==b&&($("cat_id").value=c),validateSearch(1,0)),$("searchForm").submit()}function showSearchMailOverlay(a,b,c,d,e){if(d=void 0!==d?d:"",e=void 0!==e?e:"",!isUserLoggedIn&&""==trim(getCookie("user")))return void showuserLoginOverLay(d,e,"jsfunction","showSearchMailOverlay",a,b,c);$("listingTypeForMail").value=a,$("listingIdForMail").value=b,$("listingUrlForMail").value=c;var f=350,g=window.screen.height/2,h="Send Mail",i=$("sendSearchMail").innerHTML;$("sendSearchMail").innerHTML="";var j=i;if(overlayParent=$("sendSearchMail"),showOverlay(f,g,h,j),""!=getCookie("user")){var k=getCookie("user").split("|");$("searchEmailAddr").value=k[0]}$("searchEmailAddr").focus()}function showSearchSmsOverlay(a,b,c,d,e){if(d=void 0!==d?d:"",e=void 0!==e?e:"",!isUserLoggedIn&&""==trim(getCookie("user")))return void showuserLoginOverLay(d,e,"refresh");$("listingTypeForSms").value=a,$("listingIdForSms").value=b,$("listingUrlForSms").value=b;var f=350,g=window.screen.height/2,h="Send SMS",i=$("sendSearchSms").innerHTML;$("sendSearchSms").innerHTML="";var j=i;overlayParent=$("sendSearchSms"),showOverlay(f,g,h,j),$("searchMobileNumber").focus()}function commonShowConfirmMessage(a,b,c){$("dim_bg").style.height=document.body.offsetHeight+"px",$("dim_bg").style.display="inline",$("div_extraIdForPageRdrt")&&($("div_extraIdForPageRdrt").value=b),c=void 0!==c&&1==c?200:100,setNoScroll();var d=screen.width/2-$("addRequestOverlay").offsetWidth/2-c,e=screen.height/2-$("addRequestOverlay").offsetHeight/2-170+document.documentElement.scrollTop;$("addRequestOverlay").style.left=d+"px",$("addRequestOverlay").style.top=e+"px",$("responseforadd").innerHTML=a,$("responseforadd").parentNode.style.display="",$("addRequestOverlay").style.display=""}function showReportChangeOverlay(){var a=550,b=window.screen.height/2,c="Report Changes";$("repChangeEmail_error")&&($("repChangeEmail_error").innerHTML=""),$("comment_error").innerHTML="";var d=$("repChange").innerHTML;overlayParent=$("repChange"),showOverlay(a,b,c,d)}function validateReportChange(a){var b=!1;if(a.repChangeEmail){if(1==(b=validateStr(a.repChangeEmail.value,"email",100,3)))var b=validateEmail(trim(a.repChangeEmail.value),"email",100,3);if(1!=b)return $("repChangeEmail_error").parentNode.style.display="inline",$("repChangeEmail_error").innerHTML=b,!1}return 1==(b=validateStr(a.comment.value,"comments",1e3,3))||($("comment_error").parentNode.style.display="inline",$("comment_error").innerHTML=b,!1)}function checkForOtherExam(a){if(a){var b=a.options[a.options.length-1];"-1"===b.value&&(b.selected===!0?$(a.id+"Other").parentNode.style.display="block":$(a.id+"Other").parentNode.style.display="none")}}function setRequestInfoForSearchPage(){var a=430,b=window.screen.height/2,c="Send your Question to the Institute";clearMessages($("common_reqInfoDispName").form);var d=$("searchRequestInfoBox").innerHTML;$("searchRequestInfoBox").innerHTML="";var e=d;overlayParent=$("searchRequestInfoBox"),showOverlay(a,b,c,e,!1,document.body.offsetWidth/2-a/2,100),reloadCaptcha("common_reqinfoCaptacha","seccodecommonquery")}function setRequestInfoForSearchParams(a,b,c,d,e){return $("common_listing_type").value=a,$("common_listing_type_id").value=b,$("common_listing_title").value=c,$("common_listing_url").value=d,$("common_mailto").value=e,$("common_isPaid").value="yes",selectedInstituteName=c,setRequestInfoForSearchPage(),!1}function updateRequestInfoForSearch(a){hideOverlay(),selectedInstituteName="",commonShowConfirmMessage("You have successfully submitted the question to institute.")}function compareDate(a,b){var c=new Date(a),d=new Date(b);return c==d?0:c>d?1:2}function wordwrap(a,b,c,d){var e,f,g,h=a.split("\n");if(b>0)for(e in h){for(g=h[e],h[e]="";g.length>b;f=d?b:(f=g.substr(0,b).match(/\S*$/)).input.length-f[0].length||b,h[e]+=g.substr(0,f)+((g=g.substr(f)).length?c:""));h[e]+=g}return h.join("\n")}function base64_encode(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=ac=0,l="",m=[];a=utf8_encode(a);do{b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,m[ac++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h)}while(k<a.length);switch(l=m.join(""),a.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}function utf8_encode(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b,c,d="",e=0;b=c=0,e=a.length;for(var f=0;f<e;f++){var g=a.charCodeAt(f),h=null;g<128?c++:h=g>127&&g<2048?String.fromCharCode(g>>6|192)+String.fromCharCode(63&g|128):String.fromCharCode(g>>12|224)+String.fromCharCode(g>>6&63|128)+String.fromCharCode(63&g|128),null!=h&&(c>b&&(d+=a.substring(b,c)),d+=h,b=c=f+1)}return c>b&&(d+=a.substring(b,a.length)),d}function getUserLoggedInOnClick(a,b,c,d){var e=base64_encode(window.location.toString()),f="";return"undefined"==typeof isUserLoggedIn?f:f=isUserLoggedIn?isQuickSignUpUser?"window.location = '/user/Userregistration/index/'"+e+"'/1'; return false;":a:"showuserLoginOverLay(this,'"+b+"','"+c+"','"+d+"');return false;"}function attachOutMouseClickEventForPage(elementDiv,functionToCloseOverlay){function clickAction(e){if(!e)var e=window.event;if(e.target&&e.target.onclick&&e.target.onclick.apply(),elementDiv){if($("iframe_div")&&"none"!=$("iframe_div").style.display&&$("iframe_div").style.zIndex>elementDiv.style.zIndex)return!0;if("none"!==elementDiv.style.display){var posx=0,posy=0;posx=e.pageX||e.clientX+(document.body.scrollLeft||document.documentElement.scrollLeft),posy=e.pageY||e.clientY+(document.body.scrollTop||document.documentElement.scrollTop);var leftBoundry=obtainPostitionX(elementDiv)-20,rightBoundry=obtainPostitionX(elementDiv)+elementDiv.offsetWidth+20,topBoundry=obtainPostitionY(elementDiv)-40,bottonBoundry=obtainPostitionY(elementDiv)+elementDiv.offsetHeight+40;(posx<leftBoundry||posx>rightBoundry||posy<topBoundry||posy>bottonBoundry)&&(document.onmousedown=null,eval(functionToCloseOverlay))}}return!0}return document.onmousedown=clickAction,!0}function attachOutMouseClickEventForPageAnA(elementDiv,functionToCloseOverlay){function clickAction(e){if(!e)var e=window.event;if(e.target&&e.target.onclick&&e.target.onclick.apply(),elementDiv){if($("iframe_div")&&"none"!=$("iframe_div").style.display&&$("iframe_div").style.zIndex>elementDiv.style.zIndex)return!0;if("none"!==elementDiv.style.display){var posx=0,posy=0;posx=e.pageX||e.clientX+(document.body.scrollLeft||document.documentElement.scrollLeft),posy=e.pageY||e.clientY+(document.body.scrollTop||document.documentElement.scrollTop);var leftBoundry=obtainPostitionX(elementDiv)-20,rightBoundry=obtainPostitionX(elementDiv)+elementDiv.offsetWidth+20,topBoundry=obtainPostitionY(elementDiv)-40,bottonBoundry=obtainPostitionY(elementDiv)+elementDiv.offsetHeight+40;(posx<leftBoundry||posx>rightBoundry||posy<topBoundry||posy>bottonBoundry)&&(document.onmousedown=null,eval(functionToCloseOverlay))}}return!0}return document.onclick=clickAction,!0}function publishBanners(){try{for(var a in bannerPool)null!=$(a)&&$(a).src.trim()!=bannerPool[a].trim()&&($(a).src=bannerPool[a])}catch(a){}}function publishHomePageBanners(){try{for(var a in bannerPool)null!=$(a)&&$(a).src.trim()!=bannerPool[a].trim()&&$j(window).scrollTop()+$j(window).height()>=$j("#"+a).offset().top&&($(a).src=bannerPool[a])}catch(a){}}function dissolveElement(a){function b(a){var c=a.style.opacity;navigator.appName.indexOf("Netscape")!=-1&&parseInt(navigator.appVersion)>=5?(a.style.MozOpacity=parseFloat(a.style.MozOpacity)-.1,c=a.style.MozOpacity):navigator.appName.indexOf("Microsoft")!=-1&&parseInt(navigator.appVersion)>=4?(a.filters.alpha.opacity=parseFloat(a.filters.alpha.opacity)-1,c=a.filters.alpha.opacity):(a.style.opacity=parseFloat(a.style.opacity)-.1,c=a.style.opacity),parseFloat(c)>0?window.setTimeout(function(){b(a)},500):a.style.display="none"}window.setTimeout(function(){b(a)},500)}function showchangeEmailOverlay(){reloadCaptcha("changeEmailCaptacha","seccodechangeemail");var a=(parseInt(screen.width),$("changeOverlay").offsetWidth,parseInt(screen.height)/2-$("changeOverlay").offsetHeight/2);a+=document.documentElement.scrollTop,$("changeOverlay").style.left="200px",$("changeOverlay").style.top="70px",$("changeOverlay").style.display="",$("dim_bg").style.height=document.body.scrollHeight+"px",$("dim_bg").style.display="inline",overlayHackLayerForIE("changeOverlay",document.body)}function showverificationMailOverlay(){reloadCaptcha("sendEmailCaptacha","seccodesendemail");var a=(parseInt(screen.width),$("sendveriOverlay").offsetWidth,parseInt(screen.height)/2-$("sendveriOverlay").offsetHeight/2);a+=document.documentElement.scrollTop,$("sendveriOverlay").style.left="200px",$("sendveriOverlay").style.top="70px",$("sendveriOverlay").style.display="",$("dim_bg").style.height=document.body.scrollHeight+"px",$("dim_bg").style.display="inline",overlayHackLayerForIE("sendveriOverlay",document.body)}function sendverificationMail(){var a=getXMLHTTPObject();a.onreadystatechange=function(){if(4==a.readyState){var b=a.responseText;reloadCaptcha("sendEmailCaptacha","seccodesendemail"),"code"==b?($("sendCapt_error").innerHTML="Please enter the Security Code as shown in the image.",$("sendCapt_error").parentNode.style.display="inline"):(hideveriOverlay(),showMessagesInline1("logindiv","Verification email has been sent to your account.Please verify your email-account to continue using shiksha.com"))}};var b="/user/Userregistration/sendverificationEmail/"+$("sendCapt").value;return a.open("POST",b,!0),a.setRequestHeader("Content-length",0),a.setRequestHeader("Connection","close"),a.send(null),!1}function hideveriOverlay(){$("sendveriOverlay").style.display="none",$("dim_bg").style.display="none",dissolveOverlayHackForIE()}function hidechangeOverlay(){$("changeOverlay").style.display="none",$("dim_bg").style.display="none",dissolveOverlayHackForIE()}function hidelogindiv(){setCookie("user",getCookie("user")+"|hideVerification"),$("loginCommunication").style.display="none"}function validateCForm(a){var b=validateFields(a);if(returnFlag=1==b,$("consultantContry")){var c=$("mCountryList"),d=$("mCountryListName"),e=$("consultantContry").getElementsByTagName("input"),f="",g=0;c.value="",finalArr=new Array;for(var h=0;h<e.length;h++)if(inputElem=e[h],"checkbox"==inputElem.type&&inputElem.checked&&"on"!=inputElem.value){if(1==finalArr[inputElem.value])continue;c.value+=inputElem.value+",",finalArr[inputElem.value]=1,null!=inputElem.getAttribute("tag")&&(f+=inputElem.getAttribute("tag")+",",g++)}d.value=f;var i=$("mCountryList").value;""==trim(i)?($("consultant_country_error").innerHTML="Please select country.",$("consultant_country_error").parentNode.style.display="block",returnFlag=!1):($("consultant_country_error").innerHTML="",$("consultant_country_error").parentNode.style.display="none")}if($("scFunding")){var j=$("sFundingList"),k=$("sFundingListName"),e=$("scFunding").getElementsByTagName("input"),l="",m=0;j.value="",finalArr=new Array;for(var h=0;h<e.length;h++)if(inputElem=e[h],"checkbox"==inputElem.type&&inputElem.checked&&"on"!=inputElem.value){if(1==finalArr[inputElem.value])continue;j.value+=inputElem.value+",",finalArr[inputElem.value]=1,null!=inputElem.getAttribute("tag")&&(l+=inputElem.getAttribute("tag")+",",m++)}k.value=l;var i=$("sFundingList").value;""==trim(i)?($("consultant_source_error").innerHTML="Please select source of funding.",$("consultant_source_error").parentNode.style.display="block",returnFlag=!1):($("consultant_source_error").innerHTML="",$("consultant_source_error").parentNode.style.display="none")}if($("consultant_category")){for(var n=$("consultant_category"),o=0,p=0;p<n.options.length;p++)1==n.options[p].selected&&o++;0==o?($("consultant_category_error").innerHTML="Please select a category",$("consultant_category_error").parentNode.style.display="block",returnFlag=!1):($("consultant_category_error").innerHTML="",$("consultant_category_error").parentNode.style.display="none")}return returnFlag}function validateConsultantForm(a){validationResponse=validateCForm(a);return validationResponse===!0&&new Ajax.Request(a.action,{onSuccess:function(a){showResponseForConsultantForm(a.responseText)},evalScripts:!0,parameters:Form.serialize(a)}),!1}function showResponseForConsultantForm(response){return response=eval("eval("+response+")"),response.success?window.location=response.success:($("consultant_name_error").innerHTML=response.failure,$("consultant_name_error").parentNode.style.display="block",$("consultant_name_error").focus()),!1}function setOpacity(a,b){a.style.opacity=b,a.style.filter="alpha(opacity="+100*b+")"}function shikshaEncodeURIComponent(a){return encodeURIComponent(decodeURIComponent(a.replace("%","@@@@@@")).replace("@@@@@@","%"))}function validateResponse(a,b,c,d,e){if(a=a.replace(/[^\x20-\x7E]/g,""),checkHtmlTags(a))return"HTML tags will be removed.";if(""==a.length)return"Please type your "+b+" here.";if(a.length>c)return"Please use a maximum of "+c+" characters for "+b;if(a.length<d)return"The "+b+" must contain atleast "+d+" characters.";a=removeNewLineCharacters(a),a=a.toLowerCase();for(var f=a.split(" "),g=0;g<f.length;g++){if(f[g].length>32&&f[g].search(/(http|https)?(:\/\/)/)==-1)return b+" cannot contain any word exceeding 32 characters.";if(isRestrictedWord(f[g]))return!1}return!0}function showAddUserRequest(a){a>0?alert("The request has been added successfully. The person will be added to your network once he/she accepts the request"):0==a?alert("Some problem occured while sending the request. Please try again"):alert("You are already a part of the users network or rejected by the user ")}function showMailResponse(a){document.documentElement.scrollTop;$("mailOverlay").style.display="none",$("refreshFlag").value=0,commonShowConfirmMessage("Mail sent successfully")}function showMailOverlay(a,b,c,d,e,f,g){if(1==COMPLETE_INFO)window.location="/user/Userregistration/index/"+URLFORREDIRECT+"/1";else if(isUserLoggedIn||""!=getCookie("user")){$("receiverid").value=c,$("names").value=d;var h=document.body.offsetHeight;$("dim_bg").style.height=h+"px",$("dim_bg").style.display="inline",$("body").value="",$("subject").value="";var i=document.body.offsetWidth/2-225,j=document.documentElement.scrollTop+$("mailOverlay").offsetHeight/2+screen.height/2-230;$("mailOverlay").style.display="inline",$("mailOverlay").style.left=i+"px",$("mailOverlay").style.top=j+"px",overlayHackLayerForIE("mailOverlay",document.body)}else closeUserCommonOverlayForQuestion(),"ASK_PROFILE_MIDDLEPANEL_MAILUSER"==e||"ASK_ASKHOME_MIDDLEPANEL_MAILUSER"==e||"ASK_EXPERT_MIDDLEPANEL_MAILUSER"==e?(data={},data.referer=window.location,data.source=e,data.trackingPageKeyId=g,data.callback=function(a){"LayerClosed"!=a.status&&window.location.reload(!0)},shikshaUserRegistration.showRegisterFreeLayer(data)):showuserLoginOverLay(f,e,"jsfunction","showMailOverlay",a,b,c,d)}function hidemailOverlay(){isUserLoggedIn||""==getCookie("user")?($("dim_bg").style.display="none",$("mailOverlay").style.display="none",dissolveOverlayHackForIE()):window.location.reload()}function sendRequest(a,b,c,d){if($("refreshFlag").value=0,1==COMPLETE_INFO)window.location="/user/Userregistration/index/"+URLFORREDIRECT+"/1";else if(isUserLoggedIn||""!=getCookie("user"))if(a==b)alert("Cant send request to yourself");else{var e=getXMLHTTPObject();e.onreadystatechange=function(){if(4==e.readyState){if(""!=trim(e.responseText)){str=trim(e.responseText);var a=(document.body.offsetWidth,screen.height/2-170);a+=document.documentElement.scrollTop;var b="";str>0?b="The request has been added successfully. The person will be added to your network once he/she accepts the request":(str==-1&&(b="You have already sent a request.Please wait for the response"),str==-2&&(b="You are already a part of the users network "),str==-3&&(b="You have been blocked by the user"),str==-4&&(b="The user has already sent you a request.Accept it from your accounts and settings if you want to add user in your network"),str==-5&&(b="You are already a part of each others network."),str==-6&&(b="You cannot send request to yourself.")),commonShowConfirmMessage(b),overlayHackLayerForIE("mailOverlay",document.body)}}};var f=BASE_URL+"/network/Network/sendRequest/"+b+"/"+a;e.open("POST",f,!0),e.send(null)}else showuserLoginOverLay(d,c,"jsfunction","sendRequest",a,b);return!1}function closeCatCountWidget(){$("commonOverlay")&&($("commonOverlay").style.display="none")}function is_int(a){return parseFloat(a)==parseInt(a)&&!isNaN(a)}function populateLocalities(a,b,c,d,e,f){var g;g=""==e?c:e;try{var h=document.getElementById("preferred_locality_"+b);if(void 0===a.options[a.selectedIndex]||a.selectedIndex==-1)return a.style.display="none",h.style.display="none",!0;var j=a.options[a.selectedIndex].value;if($j("#preferred_locality_"+b+"_error").parent().hide(),$j("#preferred_city_"+b+"_error").parent().hide(),h.length=0,h.style.display="none",h.options[h.options.length]=new Option("Would like to attend course at",""),""!=j){if(f)var k=CustomCourses[g][j];else if(void 0!==custom_localities[c]&&""!=custom_localities[c]||!checkMultilocationCourses(g))if(is_int(c))var k=custom_localities[c][j].localities;else if("COURSE_WISE_CUSTOMIZED_LOCATIONS"==c&&""!=e)var k=custom_localities[c][e][j];else var k=custom_localities[c][j];else{isMultilocationCourse(g);var k=custom_localities[g][j].localities}1==Object.size(k)&&(h.length=0);for(i in k)"object"!=typeof k[i]?h.options[h.options.length]=new Option(k[i],k[i]):h.options[h.options.length]=new Option(k[i].name,i)}if(1==h.length)h.style.display="none",h.parentNode.style.display="none",$j("#preferred_locality_"+b).attr("mandatory","0"),1==a.length&&a.value?(a.style.display="none","new"==d&&(a.parentNode.parentNode.style.display="none")):(a.parentNode.parentNode.style.display="block",a.style.display="block"),"mobile"!=d&&1==f&&(a.parentNode.style.display="block"),"mobile"==d&&1==f&&(a.parentNode.parentNode.style.display="block",document.getElementById("wouldLikeLocality").style.display="none");else{if("block"!=a.parentNode.style.display&&"inline"!=a.parentNode.style.display&&"mobile"!=d)a.parentNode.style.display="none";else if("mobile"==d&&1==f){var l=!0;if(void 0!==a&&l){var m=a.getAttribute("id");m=m.replace("_city","_locality"),$j("#"+m).prev().html('<span class="ui-btn-text"><span>Would like to attend course at</span></span><span class="ui-icon ui-icon-arrow-d ui-icon-shadow">&nbsp;</span>'),$j("#"+m).val(""),l=!1}a.parentNode.style.display="block"}a.parentNode.parentNode.style.display="block",h.parentNode.style.display="block",a.style.display="block",h.style.display="block",$("wouldLikeLocality").style.display="block",$j("#preferred_locality_"+b).attr("mandatory","1")}}catch(a){}}function iscustomizedCourse(a){if("undefined"==typeof allCustomCoursesList)return 0;if(void 0===a)return 0;var b=0;return allCustomCoursesList.indexOf(a)>=0&&(b=1),b}function isMultilocationCourse(a,b){if("undefined"==typeof multiLocationCourses)return 0;if(void 0===a)return 0;var c=0;return multiLocationCourses.indexOf(a)>=0&&(void 0!==b&&shikshaUserRegistrationForm[b].showLoader(),getMultiLocationsForCourse(a),c=1,void 0!==b&&shikshaUserRegistrationForm[b].hideLoader()),c}function checkMultilocationCourses(a){if("undefined"==typeof multiLocationCourses)return 0;if(void 0===a)return 0;var b=0;return multiLocationCourses.indexOf(a)>=0&&(b=1),b}function getMultiLocationsForCourse(a){$j.ajax({url:"/coursepages/CoursePage/getMultilocationsForCourse",type:"POST",async:!1,data:{courseId:a},success:function(a){custom_localities=$j.parseJSON(a)}})}function autoPopulateLocality(a,b,c){if(0!=a.length){var d=0;if(void 0!==c&&$j("#course_"+c).length){d=iscustomizedCourse(document.getElementById("course_"+c).value)}if(!d){var e=a.value,f=a.options[a.selectedIndex].text;if(void 0!==b&&$("locality-div_"+b)&&"none"!=$("locality-div_"+b).style.display){var g=shortRegistrationFormResponse.instituteId;$j("#preferred_city_category_"+b+g).find("option[value="+e+"]").length>0?$j("#preferred_city_category_"+b+g).find("option[value="+e+"]").attr("selected","selected").change():$j("#preferred_city_category_"+b+g).find('option[value="'+f+'"]').length>0?$j("#preferred_city_category_"+b+g).find('option[value="'+f+'"]').attr("selected","selected").change():$j("#preferred_city_category_"+b+g).find('option[value=""]').attr("selected","selected").change()}}}}function addLocalityInApplyForm(a,b,c,d,e,f){if(listing_key="",void 0===b&&(b=""),void 0===c&&(c=0),void 0===d&&(d="old"),"undefined"==typeof listings_with_localities)return"";var g="";for(i in listings_with_localities){g="COURSE_WISE_CUSTOMIZED_LOCATIONS"==i?c:a;for(var h=listings_with_localities[i],j=0;j<=h.length;j++)h[j]==g&&(listing_key=i)}var k="";return listing_key?k="listingPageTopLinks"==b||"listingPageBottomNew"==b?getNewLocalityHTML(a,listing_key,b,d,c,e,f):getLocalityHTML(a,listing_key,b,d,c,e,f):c&&(k="listingPageTopLinks"==b||"listingPageBottomNew"==b||"newListingsAnABottom"==b?getNewLocalityHTML(a,c,b,d,void 0,e,f):getLocalityHTML(a,c,b,d,void 0,e,f)),k}function getNewLocalityHTML(a,b,c,d,e,f,g){var h;if(void 0===e?(e="",h=b):h=e,void 0!==g)var j=$j("#course_"+g).is(":visible");else var j=1;var k="",l=custom_localities[b],m=0;if(iscustomizedCourse(h))var l=CustomCourses[h],n=1;else if(isMultilocationCourse(h,g))var l=custom_localities[h],n=0;else var l=custom_localities[b],n=0;if(locality_html="mobile"==d?n?'<div style="display:block;" class="custom-dropdown"><select name="preferred_city_category_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1"  mandatory="1" caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'","'+n+'" );\' class="universal-select"> <div class="icon-wrap"><i class="reg-sprite mob-icon" ></i></div>':'<div style="display:none;" class="custom-dropdown"><select name="preferred_city_category_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'");\' class="universal-select">':1==n&&1==f||("askAQuestion"==c||"newListingsAnABottom"==c||"listingPageBellyNationalForInstitute"==c||"ebrocher"==c||"LP_Reco_AlsoviewLayer"==c)&&1==n||0==j&&1==n?'<div style="display:block;" class="custom-dropdown"><select name="preferred_city_category_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1" caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'","'+n+'" );\' class="universal-select">':'<div style="display:none;" class="custom-dropdown"><select name="preferred_city_category_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'");\' class="universal-select">',"COURSE_WISE_CUSTOMIZED_LOCATIONS"==b&&""!=e)for(var o in l[e])l[e].hasOwnProperty(o)&&(m++,k+="<option value='"+o+"'>"+o+"</option>");else for(i in l)m++,k+=void 0===l[i].name?"<option value='"+i+"'>"+i+"</option>":"<option value='"+i+"'>"+l[i].name+"</option>";return m>0?(locality_html+='<option value="">Preferred City</option>',locality_html+=k,"mobile"==d?(locality_html+='</select><div class="icon-wrap"> <i class="reg-sprite res-loc-icon" ></i></div><div class="errorPlace"><div class="errorMsg" id="preferred_city_category_'+c+a+'_error"></div></div></div> </li><li>',locality_html+=n?'<div style="width: 100%;" class="custom-dropdown"><select name="preferred_locality_category_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1"  mandatory="1" caption="preferred locality" onblur="validateCourseLocality(this);" onchange="updateMultiLocationFields(this.value)" >':'<div style="width: 100%;" class="flLt custom-dropdown"><select name="preferred_locality_category_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1"  mandatory="1" caption="preferred locality" onblur="validateCourseLocality(this);" onchange="updateMultiLocationFields(this.value)" >',locality_html+='<option value="">Would like to attend course at</option></select><div class="icon-wrap"><i class="reg-sprite res-loc-icon" ></i></div></div><div class="errorPlace"><div class="errorMsg" id="preferred_locality_category_'+c+a+'_error"></div></div>'):(locality_html+='</select></div><div class="regErrorMsg"><div class="regErrorMsg" id="preferred_city_category_'+c+a+'_error"></div></div></div>',locality_html+=1==n&&1==f||("askAQuestion"==c||"newListingsAnABottom"==c||"listingPageBellyNationalForInstitute"==c||"ebrocher"==c||"LP_Reco_AlsoviewLayer"==c)&&1==n||0==j&&1==n?'<div style="width: 100%; margin-top : 10px;" class="custom-dropdown"><select name="preferred_locality_category_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1"  caption="preferred locality" onblur="validateCourseLocality(this);">':'<div style="width: 100%;" class="custom-dropdown"><select name="preferred_locality_category_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1"  caption="preferred locality" onblur="validateCourseLocality(this);">',locality_html+='<option value="">Would like to attend course at</option></select></div><div><div class="regErrorMsg" id="preferred_locality_category_'+c+a+'_error"></div></div>'),locality_html):""}function getLocalityHTML(a,b,c,d,e,f,g){var h;if(void 0===e?(e="",h=b):h=e,void 0!==g)var j=$j("#course_"+g).is(":visible");else var j=1;if(iscustomizedCourse(h))var k=CustomCourses[h],l=1;else if(isMultilocationCourse(h,g))var k=custom_localities[h],l=0;else var k=custom_localities[b],l=0;locality_html="old"==d?'<div style="width:345px;"><div style="float:left; width:160px;"><select name="preferred_city_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'");\' style="width:150px;font-size:12px;font-family:Arial;">':"mobile"==d?l?'<div style="display:block;width:100%;" class="custom-dropdown"><select name="preferred_city_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'","'+l+'" );\' class="universal-select" > <div class="icon-wrap"><i class="reg-sprite mob-icon" ></i></div>':'<div style="display:none;" class="flLt custom-dropdown"><select name="preferred_city_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="0"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'");\' class="universal-select">':1==l&&1==f||("askAQuestion"==c||"ebrocher"==c||"newListingsAnABottom"==c||"LP_Reco_AlsoviewLayer"==c||"LP_Reco_SimilarInstiLayer"==c)&&1==l||0==j&&1==l?'<div style="display:block;" class="custom-dropdown"><select onblur="validateCourseLocality(this)" name="preferred_city_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'","'+l+"\" );'  >":'<div style="display:none;" class="custom-dropdown" ><select name="preferred_city_'+c+a+'" id="preferred_city_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="0"  caption="preferred city" onchange=\'populateLocalities(this,"category_'+c+a+'","'+b+'","'+d+'","'+e+'");\' class="universal-select">';var m="",n=0;if("COURSE_WISE_CUSTOMIZED_LOCATIONS"==b&&""!=e)for(var o in k[e])k[e].hasOwnProperty(o)&&(n++,m+="<option value='"+o+"'>"+o+"</option>");else for(i in k)n++,m+=void 0===k[i].name?"<option value='"+i+"'>"+i+"</option>":"<option value='"+i+"'>"+k[i].name+"</option>";return n>0?(locality_html+='<option value="">Preferred City</option>',locality_html+=m,"old"==d?(locality_html+='</select><div class="errorPlace"><div class="regErrorMsg" id="preferred_city_category_'+c+a+'_error"></div></div></div>',locality_html+='<div style="float:left; width:180px;"><select name="preferred_locality_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="0" caption="preferred locality" style="width:175px;font-size:12px;font-family:Arial;">',locality_html+='<option value="">Preferred Locality</option></select><div class="errorPlace"><div class="errorMsg" id="preferred_locality_category_'+c+a+'_error"></div></div></div><div style="clear:left;"></div></div>'):"mobile"==d?(locality_html+='</select><div class="icon-wrap"> <i class="reg-sprite res-loc-icon"></i></i></div><div class="errorPlace"><div class="errorMsg" id="preferred_city_category_'+c+a+'_error"></div></div></div>',locality_html+=l?'</li><li></li><li><div style="width: 100%; display:block;" id="wouldLikeLocality" class="custom-dropdown"><select name="preferred_locality_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true"  validate="validateSelect" required="1"  caption="preferred locality" onchange="updateMultiLocationFields(this.value)" >':'<div style="width: 100%;" class=""><select name="preferred_locality_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1"  caption="preferred locality" onchange="updateMultiLocationFields(this.value)" >',locality_html+='<option value="">Would like to attend course at</option></select><div class="icon-wrap"><i class="reg-sprite res-loc-icon" ></i></div></div><div class="errorPlace"><div class="errorMsg" id="preferred_locality_category_'+c+a+'_error"></div></div>'):(locality_html+='</select></div><div class="errorPlace"><div class="regErrorMsg" id="preferred_city_category_'+c+a+'_error"></div></div></div>',locality_html+=1==l&&1==f||("askAQuestion"==c||"ebrocher"==c||"newListingsAnABottom"==c||"LP_Reco_AlsoviewLayer"==c||"LP_Reco_SimilarInstiLayer"==c)&&1==l||0==j&&1==l?'<div style="width: 100%; margin-top: 10px; display:none;" class="custom-dropdown"><select name="preferred_locality_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="1" caption="preferred locality" onblur="validateCourseLocality(this);">':'<div style="width: 100%;" class="custom-dropdown"><select name="preferred_locality_'+c+a+'" id="preferred_locality_category_'+c+a+'" unrestricted="true" validate="validateSelect" required="1" mandatory="0" caption="preferred locality" onblur="validateCourseLocality(this);">',locality_html+='<option value="">Would like to attend course at</option></select></div><div><div class="regErrorMsg" id="preferred_locality_category_'+c+a+'_error"></div></div>'),locality_html):""}function validateCourseLocality(a){a.value?($(a.id+"_error").innerHTML="",$(a.id+"_error").parentNode.style.display="none"):($(a.id+"_error").innerHTML="Please select course location",$(a.id+"_error").parentNode.style.display="block")}function openSearchDiscussionOverlay(a,b,c,d,e){if(!$("discussionSearchOverlay_ForAnA"))return void loadOverlay("-common-discussionSearchOverlay_ForAnA","discussionSearchOverlay_ForAnA","openSearchDiscussionOverlay",a);$("discussionMainTitle").innerHTML='<div class="grayFont bld float_L pb10 pr10">Redirect:</div><div class="pl10"><b>'+base64_decode(a)+"</b></div>",$("mainDiscussionIdPU").innerHTML=b,$("userIdPU").innerHTML=c,$("owernIdPU").innerHTML=d,$("entityType").innerHTML=e;var f=690,g=500,h='<span style="padding-left:5px" class="Fnt12"><b>Redirect into an existing discussion</b></span>',i='<div style="maring-top:10px;margin-bottom:20px;"></div>',j="discussionSearchOverlay_ForAnA",i=$(j).innerHTML,k=i;showOverlayAnA(f,g,h,k,!1)}function openSearchQuestionOverlay(a,b,c,d,e){if(!$("questionSearchOverlay_ForAnA"))return void loadOverlay("-common-questionSearchOverlay_ForAnA","questionSearchOverlay_ForAnA","openSearchQuestionOverlay",a);questionTextPU=a,$("questionMainTitlePU").innerHTML='<div class="grayFont bld float_L pb10 pr10">Redirect:</div><div class="pl10"><b>'+a+"</b></div>",$("mainQuestionIdPU").innerHTML=b,$("userIdPU").innerHTML=c,$("owernIdPU").innerHTML=d,$("entityType").innerHTML=e;var f=690,g=500,h='<span style="padding-left:5px" class="Fnt12"><b>Redirect into an existing question</b></span>',i='<div style="maring-top:10px;margin-bottom:20px;"></div>',j="questionSearchOverlay_ForAnA",i=$(j).innerHTML,k=i;showOverlayAnA(f,g,h,k,!1)}function getQuestionDataFromGoogleAjax(a,b){var c="";c="Find Question by Name or URL"==trim(a)?questionTextPU:a,void 0===b&&(b=0);var d="title="+c+"&questionId="+b;document.getElementById("firstTimeResult").innerHTML="Loading...",new Ajax.Request("/messageBoard/MsgBoard/getQuestionDataFromSearchPart",{method:"post",parameters:d,onSuccess:function(a){""!=a.responseText&&(document.getElementById("firstTimeResult").innerHTML=a.responseText)}})}function getDiscussionDataFromAjax(a,b){var c="";if("Find Discussion by Name or URL"==trim(a)){if(""==trim(questionTextPU))return document.getElementById("firstTimeResult").innerHTML='<div class="bld mt10">Please enter some relevant string to search Discussions.</div>',!1;c=questionTextPU}else c=a;1==$("searchType1").checked?type="full":type="partial";var d="title="+c+"&mainDiscussionId="+b+"&type="+type;new Ajax.Request("/messageBoard/MsgBoard/getDiscussionDataPart",{method:"post",parameters:d,onSuccess:function(a){""!=trim(a.responseText)?document.getElementById("firstTimeResult").innerHTML=a.responseText:document.getElementById("firstTimeResult").innerHTML='<div class="bld mt10">No result Found.</div>'}})}function addQuestionToRelatedQuestionList(a,b,c,d,e){if(""!=trim(a)){var f="linkedQuestionId="+trim(a)+"&mainQuestionId="+trim(b)+"&userId="+trim(c)+"&questionOwerId="+trim(d)+"&entityType="+trim(e);new Ajax.Request("/user/PowerUser/insertIntoQuestionDiscussionLinkingTable",{method:"post",parameters:f,onSuccess:function(a){if(""!=a.responseText){hideOverlay(!1);overlayContent='<div style="width:450px;margin:0 auto">                                                        <div class="whtRound" style="padding:7px 10px 7px 10px">                                                        <div class="wdh100">                                                                <div>                                                                Thanks for suggesting a related question. Your submission is pending with                                                                         the system moderator and will be made live once the moderator approves it.                                                                 </div>                                <div class="mtb10"><input type="submit" class="fbBtn" value="Ok" onclick="hideOverlay();"/></div>                            </div>                        </div>                     </div>',showOverlayAnA(500,350,"<span><b>Thank You!</b></span>",overlayContent,!1)}}})}}function addDiscussionToRelatedQuestionList(a,b,c,d,e){if(""!=trim(a)){var f="linkedQuestionId="+trim(a)+"&mainQuestionId="+trim(b)+"&userId="+trim(c)+"&questionOwerId="+trim(d)+"&entityType="+trim(e);new Ajax.Request("/user/PowerUser/insertIntoQuestionDiscussionLinkingTable",{method:"post",parameters:f,onSuccess:function(a){if(""!=a.responseText){hideOverlay(!1);overlayContent='<div style="width:450px;margin:0 auto">                                                        <div class="whtRound" style="padding:7px 10px 7px 10px">                                                        <div class="wdh100">                                                                <div>                                                                Thanks for suggesting a related discussion. Your submission is pending with                                                                         the system moderator and will be made live once the moderator approves it.                                                                 </div>                                <div class="mtb10"><input type="submit" class="fbBtn" value="Ok" onclick="hideOverlay();window.location.reload();"/></div>                            </div>                        </div>                     </div>',showOverlayAnA(500,350,"<span><b>Thank You!</b></span>",overlayContent,!1)}}})}}function changeLinkedQuestionStatus(a,b,c,d,e){var f=!0;if("donotrefresh"!=e&&(f="deleted"==d?confirm("Are you sure you want make it deleted ?"):confirm("Are you sure you want make it live ?")),f){var g="id="+trim(a)+"&newstatus="+trim(d)+"&msgId="+trim(b)+"&linkedQuestionId="+c;new Ajax.Request("/user/PowerUser/changeLinkedQuestionStatus",{method:"post",parameters:g,onSuccess:function(a){""!=trim(a.responseText)&&("donotrefresh"!=e&&"Failure"!=trim(a.responseText)&&insertLinkedAndOrignalDiscussionsAndQuestions("ques"),"Failure"==trim(a.responseText)&&"donotrefresh"!=e&&alert("You have reached maximum Limit of linking Questions i.e. 10."))}})}}function unlinkedQuestion(a,b){var c="linkedEntityId="+trim(a)+"&linkingEntityId="+trim(b);new Ajax.Request("/user/PowerUser/unlinkedQuestion",{method:"post",parameters:c,onSuccess:function(a){""!=a.responseText&&window.location.reload()}})}function changeLinkedDiscussionStatus(a,b,c,d,e){var f=!0;if("donotrefresh"!=e&&(f="deleted"==d?confirm("Are you sure you want make it deleted ?"):confirm("Are you sure you want make it live ?")),f){var g="id="+trim(a)+"&newstatus="+trim(d)+"&msgId="+trim(b)+"&linkedDiscussionId="+c;new Ajax.Request("/user/PowerUser/changeLinkedDiscussionStatus",{method:"post",parameters:g,onSuccess:function(a){""!=a.responseText&&("donotrefresh"!=e&&"NotSuccess"==trim(a.responseText)&&alert("There is already a linked discussion in live status.Please delete it first."),"donotrefresh"!=e&&insertLinkedAndOrignalDiscussionsAndQuestions("discussion"))}})}}function showHowItWorksLayer(){if($("howitWorksLayerDiv")){if($("howitWorksLayerDiv").style.display="",document.getElementById("OnlineForm"))for(var a=$("OnlineForm").elements,b=0;b<a.length;b++)"select-one"==a[b].type&&(a[b].style.display="none");attachOutMouseClickEventForPage($("howitWorksLayerDiv"),"hideHowItWorksLayer()")}}function hideHowItWorksLayer(){if($("howitWorksLayerDiv")&&($("howitWorksLayerDiv").style.display="none",document.getElementById("OnlineForm")))for(var a=$("OnlineForm").elements,b=0;b<a.length;b++)"select-one"==a[b].type&&(a[b].style.display="")}function validateOnlineDate(a,b,c){if(""==a)return"Please select the "+b;if(!validateStr(a,10))return"Please select date in correct format of dd/mm/yyyy";var d=a.split("/");if(d.length<3)return"Please select date in correct format of dd/mm/yyyy";var e=d[2],f=d[1],g=d[0];if(1!=validateInteger(e,4)||1!=validateInteger(f,2)||1!=validateInteger(g,2))return"Please select date in correct format of dd/mm/yyyy with all the values as numbers";var h=new Date,i=parseInt(h.getFullYear());return i-e<16?"Your age should be above 16":($("age")&&($("age").value=i-e),!0)}function validateOnlineFormAge(a,b,c,d){return 0==a.toString().length&&0==d||(/^(\d)+$/.test(a)?(d=void 0!=typeof d?d:0,c=void 0!=typeof c?c:a.toString().length,a.toString().length>c||a.toString().length<d?c!==d?"Please fill the "+b+" with "+d+" to "+c+" digits":"Please fill the "+b+" with "+c+" digits":!(parseInt(a)<=16)||"Age should be greater than 16"):"Please fill the "+b+" with correct numeric value")}function validateOnlineNIADate(a,b,c){var d=$j("#categoryNIA").val();if(""==a)return"Please select the "+b;if(!validateStr(a,10))return"Please select date in correct format of dd/mm/yyyy";var e=a.split("/");if(e.length<3)return"Please select date in correct format of dd/mm/yyyy";var f=e[2],g=e[1],h=e[0],i=g+"/"+h+"/"+f;if(1!=validateInteger(f,4)||1!=validateInteger(g,2)||1!=validateInteger(h,2))return"Please select date in correct format of dd/mm/yyyy with all the values as numbers";var j=new Date,k=parseInt(j.getFullYear());if(k-f<16)return"Your age should be above 16";var l=new Date("07/01/2015"),m=new Date(i),n=parseInt(l.getFullYear()-m.getFullYear()),o=m.getMonth()-l.getMonth();return(o>0||0==o&&m.getDate()>=l.getDate())&&n--,n>=28&&("DA"==d||"SC"==d||"ST"==d)?"Your age should be below 28 years as on 01/07/2015":n>=26&&("General"==d||"OBC-NC"==d)?"Your age should be below 26 years as on 01/07/2015":($("age")&&($("age").value=k-f),!0)}function slideWidget(a,b,c,d,e){timeout=setTimeout(function(){setMarginSlide(a,b,c,d,e)},c)}function setMarginSlide(a,b,c,d,e){"flavoured_update_ul"==b||"flavoured_update_ul_smart"==b?is_processed1=!1:"carouselContent"==b?is_processed2=!1:is_processed=!1;var f=parseInt($(b).style.marginLeft,10);isNaN(f)?f=-d:f<-(e*a)?f+=d:f-=d,(f>=-(e*a)||f<-(e*a))&&f<=0&&(f==-(e*a+(d-e%d))||f==-(e*a+e%d)?f=-(e*a):f==-e%d&&(f=0),"flavoured_update_ul"==b&&($("latest_update_ul").style.marginLeft=f+"px"),"flavoured_update_ul_smart"==b&&($("latest_update_ul_smart").style.marginLeft=f+"px"),$(b).style.marginLeft=f+"px",slideWidget(a,b,c,d,e),f==-(e*a)&&("flavoured_update_ul"==b||"flavoured_update_ul_smart"==b?is_processed1=!0:"carouselContent"==b?is_processed2=!0:is_processed=!0,clearTimeout(timeout)))}function getJsonDecodedString(a){var b="";if(a.length>0)for(var c=0;c<a.length;c++){var d="";for(var e in a[c])a[c].hasOwnProperty(e)&&(d+=e+"!$!"+a[c][e]+"$!$");b+=d+"$!#!$"}return encodeURIComponent(b)}function fileUploadForOnlineForms(a,b,c){var d="";$(c)?d=$(c):(d=document.createElement("div"),d.id=c,d.style.marginTop="-30px",a.appendChild(d));var e=document.createElement("iframe");e.setAttribute("id","upload_iframe"+c),e.setAttribute("name","upload_iframe"+c),e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("border","0"),e.setAttribute("style","width: 0; height: 0; border: none;"),a.parentNode.appendChild(e),window.frames["upload_iframe"+c].name="upload_iframe"+c,iframeId=document.getElementById("upload_iframe"+c);var f=function(){if(iframeId.detachEvent?iframeId.detachEvent("onload",f):iframeId.removeEventListener("load",f,!1),iframeId.contentDocument?content=iframeId.contentDocument.body.innerHTML:iframeId.contentWindow?content=iframeId.contentWindow.document.body.innerHTML:iframeId.document&&(content=iframeId.document.body.innerHTML),content.indexOf("__")!=-1){var a=content.split("__");d.innerHTML=a[0],document.getElementById("documentAttachmentOnForm")||($("userDocumentsList").innerHTML=a[1])}else d.innerHTML=content;setTimeout(function(){iframeId.parentNode&&iframeId.parentNode.removeChild(iframeId)},250)};iframeId.addEventListener&&iframeId.addEventListener("load",f,!0),iframeId.attachEvent&&iframeId.attachEvent("onload",f),a.setAttribute("target","upload_iframe"+c),a.setAttribute("action",b),a.setAttribute("method","post"),a.setAttribute("enctype","multipart/form-data"),a.setAttribute("encoding","multipart/form-data"),a.submit(),d.innerHTML="Please Wait..."}function showExternalFormOverlay(a){var b="<div style='font-size:14px;line-height:22px;'>You will now be taken to the institute website to complete the application.<br/>Please click <span style='color:#D17520'>OK</span> to continue.</div><div style='margin:10px;text-align:center'><button class='orange-button' onClick='window.open(\""+a+'","_blank","height='+screen.height+",width="+screen.width+",toolbar=yes,resizeable=yes,menubar=yes,location=yes,scrollbars=yes\"); hideOverlay();'>OK</button></div>";showOverlayAnA(500,300,'<span style="padding-left:5px" class="Fnt14">Apply Now</span>',b)}function showExternalFormOverlayWithPayTm(a,b,c,d){if(1==OF_PAYTM_INTEGRATION_FLAG){var e="courseId="+a;url="/Online/OnlineForms/paytmOverLayForExternalForms",$j.ajax({type:"POST",data:e,url:url,success:function(a){var c=a;showOverlay(700,600,'<span style="padding-left:5px" class="Fnt14">Apply Now</span>',c),void 0!==b&&0==b&&$j("#overlayCloseCross").remove()}})}else{var f=500,g=300,h="/mba/resources/application-forms";void 0!==c&&"Engineering"==c&&(h="/college-admissions-engineering-online-application-forms"),h=home_shiksha_url+h;var i="/Online/OnlineFormConversionTracking/send/"+a+"/"+d,j="<div style='font-size:14px;line-height:22px;'>You will now be taken to the institute website to complete the application.<br/>Please click <span style='color:#D17520'>OK</span> to continue.</div><div style='margin:10px;text-align:center'><button class='orange-button' onClick='window.open(\""+i+'","_blank","height='+screen.height+",width="+screen.width+",toolbar=yes,resizeable=yes,menubar=yes,location=yes,scrollbars=yes\");'>OK</button></div><div style='text-align:center;'><a href='"+h+"'>Return to application dashboard</a></div>";showOverlay(f,g,'<span style="padding-left:5px" class="Fnt14">Apply Now</span>',j),void 0!==b&&0==b&&$j("#overlayCloseCross").remove()}}function openExternalFrom(a){var b="/Online/OnlineFormConversionTracking/send/"+a;window.open(b,"_blank","toolbar=yes,resizeable=yes,menubar=yes,location=yes,scrollbars=yes")}function validateAndApplyCoupon(a){var b=$j("#addCoupon").val().trim(),c=/^[a-zA-Z0-9]+$/,d=b.match(c);if($j("#error_coupon").text("").css({color:"#000"}),null==d&&""!=b)return $j("#error_coupon").text("Invalid Coupon Code").css({color:"red"}),!1;if(null!=d)if(void 0!==a&&""!=a)isCouponExists=!0,applyCoupon(a,b,isCouponExists);else{var e=Math.floor(11e3*Math.random());jQuery.ajax({url:"/Online/OnlineForms/getCouponStatus/"+e,type:"POST",data:{coupon:b},beforeSend:function(){$j("#error_coupon").text("Wait...")},success:function(a){a=JSON.parse(a),1!=a.isValid?($j("#error_coupon").text("Invalid Coupon Code").css({color:"red"}),$j("#addCoupon").focus()):$j("#error_coupon").text("Your code is valid!. You will get your payTM credit after payment.").css({color:"green"})}})}else void 0!==a&&void 0!==a&&""==b&&(b=0,isCouponExists=!1,applyCoupon(a,b,isCouponExists))}function applyCoupon(a,b,c,d){var e=Math.floor(11e3*Math.random());jQuery.ajax({url:"/Online/OnlineForms/applyCoupon/"+e,type:"POST",data:"coupon="+b+"&courseId="+a+"&isCouponExists="+c,beforeSend:function(){c&&$j("#error_coupon").text("Wait...")},success:function(b){if(b=JSON.parse(b),1!=b.isValid)return $j("#error_coupon").text("Invalid Coupon Code").css({color:"red"}),void $j("#addCoupon").focus();c&&$j("#error_coupon").text("Your code is valid!. You will get your payTM credit after payment.").css({color:"green"}),"function"==typeof d&&d(a)}})}function paytmWidgettooltipOverlay(a){var b=$j(a).offset().top+30,c=$j(a).offset().left-370;$j("#paytm-wdgttooltip").css({top:b,left:c}),$j("#paytm-wdgttooltip").show()}function changeDropDownSelectedIndex(a,b){try{for(var c=document.getElementById(a),d=c.options.length,e=0;e<d;e++){var f=c.options[e].value;c.options[e].selected=!1,c.options[e].removeAttribute("selected"),f==b&&(c.selectedIndex=e,c.options[e].setAttribute("selected",!0),c.options[e].selected=!0)}}catch(a){}}function validateMonth(a,b,c,d){return 0==a.toString().length&&0==d||(/^(\d)+$/.test(a)?(d=void 0!=typeof d?d:0,c=void 0!=typeof c?c:a.toString().length,a.toString().length>c||a.toString().length<d?c!==d?"Please fill the "+b+" with "+d+" to "+c+" digits":"Please fill the "+b+" with "+c+" digits":!(parseInt(a)>11)||"Enter correct value for "+b):"Please fill the "+b+" with correct numeric value")}function validateYear(a,b,c,d){var e=validateInteger(a,b,c,d);return 1!=e?e:parseInt(a)>(new Date).getFullYear()?b+" cannot be in future":!(parseInt(a)<1e3)||"Invalid "+b}function makeAbroadNavSticky(a,b,c,d,e,f){if("undefined"!=typeof $j){if(already_clicked=$j("#"+d).attr("alreadyClicked"),"YES"==already_clicked||void 0!==f&&"YES"==f){$j("#"+a).mouseover(function(){b()}),$j("#"+a).mouseout(function(){c()}),$j("#study_abroad_nav_menu").mouseover(function(){drpdwnOpen(this,"countryOption")}),$j("#study_abroad_nav_menu").mouseout(function(){MM_showHideLayers("countryOption","","hide")});for(var g in e)$j("#"+e[g]).attr("alreadyClicked","NO"),$j("#"+e[g]).removeAttr("onMouseOver onMouseOut"),$j("#"+e[g]).mouseover(function(){showSubmenuForStuabroadTab(this.id),$j("#"+this.id).addClass("hover")}),$j("#"+e[g]).mouseout(function(){$j("#"+this.id).removeClass("hover")}),$j("#"+e[g]).removeClass("hover");if(void 0!==f&&"YES"==f)return $j("#"+a).hide(),!1}else if("NO"==already_clicked){$j("#"+a).removeAttr("onMouseOut"),$j("#"+a).unbind("mouseout"),$j("#study_abroad_nav_menu").removeAttr("onmouseout onmouseover"),$j("#study_abroad_nav_menu").unbind("mouseout mouseover"),$j("#"+a).show();for(var g in e)$j("#"+e[g]).attr("alreadyClicked","NO"),$j("#"+e[g]).removeClass("hover"),$j("#"+e[g]).removeAttr("onMouseOver onMouseOut"),$j("#"+e[g]).unbind("mouseover mouseout");$j("#"+d).attr("alreadyClicked","YES")}showSubmenuForStuabroadTab(d),$j("#"+d).addClass("hover"),$j("#"+a).show()}}function makeAbroadNavUnSticky(a){try{var b=a.target||a.srcElement;if(void 0!==b.id&&"countryOption"==b.id);else{for(;b;){if("countryOption"==b.id)return!0;b=b.parentNode}if("NO"==$j("#"+studyabroad_navigation_lebel).attr("alreadyClicked"))return!1;makeAbroadNavSticky("countryOption",function(){MM_showHideLayers("countryOption","","show")},function(){MM_showHideLayers("countryOption","","hide")},"topstudyabroadUGcourses",reset_array,"YES"),"YES"==globalnavwidget.getAttribute("fixme")&&(globalnavwidget.className="")}}catch(a){}}function setGATracking(){void 0!==uniqueAttr&&pushCustomVariable(uniqueAttr)}function ucfirst(a){return a.charAt(0).toUpperCase()+a.substr(1)}function manageOtherExamsBlock(a){if(1==a.checked){var b=document.getElementById("other-course-layer");b.style.display="block"}else{for(var c=document.getElementsByName("gnbotherexams[]"),d=0;d<c.length;d++)c[d].checked=!1;var b=document.getElementById("other-course-layer");b.style.display="none"}}function submitMBALayerSearch(){var a=document.getElementById("mbalayer_tempkeyword");if(a){var b=a.value;if("Find Institute by Name"!=(b=ShikshaHelper.trim(b))&&""!=b){setCookie("tsr","searchbtn");var c=encodeURIComponent(b),d="https://www.shiksha.com/search/index?keyword="+c+"&start=0&institute_rows=-1&content_rows=-1&country_id=&city_id=&zone_id=&locality_id=&course_level=&course_type=&min_duration=&max_duration=&search_type=institute&search_data_type=&sort_type=&from_page=gnb_mba_layer&";"undefined"!=typeof pageTracker&&pageTracker._trackEvent("GNB_MBA","SEARCH_BTN_CLICK","SEARCH_BTN_CLICK"),window.location=d}}}function goToAnAFromMBALayer(){"undefined"!=typeof pageTracker&&pageTracker._trackEvent("GNB_MBA","ANA_BTN_CLICK","ANA_BTN_CLICK"),window.location="https://ask.shiksha.com"}function submitGNBExams(){for(var a=document.getElementsByName("gnbexams[]"),b=document.getElementsByName("gnbotherexams[]"),c=[],d=0;d<a.length;d++)1==a[d].checked&&c.push(a[d].value);for(var d=0;d<b.length;d++)1==b[d].checked&&c.push(b[d].value);var f="filters-CATPAGE-3-23-1-1-1-2-0-0-none-none-none",g="/mba/colleges/mba-colleges-in-india?sort=none&nl=0",h=getCookie("userCityPreference");if(""!=h){var i=h.split(":");i.length>2&&(f="filters-CATPAGE-3-23-1-0-"+i[0]+"-"+i[1]+"-"+i[2]+"-0-none-none-none")}if(c.length>0){var j=document.getElementById("gnb_exam_submit_error_cont");j.style.display="none";setCookie("gnb_ex",c.join(":")),setGNBExamsInFilterCookie(c,f);for(e in c){var k=c[e],l="exam_"+k;"undefined"!=typeof pageTracker&&pageTracker._trackEvent("GNB_MBA",l,l)}window.location=g}else{var j=document.getElementById("gnb_exam_submit_error_cont");j.innerHTML="Please select at least one exam.",j.style.display="block"}}function setGNBExamsInFilterCookie(examList,filterCookieName){if(examList.length>0&&""!=filterCookieName){var filtersString=getCookie(filterCookieName),filters=[];if(filtersString.length>0){var filterValues=base64_decode(filtersString);""!=filterValues&&filterValues.length>0&&(filters=eval("("+filterValues+")"))}var courseexamsFilter=[];filters.courseexams&&(courseexamsFilter=filters.courseexams);var courseExamsUpdated=courseexamsFilter,courseExamList=[];if(courseexamsFilter.length>0)for(var i=0;i<courseexamsFilter.length;i++){var exam=courseexamsFilter[i],split=exam.split("_");if(split.length>1){var name=split[0];courseExamList.push(name)}}for(var i=0;i<examList.length;i++){var exam=examList[i],alreadyPresent=ShikshaHelper.in_array(exam,courseExamList);alreadyPresent||courseExamsUpdated.push(exam+"_0")}filters.courseexams=courseExamsUpdated;var filtersString=convertFilterDictionaryIntoString(filters),filtersString=base64_encode(filtersString);setCookieCategoryPage(filterCookieName,filtersString)}}function setCookieCategoryPage(a,b,c,d){c=1800,d="seconds",bufferLimit=10;var e=[],f=!0,g=!1;if(cookieVal=getCookie("CatPgCks"),cookieVal&&(e=cookieVal.split(",")),""!=b&&"none"!=b){if(0==e.length)e.push(a),setCookie("CatPgCks",e);else if(e.length<bufferLimit){for(var h=0;h<e.length;h++)if(e[h]==a){e[h]="",setCookie(e[h],"",-360,"days"),sortByCookieName=e[h].replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days");break}e=filterArray(e),e.push(a),setCookie("CatPgCks",e)}else{for(var h=0;h<e.length;h++){if(e[h]==a){e[h]="",setCookie(e[h],"",-360,"days"),sortByCookieName=e[h].replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days"),f=!1;break}if(getCookie(e[h])&&""!=getCookie(e[h])){cookieVal=$j.parseJSON(base64_decode(getCookie(e[h]))),g=!1;for(element in cookieVal)if(cookieVal[element].length>0){g=!0;break}g||(e[h]="",setCookie(e[h],"",-360,"days"),sortByCookieName=e[h].replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days"),f=!1)}else e[h]="",sortByCookieName=e[h].replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days")}if(f){var i=e.shift();setCookie(i,"",-360,"days"),sortByCookieName=i.replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days")}e=filterArray(e),e.push(a),setCookie("CatPgCks",e)}setCookie(a,b,c,d),sortByCookieName=a.replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days"),cookieVal=getCookie("CatPgCks")}else if(getCookie(a)){for(var h=0;h<e.length;h++)if(e[h]==a){e[h]="";break}e=filterArray(e),e&&setCookie("CatPgCks",e),setCookie(a,"",-360,"days"),sortByCookieName=a.replace("filters-","sortby-"),setCookie(sortByCookieName,"",-360,"days")}}function filterArray(a){for(var b=[],c=0;c<a.length;c++)""!=a[c]&&b.push(a[c]);return b}function convertFilterDictionaryIntoString(a){var b=["duration","exams","AIMARating","mode","courseLevel","degreePref","classTimings","locality","city","state","country","fees","courseexams"],c="{";for(f=0;f<b.length;f++){var d=b[f],e=a[d];(void 0===e||e.length<=0)&&(e=[]),"{"!=c&&(c+=","),c+='"'+b[f]+'" : ',subFilterArray="[";for(var g=0;g<e.length;g++)"["!=subFilterArray&&(subFilterArray+=","),subFilterArray+='"'+e[g]+'"';c+=subFilterArray+"]"}return c+="}"}function populateDefaultParams(){coursePagesTabsMaxScrollLimit=$j("#footer").offset().top,startCoursePagesTabsScrollAt=$j("#course-nav-main").offset().top+$j("#course-nav-main").height(),1==is_back_link_div_visible?(coursePagesStickyTopAdjustment=90,coursePagesStickyBottomAdjustment=120):(coursePagesStickyTopAdjustment=0,coursePagesStickyBottomAdjustment=70),coursePageStickyHeader=$j(".course-page-sticky-header"),"undefined"!=typeof $categorypage&&$categorypage.NaukrilearningTrack?coursePageStickyHeader.css("left",$j("#top-nav_naukri").offset().left+"px"):coursePageStickyHeader.css("left",$j("#top-nav").offset().left+"px"),coursePageStickyHeader.css("top","0px"),coursePageStickyHeaderHeight=$j(".course-page-sticky-header").outerHeight(!0),$j("#changeLocationdiv").length&&(changeLocationdivMinRange=$j("#changeLocationdiv").offset().top,compareBlockDivTop=$j("#compareBlock").offset().top)}function triggerCoursePagesTabsScrolling(){}function scrollCoursePagesHeader(){var a=$j(window).scrollTop();if($j("#ranking_banner_cont").length&&(startCoursePagesTabsScrollAt=$j("#course-nav-main").offset().top+$j("#course-nav-main").height(),coursePagesTabsMaxScrollLimit=$j("#footer").offset().top),"undefined"!=typeof compareSlide&&1==compareSlide||"undefined"!=typeof floatingWidget&&1==floatingWidget&&compareBlockDivTop<a+105)return void coursePageStickyHeader.css("display","none");a>startCoursePagesTabsScrollAt-coursePagesStickyTopAdjustment&&a<coursePagesTabsMaxScrollLimit-coursePagesStickyBottomAdjustment&&(!/MSIE ((5\\.5)|6)/.test(navigator.userAgent)||"Win32"!=navigator.platform)?(stickyHeaderCallBackOnDisplay(),coursePageStickyHeader.show()):(coursePageStickyHeader.css("display","none"),stickyHeaderCallBackOnHiding())}function stickyHeaderCallBackOnDisplay(){manageCatPageChangeLayer(),cpgsGutterHelpTextHidden?hideCPGSGutterHelpText():$j("#cpgs_help_text_div").length&&$j("#cpgs_help_text_div").is(":visible")&&$j("#cpgs_help_text_div").hide()}function manageCatPageChangeLayer(){if(0!=changeLocationdivMinRange){coursePageStickyHeader.offset().top+coursePageStickyHeaderHeight+10>changeLocationdivMinRange&&$j("#changeLocationdiv").is(":visible")&&$j("#changeLocationdiv").hide()}}function stickyHeaderCallBackOnHiding(){0!=changeLocationdivMinRange&&$j("#changeLocationdiv").show(),0==cpgsGutterHelpTextHidden&&$j("#cpgs_help_text_div").length&&$j("#cpgs_help_text_div").not(":visible")&&$j("#cpgs_help_text_div").show()}function validateCaDate(a,b,c){if(""==a||"dd/mm/yyyy"==a)return"Please enter the "+b;var d=a.split("/");if(d.length<3)return"Please enter date in correct format of dd/mm/yy";var e=d[2],f=d[2],g=d[0];return 1==validateInteger(e,4)&&1==validateInteger(f,2)&&1==validateInteger(g,2)||"Please enter date in correct format of dd/mm/yy with all the values as numbers"}function hideCPGSGutterHelpText(){$("cpgs_help_text_div")&&$j("#cpgs_help_text_div").length&&$j("#cpgs_help_text_div").is(":visible")&&$j("#cpgs_help_text_div").fadeOut("slow"),$("cpgs_floating_help_text_div")&&$j("#cpgs_floating_help_text_div").length&&$j("#cpgs_floating_help_text_div").is(":visible")&&$j("#cpgs_floating_help_text_div").hide(),cpgsGutterHelpTextHidden=1}function jumpTo(a){if(screen.width>1024){document.getElementById(a).style.display="block",additionalTop=80,ele="#"+a,$j("html, body").animate({scrollTop:$j(ele).offset().top-additionalTop},500)}else additionalTop=80,ele="#"+a,$j("html, body").animate({scrollTop:$j(ele).offset().top-additionalTop},500);return!1}function processActivityTrack(a,b,c,d,e,f,g,h){var i=void 0!==g;i&&(h||(h=window.event),h.cancelBubble?h.cancelBubble=!0:h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault());var j="/categoryList/CategoryList/activityTrack/"+a+"/"+b+"/"+c+"/"+d+"/"+e+"/"+f;new $j.ajax(j,{success:function(){i&&(window.location.href=g)}})}function sendFeedback(a,b){url="/CP/CollegePredictorController/saveFeedback";var c="compare page";if(data="rating="+a+"&pageName="+c,""!=getCookie("feedback_comparepage")){feedback_comparepageVal=getCookie("feedback_comparepage");var d=feedback_comparepageVal.split("|");if("1"==d[1]?$j("#yes").addClass("upVote-orng-icon"):$j("#no").addClass("dwnVote-orng-icon"),"rate"==b)return $("thankMsg").innerHTML="You have already given the feedback.",void($("thankMsg").style.display="inline");if(a=d[1],feedbackId=d[0],$("feebackMsg").val="",message=$("feebackMsg").value,len=trim(message).length,""==trim(message)||"Please share your comments?"==message)return $("commentErr").style.display="",void($("commentErr").innerHTML="Please enter your feedback.");if(len<5)return $("commentErr").style.display="",void($("commentErr").innerHTML="Feedback should be of atleast 5 characters.");if(len>1e3)return $("commentErr").style.display="",void($("commentErr").innerHTML="Feedback should not be of more than 1000 characters.");message=escape($("feebackMsg").value),data="rating="+a+"&message="+message+"&feedbackId="+feedbackId+"&pageName="+c}$j.ajax({type:"POST",data:data,url:url,success:function(c){if($("thankMsg").style.display="",""!=trim(c))if(1==a?($j("#yes").removeClass("upVote-icon"),$j("#yes").addClass("upVote-orng-icon")):($j("#no").removeClass("dwnVote-icon"),$j("#no").addClass("dwnVote-orng-icon")),$j("#comment-box").show(500),"msg"!=b){var d=c+"|"+a;setCookie("feedback_comparepage",d,1,"/",COOKIEDOMAIN)}else $("thankMsg").innerHTML="Thanks for your comment!",$("thankMsg").style.display="inline",$j("#comment-box").hide(500)}})}function getvote(a,b){votes=$j("#vote_"+b).attr("votes"),votes++,showVoteSuccess(b,votes);var c=getCookie("comparePageVotes");c=c.length?c+"|"+a:a,setCookie("comparePageVotes",c,36e4,"/",COOKIEDOMAIN),processActivityTrack(0,a,0,"COMPARE_PAGE_VOTE","COMPARE_PAGE","NULL")}function toggleCompareCheckboxSearch(a,b,c){void 0===b&&(b=0),void 0===c&&(c="");var d=document.getElementById(a);d&&(d.checked||c?(d.checked=!!b&&b,$j("."+a).each(function(){this.checked=!!b&&b})):(d.checked=!b||b,$j("."+a).each(function(){this.checked=!b||b}))),updateCompareTextSearch(a)}function updateCompareTextSearch(a){var b=document.getElementById(a);if(b)if(b.checked){obj=$j("#"+a).parent().find("label");var c=document.createTextNode("Added to Compare");obj.contents().filter(function(){return 3==this.nodeType}).remove(),obj.append(c)}else{obj=$j("#"+a).parent().find("label");var c=document.createTextNode("Add to Compare");obj.contents().filter(function(){return 3==this.nodeType}).remove(),obj.append(c)}}function gotoPredictorPage(){window.location.reload()}function disableScroll(){$j("body").attr("style","overflow:hidden");var a=new Array(33,34,38,40);$j(document).keydown(function(b){var c=b.which;if($j.inArray(c,a)>-1)return b.preventDefault(),!1})}function showVoteSuccess(a,b){$j("#vote_"+a).hide(),$j("#vote_count"+a).hide(),$j("#vote_confirm_image"+a).show(),1==b?$j("#vote_confirm_text"+a).html(b+" Student preferred this college."):$j("#vote_confirm_text"+a).html(b+" Students preferred this college."),$j("#vote_confirm_text"+a).show()}function updateReviewStatus(a,b,c,d,e,f,g){if("later"==a){var h=$j("input[type='radio'][name='reason_later']:checked").val();if(void 0===h)return void alert("Please Select An Option")}if("rejected"==a){var h=$j("input[type='radio'][name='reason_reject']:checked").val();if(void 0===h)return void alert("Please Select An Option")}void 0!==g&&$j(g).addClass("disabled"),jQuery.ajax({url:"/CAEnterprise/CampusAmbassadorEnterprise/updateReviewStatus",type:"POST",data:{status:a,reason:h,reviewId:b},success:function(d){if("YES"==f){if(void 0!==g&&$j(g).removeClass("disabled"),"published"==a){$j("#rejectmsg_"+b+", #acceptmsg_"+b).hide(),$j("#latermsg_"+b).hide(),$j("#moderationDetail_"+b).show();var h='<input id="unpublishReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="UnPublish Review" class="fontSize_10p" onclick=" updateReviewStatus(&quot;accepted&quot;,'+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)" />';$j("#mainStausBtn_"+b).html(h),$j("#CourseFieldErrorDiv"+b).hide()}else if("accepted"==a){if($j("#acceptmsg_"+b).show(),$j("#rejectmsg_"+b).hide(),$j("#CourseFieldErrorDiv"+b).hide(),$j("#latermsg_"+b).hide(),$j("#moderationDetail_"+b).show(),"YES"!=c)var h='<input id="rejectReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Reject Review" class="fontSize_10p" onclick="reviewReject('+b+",&quot;"+c+"&quot,&quot;&quot;,"+e+',&quot;YES&quot;,this)"><input id="CourseMapField'+b+'" name="CourseMapField'+b+'" type="text" placeholder="Enter Course ID" value="" style="width:120px; padding:3px 2px 4px; margin-left:10px;margin-right:3px;"/><input id="publishReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Publish Review" class="fontSize_10p" onclick=" mapCourseIdToNonMappedCollege($j(\'#CourseMapField'+b+"').val(),"+b+","+e+",&quot;"+c+'&quot;,this)"/>';else var h='<input id="rejectReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Reject Review" class="fontSize_10p" onclick="reviewReject('+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)"><input id="publishReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Publish Review" class="fontSize_10p" onclick=" updateReviewStatus(&quot;published&quot;,'+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)"/>';$j("#mainStausBtn_"+b).html(h)}else if("rejected"==a){if($j("#rejectmsg_"+b).show(),$j("#acceptmsg_"+b).hide(),$j("#CourseFieldErrorDiv"+b).hide(),$j("#latermsg_"+b).hide(),$j("#DHTMLSuite_modalBox_transparentDiv").hide(),$j("#DHTMLSuite_modalBox_contentDiv").hide(),$j("#rejectReview_"+b).css({display:"none"}),$j("#moderationDetail_"+b).show(),"NO"==c)var h='<input id="acceptReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Accept Review" class="fontSize_10p" onclick="updateReviewStatus(&quot;accepted&quot;,'+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)"><input id="CourseMapField'+b+'"  name="CourseMapField'+b+'" type="text" placeholder="Enter Course ID" value="" style="width:120px; padding:3px 2px 4px; margin-left:10px;margin-right:3px;"/><input id="publishReview_'+b+'" class= "orange-button" type="button" value="Publish Review" class="fontSize_10p" style="margin:5px !important;width:132px;" onclick=" mapCourseIdToNonMappedCollege($j(\'#CourseMapField'+b+"').val(),"+b+","+e+",&quot;"+c+'&quot;,this)"/><input id="rejectReview_'+b+'" class= "orange-button" type="button" value="Reject Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick="reviewReject('+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)">';else var h='<input id="acceptReview_'+b+'" class= "orange-button" type="button" value="Accept Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick="updateReviewStatus(&quot;accepted&quot;,'+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)"><input id="publishReview_'+b+'" class= "orange-button" type="button" style="margin:5px !important;width:132px;" value="Publish Review" class="fontSize_10p" onclick=" updateReviewStatus(&quot;published&quot;,'+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)"/><input id="rejectReview_'+b+'" class= "orange-button" type="button" value="Reject Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick="reviewReject('+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)">';$j("#mainStausBtn_"+b).html(h),$html=$j("#mainStausBtn_"+b).html()}else if("later"==a)for($j("#latermsg_"+b).show(),$j("#rejectmsg_"+b).hide(),$j("#acceptmsg_"+b).hide(),$j("#CourseFieldErrorDiv"+b).hide(),$j("#DHTMLSuite_modalBox_transparentDiv").hide(),$j("#DHTMLSuite_modalBox_contentDiv").hide(),$j("#moderationDetail_"+b).show(),h="",$count=$j("#mainStausBtn_"+b+" div").length,$i=0;$i<$count;$i++)for($elementsCount=$j("#mainStausBtn_"+b+" div").eq($i).find("input").length,$k=0;$k<$elementsCount;$k++)h+=$j("#mainStausBtn_"+b+" div").eq($i).find("input").eq($k).prop("outerHTML")}else if("published"==a){$j("#rejectmsg_"+b+", #acceptmsg_"+b).hide(),$j("#moderationDetail_"+b).show();var h='<input id="unpublishReview_'+b+'" class= "orange-button" type="button" value="UnPublish Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick=" updateReviewStatus(&quot;accepted&quot;,'+b+')" /><input id="rejectReview_'+b+'" style="margin:5px !important;width:132px;" class= "orange-button" type="button" value="Reject Review" class="fontSize_10p" onclick="reviewReject('+b+')">';$j("#mainStausBtn_"+b).html(h)}else if("accepted"==a){$j("#acceptmsg_"+b).show(),$j("#rejectmsg_"+b).hide(),$j("#moderationDetail_"+b).show();var h='<input id="rejectReview_'+b+'" style="margin:5px !important;width:132px;" class= "orange-button" type="button" value="Reject Review" class="fontSize_10p" onclick="reviewReject('+b+')"><input id="publishReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Publish Review" class="fontSize_10p" onclick=" updateReviewStatus(&quot;published&quot;,'+b+')"/><input id="laterReview_'+b+'" style="margin:5px !important;width:132px;" class= "orange-button" type="button" value="Mark Later" class="fontSize_10p" onclick="reviewLater('+b+')">';$j("#mainStausBtn_"+b).html(h)}else if("rejected"==a){$j("#rejectmsg_"+b).show(),$j("#acceptmsg_"+b).hide(),$j("#DHTMLSuite_modalBox_transparentDiv").hide(),$j("#DHTMLSuite_modalBox_contentDiv").hide(),$j("#rejectReview_"+b).css({display:"none"}),$j("#moderationDetail_"+b).show();var h='<input id="acceptReview_'+b+'" class= "orange-button" type="button" value="Accept Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick="updateReviewStatus(&quot;accepted&quot;,'+b+')"><input id="publishReview_'+b+'" class= "orange-button" type="button" value="Publish Review" style="margin:5px !important;width:132px;" class="fontSize_10p" onclick=" updateReviewStatus(&quot;published&quot;,'+b+')"/><input id="rejectReview_'+b+'" class= "orange-button" style="margin:5px !important;width:132px;" type="button" value="Reject Review" class="fontSize_10p" onclick="reviewReject('+b+",&quot;"+c+"&quot;,&quot;&quot;,"+e+',&quot;YES&quot;,this)">';$j("#mainStausBtn_"+b).html(h)}else if("later"==a)for($j("#latermsg_"+b).show(),$j("#rejectmsg_"+b).hide(),$j("#acceptmsg_"+b).hide(),$j("#CourseFieldErrorDiv"+b).hide(),$j("#DHTMLSuite_modalBox_transparentDiv").hide(),$j("#DHTMLSuite_modalBox_contentDiv").hide(),$j("#moderationDetail_"+b).show(),h="",$count=$j("#mainStausBtn_"+b+" div").length,$i=0;$i<$count;$i++)for($elementsCount=$j("#mainStausBtn_"+b+" div").eq($i).find("input").length,$k=0;$k<$elementsCount;$k++)h+=$j("#mainStausBtn_"+b+" div").eq($i).find("input").eq($k).prop("outerHTML")}})}function validateName(a,b,c,d){var e=/^[A-Za-z0-9 ]+$/;return a.length<d?1==d?b+" must be at least 1 character long.":b+" must be at least "+d+" characters long.":a.length>c?b+" can have at most "+c+" characters.":0!=e.test(a)||"Please enter valid "+b+" without special characters."}function getScrollbarWidth(){var a=document.createElement("div");a.style.visibility="hidden",a.style.width="100px",a.style.msOverflowStyle="scrollbar",document.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=document.createElement("div");c.style.width="100%",a.appendChild(c);var d=c.offsetWidth;return a.parentNode.removeChild(a),b-d}function showOverlayOnPageLeave(a,b,c){if(1==a){var d=getScrollbarWidth();$j(window).mouseleave(function(a){a.clientX>=$j(document).width()-d||$j("select").is(":focus")||b()}),$j(document).keyup(function(a){27==(a.keyCode||a.which)&&c()})}}function hideDivOnBlur(a,b){$j(document).on("click",function(c){$j(c.target).closest("#"+a).length||$j("#"+a).is(":visible")&&($j("#"+a).fadeOut(),$j("#"+b).fadeOut())})}function removeFromShortlist(a){if(removalInProgress)return!1;if("undefined"==typeof globalShortlistParams||""==globalShortlistParams||null==globalShortlistParams){if(1!=confirm("Are you sure you want to remove this college from My Shortlist?"))return;globalShortlistParams={courseId:a,action:"delete",shortlistCallback:"removeShortlistTupleCallback"}}else globalShortlistParams.pageName,"compareDesktop"==globalShortlistParams.pageName&&$j("#DHTMLSuite_modalBox_transparentDiv").css("display","block");return removalInProgress=1,addToShortlist(),updateShortListCount(),!1}function removeShortlistTupleCallback(a,b){updateShortListCount(),void 0!==b.pageName&&"compareDesktop"==b.pageName?($j("#comp_star_"+b.courseId).removeClass("icon-shortlisted").addClass("icon-shortlist"),$j(".shrlist-txt").removeClass("shortlist-disable"),$j(".shrt"+b.courseId+" span").html("Shortlist"),removalInProgress=0,shortlistStatus[b.courseId]=0,$j("#DHTMLSuite_modalBox_transparentDiv").css("display","none")):(enableShortlistButton(b.courseId),$j("#row_"+b.courseId).next(".tuple-cta").remove(),$j("#row_"+b.courseId).next(".tuple-details-tab").remove(),$j(".tuple_"+b.courseId).slideUp("slow",function(){$j("#row_"+b.courseId).hide("slow",function(){$j("#row_"+b.courseId).remove()}),removalInProgress=0}))}function addToShortlist(){var a=globalShortlistParams;return globalShortlistParams=null,void 0===a.action&&($j("#"+a.buttonId).length>0&&"true"==$j("#"+a.buttonId).attr("isShortlisted")?a.action="delete":a.action="add"),makeCustomAjaxCall("/myShortlist/MyShortlist/addToShortlist/",a,a.shortlistCallback,a),!1}function shortlistCallback(a,b){"add"==b.action?($j("#"+b.buttonId).length>0&&$j("#"+b.buttonId).attr("isShortlisted","true"),b.isNewUser?window.location.reload():"shortlisted"==a.msg?alert("Course already shortlisted"):refreshShortlistedTuples()):"delete"==b.action&&($j("#"+b.buttonId).length>0&&$j("#"+b.buttonId).attr("isShortlisted","false"),alert("Course removed from shortlist"))}function careerCentralOptionSet(){return 0==$j("input:radio[name=careerstream]:checked").length?($j("#stream_homepage_error").html("Please select a stream."),!1):(stream=$j("input:radio[name=careerstream]:checked").val(),setCookie("streamSelected",stream,0),$j("#careercentral").attr("action","/careers/opportunities"),$j("#careercentral").submit(),!0)}function widgetSlideLeft(a,b){if(currentSlide[a]!=firstSlide[a]){if(currentSlide[a]++,"undefined"!=typeof sliderFlag&&"floatingOnlineFormWidget"==sliderFlag[a])var c=175*currentSlide[a];else var c=slideWidth*currentSlide[a];$j("#slideContainer"+a).animate({left:c+"px"}),widgetChangeActiveButton(a,b)}}function widgetSlideRight(a,b){if(currentSlide[a]!=lastSlide[a]){if(currentSlide[a]--,"undefined"!=typeof sliderFlag&&"floatingOnlineFormWidget"==sliderFlag[a])var c=175*currentSlide[a];else var c=slideWidth*currentSlide[a];$j("#slideContainer"+a).animate({left:c+"px"}),widgetChangeActiveButton(a,b)}}function widgetChangeSlide(a,b,c){if(currentSlide[b]=(a-1)*-1,"undefined"!=typeof sliderFlag&&"floatingOnlineFormWidget"==sliderFlag[b])var d=175*currentSlide[b];else var d=slideWidth*currentSlide[b];$j("#slideContainer"+b).animate({left:d+"px"}),widgetChangeActiveButton(b,c)}function widgetChangeActiveButton(a,b){if(currentSlide[a]==firstSlide[a]?($("prev"+a).className="common-sprite widget-prev-icon",$("next"+a).className="common-sprite widget-next-icon-active"):currentSlide[a]==lastSlide[a]?($("prev"+a).className="common-sprite widget-prev-icon-active",$("next"+a).className="common-sprite widget-next-icon"):($("prev"+a).className="common-sprite widget-prev-icon-active",$("next"+a).className="common-sprite widget-next-icon-active"),1==b)for(var c=firstSlide[a];c>=lastSlide[a];c--){var d=c*-1+1;c==currentSlide[a]?$("recoSliderButton"+d+a).className="active":$("recoSliderButton"+d+a).className=""}}function setNotificationAsSeen(a,b){var c="myShortlist/MyShortlist/setNotificationAsSeen/"+a;new $j.ajax(c,{success:function(){b&&(window.location.href=redirectURL)}})}function setScrollbarForMsNotificationLayer(){$j(".notificationLayer").length>0&&$j(".shortlist-info-list").length>0&&($j(".course-page-sticky-header").length>0&&$j(".course-page-sticky-header").show(),$j(".notificationLayer").show(),$j(".shortlist-info-list").find(".overview").height()<350&&($j(".shortlist-info-list").find(".viewport").height($j(".shortlist-info-list").find(".overview").height()+30),$j(".shortlist-info-list").find(".overview").css({width:"auto"}),$j(".notificationLayer").css({"padding-right":"0"})),$j(".shortlist-info-list a").addClass("notification-link"),$j(".shortlist-info-list a").attr("style","color : #0065de !important;padding : 0 !important"),$j(".shortlist-info-list").tinyscrollbar(),$j(".notificationLayer").hide(),$j(".course-page-sticky-header").length>0&&$j(".course-page-sticky-header").hide())}function mapCourseIdToNonMappedCollege(a,b,c,d,e){var f=/^([1-9]|[1-9][0-9]+)$/;0==a.toString().length?($j("#CourseFieldErrorDiv"+b+" .errorMsg").html("Please enter course Id with correct numeric value"),$j("#CourseFieldErrorDiv"+b).show()):f.test(a)?(void 0!==e&&$j(e).addClass("disabled"),$j("#CourseFieldErrorDiv"+b).hide(),jQuery.ajax({url:"/CAEnterprise/CampusAmbassadorEnterprise/updatecourseIdForNonMappedColleges",type:"POST",data:{reviewId:b,courseId:a,yearOfGraduation:c},success:function(f){$j(e).removeClass("disabled"),"INVALID_COURSE_ID"==f?($j("#CourseFieldErrorDiv"+b).show(),$j("#CourseFieldErrorDiv"+b+" .errorMsg").html("Invalid Course Id")):(updateReviewStatus("published",b,d,a,c,"YES",this),location.reload())}})):($j("#CourseFieldErrorDiv"+b+" .errorMsg").html("Please enter course Id with correct numeric value"),$j("#CourseFieldErrorDiv"+b).show())}function shareCouponCodeEmailSmsToUser(a){var b=[];b.userId=a,makeCustomAjaxCall("/shiksha/sendShareCodeToUser/",b,"shareCouponCodeEmailCallback",b)}function shareCouponCodeEmailCallback(a,b){gaTrackEventCustom("Online_Form_Floating_Widget","Share_Now","","click","/Online/OnlineForms/showOFConfirmationPage/0")}function paytmWidgettooltip(a){var b=$j(a).offset().top+45,c=$j(a).offset().left-45;$j("#paytm-wdgttooltip").css({top:b,left:c}),$j("#paytm-wdgttooltip").show()}function readMore(a){$j("#readMore"+a).hide(),$j("#readMoreFull"+a).show()}function showTabularReviews(a){setCookie("collegeReviewOrder",a),window.location=basePageUrl}function getCollegeReviewDekstop(a,b,c,d){var e=Math.floor(11e3*Math.random());void 0===c&&(c=0);var f="&start="+c+"&fromPage="+d;$j.ajax({url:"/CollegeReviewForm/CollegeReviewController/collegeReviewsHomepage",type:"post",data:f+"&rndm="+e,beforeSend:function(){},success:function(a){c++,scrollToBlock("reviewWidget",180,500),$j("#reviewWidget").html(a)}})}function scrollToBlock(a,b,c){$j("html, body").animate({scrollTop:$j("#"+a).offset().top-b},c)}function getSuggestedSearch(a,b){var c="",d="",e=!1;void 0!==b&&$j("#suggestions_container li").length>0&&(a=parseInt($j("#suggestions_container li").length),e=!0);var f=void 0===a||""==a?6:6-parseInt(a);f>0||e?(a<6&&(d="<h1>SUGGESTED SEARCHES</h1>"),$j(".tileFinder").each(function(a){if(a<f){var b=$j(this).text();c=c+'<li title="'+b+'"><a href="'+$j(this).attr("href")+'">'+b+"</a></li>"}}),$j("#suggestedList").html(d+c),$j("#tileSuggested").slideDown("slow"),$j("#mainWrap").length>0&&$j("#mainWrap").css({"box-shadow":"1px 1px 5px #333"}),e=!1):(e=!1,$j("#suggestedList").html(""))}function gotoSearchPage(a,b){var c=$j("#"+b).val().trim();""!=c?window.location=a+"/search/index?keyword="+c+"&start=0":$j("#"+b).val("").focus()}function isElementInViewport(a){"function"==typeof jQuery&&a instanceof jQuery&&(a=a[0]);var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}function markReviewRead(a,b,c){jQuery.ajax({url:"/CollegeReviewForm/CollegeReviewController/markReviewRead",type:"POST",data:{reviewId:a,source:b,pageName:c},success:function(b){console.log("ReviewId "+a+" marked as Viewed")},error:function(a){}})}function validateFirstLastName(a,b,c,d,e){void 0==c&&(c=50),void 0==d&&(d=5);var f=trim(unescape(a)),e=/^[ A-Za-z.]*$/;if(""==f||"Your Name"==f||"Your First Name"==f||"Your Last Name"==f)return"Please enter your "+b;if(f.length<d)return b+" should be atleast "+d+" characters.";if(f.length>c)return b+" cannot exceed "+c+" characters.";if(0==e.test(f))return"The "+b+" can not contain special characters or numerals.";textBoxContent=f.replace(/[(\n)\r\t\"\']/g," "),textBoxContent=f.replace(/[^\x20-\x7E]/g,""),textBoxContent.toLowerCase();var g=!1;if("undefined"==typeof blacklistWords&&(blacklistWords=new Array),blacklistWords)for(i=0;i<blacklistWords.length;i++)textBoxContent.indexOf(blacklistWords[i].toLowerCase())>=0&&(g=!0);return!g||"This username is not allowed."}function ReviewsSocialShare(a,b,c){"facebook"==a?(window.open("https://www.facebook.com/sharer.php?u="+b,"sharer","toolbar=0,status=0,width=620,height=280"),trackEventByGA("HTML5_COLLEGE_REVIEWS_FACEBOOK_SHARE")):"twitter"==a?(window.open("https://twitter.com/intent/tweet?status="+c+"+"+b,"sharer","toolbar=0,status=0,width=620,height=280"),trackEventByGA("HTML5_COLLEGE_REVIEWS_TWITTER_SHARE")):"linkedin"==a?(window.open("https://www.linkedin.com/shareArticle?mini=true&url="+b+"&title="+c,"sharer","toolbar=0,status=0,width=620,height=560"),trackEventByGA("HTML5_COLLEGE_REVIEWS_LINKEDIN_SHARE")):"google"==a&&(window.open("https://plus.google.com/share?url="+b,"sharer","toolbar=0,status=0,width=620,height=280"),trackEventByGA("HTML5_COLLEGE_REVIEWS_GOOGLE_SHARE"))}function openCareerCounsellingPage(a){setCookie("streamSelected",a,0),window.location.href="/careers/opportunities"}function getUrlParameter(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function changeMobileFieldmaxLength(a,b){"91-2"==a?($j("#"+b).attr("maxlength",10),$j("#"+b).attr("minlength",10)):($j("#"+b).attr("maxlength",20),$j("#"+b).attr("minlength",6)),$j("#"+b).val("")}function userActionTracking(a,b,c,d){void 0!==d&&1==d||(d=!1),$j.ajax({url:"/user/userTracking/userActionTracking",type:"POST",async:d,data:{trackingKey:a,trackingValue:b,trackingType:c},success:function(a){return a},error:function(){}})}function escapeHTML(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;")}function lazyLoadingOfResults(a,b,c,d,e,f,g){$j(document).unbind("scroll",lazyloadScrollFunction);var h={ajaxUrl:a,start:b,resultCount:c,lazyLoadSuccessCallBackFn:d,lazyLoadFailureCallBackFn:e,customParams:f,pageType:g};$j(document).bind("scroll",h,lazyloadScrollFunction)}function loadMoreResults(a,b,c,d,e){$j("#"+e[0]).fadeIn(),$j.ajax({url:a,type:"POST",data:b,success:function(a){c(a)},error:function(){d()}})}function getCustomFormData(a){var b={};switch(a){case"ANA":b={title:"Please register to complete this action",subTitle:"Join Ask & Answer community to",points:["Relevant questions and discussions on your homefeed","Follow experts and Tags","Ask questions and take part in discussions"]}}return b}function showCustomizedRegistrationForm(a,b,c,d){var e=JSON.stringify(getCustomFormData(a)),f={formContext:a,trackingPageKeyId:b,customData:e,isCustomForm:"yes"};void 0!==c&&(f.callback=c),void 0!==d&&(f.callBackParams=d),"object"==typeof shikshaUserRegistration&&shikshaUserRegistration.showRegisterFreeLayer(f)}function registerUserCallWrapAnA(a,b){"undefined"==typeof registrationIdentifier&&(registrationIdentifier="");var c={trackingKeyId:b.trackingPageKeyId,callbackFunction:a,callbackFunctionParams:b};$createResponse=!1,void 0!==b.isCreateResponse&&1==b.isCreateResponse&&($createResponse=!0),$createResponse?(courseId=b.courseId,actionType=b.actionType,responseForm.showResponseForm(courseId,actionType,"course",c)):isUserLoggedIn||""!=trim(getCookie("user"))?(b.userAlreadyLoggedIn=!0,window[a]({},b)):registrationForm.showRegistrationForm(c)}function lazyLoadCss(a){var b=function(){var b=document.createElement("link");b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)},c=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;c?c(b):window.addEventListener("load",b)}function LazyLoadCompleteCallbackAnA(a){void 0===a.page&&(a.page="homePageAnA"),page=a.page,"allQDPage"==page?(postingType=a.postingType,initializeAllQuestionDiscussionPage(postingType)):"homePageAnA"==page?(postingType=a.postingType,initializeHomePage(postingType)):"allQuestionPage"==page?(postingType=a.postingType,initializeAllQuestionPage(postingType)):"expertsPanelPage"==page&&initializePanelExpertsPage()}function LazyLoadCallBackTDP(){initializeTagDetailPage()}function LazyLoadCallBackQDP(){initializeQDPDesktop()}function handleAnAToastMsg(a){if($j(".report-msg").on("mouseenter",function(){$j(this).stop().attr("style","display:block;top:auto;")}),$j(".report-msg").on("mouseleave",function(){$j(".report-msg").stop().delay(2e3).fadeOut(4e3)}),void 0!=a&&""!=a)$j("#toastMsg").html(a),$j(".report-msg").attr("style","display:block;top:auto;"),$j(".report-msg").delay(2e3).fadeOut(400);else if(getCookie("toastMsg")){var a=getCookie("toastMsg");""!=a&&void 0!=a&&($j("#toastMsg").html(a),$j(".report-msg").attr("style","display:block;top:auto;"),$j(".report-msg").delay(2e3).fadeOut(4e3),setCookie("toastMsg","",1,"seconds"))}}function closeToast(a){$j(a).closest(".report-msg").hide()}function LazyLoadAnACoursePageLayer(){desktopQPostingObject=new DesktopQuesDiscPosting({postingForPage:"shikshaHomePage",postingType:"layer"}),desktopQPostingObject.bindElementsAndInitialize("question"),$j("#questionText").on("click",function(){desktopQPostingObject.openLyeredQDPosting()}),$j("#AskAnAButtonCoursePage").on("click",function(){desktopQPostingObject.openLyeredQDPosting()})}function showFullReview(a){jQuery.ajax({url:"/CollegeReviewForm/CollegeReviewController/showFullReview",type:"POST",data:{reviewId:a},success:function(a){showReviewLayer(a)}})}function showReviewLayer(a){var b=a;showOverlay(535,250,"",b,!1),$j("#genOverlayHolderDiv").attr("style","background:transparent !important;border:none !important")}function LazyLoadCallBackInstitute(){instituteLazyLoadCallBack()}function checkCourseForShortlistAfterRegistrationWrapper(a,b){var c=new myShortlistClass;c.firstShortlist=b.firstShortlist,c.checkCourseForShortlistAfterRegistration(a,b)}function showCommonRecommendationLayer(a,b,c){if("EBrochure_RECO_Layer"!=b&&void 0!==a&&""!=a&&void 0!==b&&""!=b){var d={courseId:a,page:b,action:c},e={holderId:"signUpForm"};"undefined"!=typeof lazydBRecolayerCSS&&""!=lazydBRecolayerCSS&&lazyLoadCss(lazydBRecolayerCSS),registrationFormAjax.showLoader(),registrationFormAjax.makeAjaxCall("/nationalCategoryList/NationalCategoryList/fetchEBrochureDownloadRecom","POST",d,!0,"showOverlay","registrationForm",e,"off")}}function gotoComparePageWrapper(a){a.userId>0&&myCompareClass.self.getComparePageUrl()}function addShortlistFromSearch(a,b,c){if(!shortlistInProcess){shortlistInProcess=1;var d,e="";switch(c){case"Category":e="ND_Category";break;case"SearchV2":e="ND_SERP";break;case"AllCoursesPage":e="ND_ALL_COURSES_PAGE";break;case"ebochureCallback":e="EBrochure_RECO_Layer"}d={trackingKeyId:b,pageType:e,shortlistCallback:"addShortlistFromSearchCallback",showRecommendations:1},d.shortlistCallbackParam={courseId:a,product:c,trackingKeyId:b,action:"add"},myShortlistObj.checkCourseForShortlist(a,d)}}function removeShortlistFromSearch(a,b,c){if(!removalInProgress){removalInProgress=1;var d,e="";switch(c){case"Category":e="ND_Category";break;case"SearchV2":e="ND_SERP";break;case"AllCoursesPage":e="ND_ALL_COURSES_PAGE";break;case"ebochureCallback":e="EBrochure_RECO_Layer"}d={shortlistCallback:"removeShortlistFromSearchCallback",pageType:e},d.shortlistCallbackParam={trackingKeyId:b,courseId:a,product:c},myShortlistObj.checkCourseForShortlist(a,d)}}function addShortlistFromSearchCallback(a,b){if(courseId=b.courseId,product=b.product,trackingKeyId=b.trackingKeyId,"invalidUser"==a.msg)return shortlistCallbackLayerFailed(courseId),void(shortlistInProcess=0);"undefined"!=typeof product&&("ebochureCallback"==product&&($j("#shrt-layer"+courseId).find("span").text("Shortlisted"),$j("#shrt-layer"+courseId).attr("onclick","removeShortlistFromSearch("+courseId+","+trackingKeyId+",'"+product+"')")),$j("#shrt"+courseId).find("span").text("Shortlisted"),$j("#shrt"+courseId).attr("onclick","removeShortlistFromSearch("+courseId+","+trackingKeyId+",'"+product+"')")),shortlistInProcess=0}function removeShortlistFromSearchCallback(a,b){courseId=b.courseId,product=b.product,trackingKeyId=b.trackingKeyId,"undefined"!=typeof product&&("ebochureCallback"==product&&($j("#shrt-layer"+courseId).find("span").text("Shortlist"),$j("#shrt-layer"+courseId).attr("onclick","addShortlistFromSearch("+courseId+","+trackingKeyId+",'"+product+"')")),$j("#shrt"+courseId).find("span").text("Shortlist"),$j("#shrt"+courseId).attr("onclick","addShortlistFromSearch("+courseId+","+trackingKeyId+",'"+product+"')")),removalInProgress=0}function searchCompareCTAEventAttach(){$j(document).on("click","ul.tupl-options a div.nav-checkBx > label.nav-heck",function(){if($tupleSource=$j(this).attr("tupleListSource"),"ebochureCallback"==$tupleSource){checkboxId="compare"+$j(this).attr("instid")+"-"+$j(this).attr("courseid")+"-layer";var a="compare"+$j(this).attr("instid")+"-"+$j(this).attr("courseid")}else checkboxId="compare"+$j(this).attr("instid")+"-"+$j(this).attr("courseid");toggleCompareCheckboxSearch(checkboxId),void 0!==a&&toggleCompareCheckboxSearch(a);var b=$j(this).attr("comparetrackingpagekeykeyid")?$j(this).attr("comparetrackingpagekeykeyid"):"1234",c={courseId:$j(this).attr("courseid"),tracking_keyid:b,customCallBack:addRemoveCompareSearchCallback,instituteId:$j(this).attr("instid")},d={courseid:$j(this).attr("courseid"),instid:$j(this).attr("instid"),source:"checkBoxClick",tupleSource:$tupleSource};myCompareObj.addToCompare(c,this,d)})}function addRemoveCompareSearchCallback(a,b){if(checkboxId="compare"+a.instituteId+"-"+a.courseId,void 0!==b&&void 0!==b.tupleSource&&"ebochureCallback"==b.tupleSource){checkboxId+="-layer";var c="compare"+a.instituteId+"-"+a.courseId}void 0!==a&&void 0!==a.msg&&(msg=a.msg,"failed"==msg&&(toggleCompareCheckboxSearch(checkboxId),void 0!==c&&toggleCompareCheckboxSearch(c),"exceedLimit"!=a.actionType&&alert("Some error Occured. Please try again")),void 0===b&&("success"==a.msg&&"removed"==a.actionType&&(toggleCompareCheckboxSearch(checkboxId),void 0!==c&&toggleCompareCheckboxSearch(c)),"success"==a.msg&&"removeAll"==a.actionType&&$j.each($j("input[name='compare']:checked"),function(a){checkboxId=$j(this).attr("id"),toggleCompareCheckboxSearch(checkboxId)})))}function storeHelpfulFlag(a,b,c){var d=$j(b).attr("value"),e="/CollegeReviewForm/CollegeReviewForm/setHelpfulFlag/"+a+"/"+d+"/"+c;new Ajax.Request(e,{method:"get",onSuccess:function(){$j("#rv_thank_text_"+a).show(),$j("#rv_helpful_text_"+a).hide()},onFailure:function(){alert("Something went wrong...")}})}function initlazyLoadlayer(){$j.fn.lazyload&&$j(".db-broucher  img.lazy").lazyload({effect:"fadeIn",threshold:100,container:$j(".db-broucher")})}function eventBindSearch(){dwldBrchureLayerEvents=1,$j(document).on("click",".tpl-curse-dtls .more-exam",function(){$j(this).children(".srpHoverCntnt").show()}),$j(document).mouseup(function(a){var b=$j(".srpHoverCntnt");b.is(a.target)||0!==b.has(a.target).length||b.hide();var b=$j("#searchby-college")})}function automatedUrlScript(){var a="undefined"==typeof $j?$:$j;if("undefined"!=typeof ele&&""!=ele&&""!=ele.selector){if(_pushReport(),a.each(ele.selector,function(b,c){var d=a(c+" a[href]").length,e=ele.heading[b];_prepareHeading(e,b,d),a(c+" a[href]").each(function(c){var d=a(this).attr("href"),f=a(this).attr("track")?a(this).attr("track"):a(this).attr("data-type"),f=""==f||void 0===f?a(this).text().length>30?a(this).text().substr(0,30)+"...":a(this).text():f;a("#count_"+b).text(c+1),void 0!==d&&null==d.match(/javascript/gi)&&void 0!==f&&_doRequest(e,f,d,this)})}),"Main Wrapper"==ele.heading[0]){var b=0;totalUrl=parseInt(a("#_totalReq").text()),a("#_totalReq").text(totalUrl+parseInt(a("img[src], iframe[src]").length)),a("#_urlstatus").text("img-iframe Reading...")}else{var b="if";_prepareHeading("Img-Iframe",b,parseInt(a("img[src], iframe[src]").length))}if(a("img[src], iframe[src]").each(function(c){var d=a(this).prop("tagName").toLowerCase()+":src",e=a(this).attr("src"),f=a(this).attr("title")?a(this).attr("title"):a(this).attr("alt"),f=""!=f&&void 0!==f?f.length>20?f.substr(0,20)+"...:"+d:f+":"+d:d;a("#count_"+b).text(parseInt(a("#count_"+b).text())+1),void 0!==e&&null==e.match(/about:blank/gi)&&null==e.match(/data:image\/png/gi)&&void 0!==f&&_doRequest("Img-Iframe",f,e,this)}),"Main Wrapper"==ele.heading[0]){var b=0;totalUrl=parseInt(a("#_totalReq").text()),a("#_totalReq").text(totalUrl+parseInt(a("link[href], script[src]").length)),a("#_urlstatus").text("Link-script Reading...")}else{var b="ls";_prepareHeading("Link-Script",b,parseInt(a("link[href], script[src]").length))}a("link[href], script[src]").each(function(c){var d=a(this).prop("tagName").toLowerCase();d="link"==d?d+":href":d+":src";var e=a(this).attr("href")?a(this).attr("href"):a(this).attr("src"),f=a(this).attr("type")?a(this).attr("type"):a(this).attr("rel"),f=""!=f&&void 0!==f?f.length>20?f.substr(0,20)+"...:"+d:d+":"+f:d;a("#count_"+b).text(parseInt(a("#count_"+b).text())+1),void 0!==e&&null==e.match(/about:blank/gi)&&void 0!==f&&_doRequest("Main Wrapper",f,e,this)}),a("#_urlstatus").css({"margin-left":"43%",background:"greenyellow"}).text("Completed"),a("#_rpCbtn").on("click",function(){a("#reportURL, #reportBg").remove()}).show()}}function _doRequest(a,b,c,d){var e="undefined"==typeof $j?$:$j;e.ajax({url:"/common/automateUrl/getStatus",type:"POST",async:!1,data:{from:a,param:b,url:c,scheme:window.location.protocol,requestType:e(d).prop("tagName").toLowerCase()},success:function(a){""!=a&&(e("#reportURL, #reportBg").show(),e("#reportURL").append(a))}})}function _prepareHeading(a,b,c){var d="undefined"==typeof $j?$:$j,e='<div style="font-size: 15px;font-weight:bold;background:#eee;margin-left:12px;padding:5px;margin:5px 12px 10px"><span>'+a+' URL\'s </span><span style="margin-left:30px;"><span id="count_'+b+'">0</span> / <span id="_totalReq">'+c+"</span></span></div>";d("#_urlstatus").text(a+" Reading..."),d("#reportURL").append(e)}function _pushReport(){var a="undefined"==typeof $j?$:$j;a("#reportBg").show(),a('<div id="reportURL" style="background-color: rgb(255, 255, 255); width: 80%; display: block; float: none; top: 0px; left: 0px; z-index: 9999999; padding:20px; transform: translate(-50%); margin-left: 50%; position: fixed; margin-top: 3%;max-height:565px; overflow:auto;"><div style="padding: 0px 13px;font-size:16px;font-weight:bold;position: relative;top: -10px;">URL\'s Report - </div><div style="position: absolute; margin-left: 40%; top: 0px;padding: 4px 10px 6px; background: yellow none repeat scroll 0% 0%;font-size: 15px" id="_urlstatus"></div><a href="javascript:void(0);" id="_rpCbtn" style="display:none;float: right; padding: 0px 13px;top:-30px;position:relative;font-size: 20px;text-decoration:none;color:#000;" title="Close">X</a></div><div id="reportBg" style="display: block;position:fixed;background:rgba(0,0,0,0.4); width:100%; height:100%; z-index:999;top: 0px;bottom:0px;left:0px;right: 0px;"></div>').insertAfter("#footer")}var showUniversityContactNumberOnCoursePage=function(a,b,c){"UNI_CAMPUS_DETAILS_WIDGET"==c?$j("#SA_contact_number_label_bottom")&&"none"!=$j("#SA_contact_number_label_bottom").css("display")&&($j("#SA_contact_number_cont_bottom").css("cursor","default"),$j("#SA_contact_number_label_bottom").fadeOut("slow",function(){$j("#SA_contact_number_value_bottom").fadeIn("slow"),contactNumber=$j("#SA_contact_number_value_bottom").text(),increaseContactNumberViewCount(a,b,contactNumber,c)})):$j("#SA_contact_number_label")&&"none"!=$j("#SA_contact_number_label").css("display")&&($j("#SA_contact_number_cont").css("cursor","default"),$j("#SA_contact_number_label").fadeOut("slow",function(){$j("#SA_contact_number_value").fadeIn("slow"),contactNumber=$j("#SA_contact_number_value").text(),increaseContactNumberViewCount(a,b,contactNumber,c)}))},increaseContactNumberViewCountForCoursePage=!0,increaseContactNumberViewCount=function(a,b,c,d){var e={};e.listingPageType=b,e.listingTypeId=a,e.contactNumber=c,e.widgetName=d,increaseContactNumberViewCountForCoursePage&&(increaseContactNumberViewCountForCoursePage=!1,studyAbroadAjaxCall("increaseContactNumberViewCount",e,"handleIncreaseContactNumberViewCount"))},handleIncreaseContactNumberViewCount=function(a){increaseContactNumberViewCountForCoursePage=!0},studyAbroadAjaxCall=function(methodName,postParams,callBack,callBackCustomParams){var params={};for(key in postParams)postParams.hasOwnProperty(key)&&(params[key]=postParams[key]);var request=$j.ajax({url:"/listing/abroadListings/"+methodName,type:"POST",data:params});request.done(function(data){var fn=window[callBack],response=eval("("+data+")");"function"==typeof fn&&fn(response,callBackCustomParams)}),request.fail(function(a,b){})},globalVar_overlayHtmlContent,globalVar_containerDivId,hexcase=0,b64pad="",chrsz=8,bannerPool=new Array,contentDownloadControllerUrl,contentDownloadInputArray,contentDownloadCallBackFunction,contentDownloadFlow=!1,contentDownloadFlowStart=!1,bottomCompareLayerHeight=0,compareCourseButtonClicked=!1,ddmenuitem="",mySelection="",myVar,getDocumentElementsByClassName=function(a,b,c){return(getDocumentElementsByClassName=document.getElementsByClassName?function(a,b,c){c=c||document;for(var d,e=c.getElementsByClassName(a),f=b?new RegExp("\\b"+b+"\\b","i"):null,g=[],h=0,i=e.length;h<i;h+=1)d=e[h],f&&!f.test(d.nodeName)||g.push(d);return g}:document.evaluate?function(a,b,c){b=b||"*",c=c||document;for(var d,e,f=a.split(" "),g="",h="http://www.w3.org/1999/xhtml",i=document.documentElement.namespaceURI===h?h:null,j=[],k=0,l=f.length;k<l;k+=1)g+="[contains(concat(' ', @class, ' '), ' "+f[k]+" ')]";try{d=document.evaluate(".//"+b+g,c,i,0,null)}catch(a){d=document.evaluate(".//"+b+g,c,null,0,null)}for(;e=d.iterateNext();)j.push(e);return j}:function(a,b,c){b=b||"*",c=c||document;for(var d,e,f=a.split(" "),g=[],h="*"===b&&c.all?c.all:c.getElementsByTagName(b),i=[],j=0,k=f.length;j<k;j+=1)g.push(new RegExp("(^|\\s)"+f[j]+"(\\s|$)"));for(var l=0,m=h.length;l<m;l+=1){d=h[l],e=!1;for(var n=0,o=g.length;n<o&&(e=g[n].test(d.className));n+=1);e&&i.push(d)}return i})(a,b,c)},ShikshaUserRegistrationForm=function(regFormId){var self=this;this.form=$("registrationForm_"+regFormId),this.regFormId=regFormId,this.suffix=regFormId,this.customValidations={},this.formFieldList={},this.callSecondStep=function(a,b){setCookie("showCongratLayer","",0,"/",COOKIEDOMAIN),$j("#stepone").removeClass("active").addClass("done"),$j("#steptwo").removeClass("done").addClass("active"),$j("#skipThisStep").click(function(){skipThisStep(document.referrer)}),$j("#desiredCourse_"+self.suffix).remove(),$j("#fieldOfInterest_"+self.suffix).remove(),$j("<input>").attr({type:"hidden",id:"desiredCourse_"+self.suffix,name:"desiredCourse",value:a}).appendTo("#registrationForm_"+self.suffix),$j("<input>").attr({type:"hidden",id:"fieldOfInterest_"+self.suffix,name:"fieldOfInterest",value:b}).appendTo("#registrationForm_"+self.suffix),RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getFormByDesiredCourse",serializeForm(self.form),self.createSecondStepForm)},this.createSecondStepForm=function(a){a=JSON.parse(a),$j("#registrationForm_"+self.suffix).attr("action","/registration/Registration/updateUser");$j("#desiredCourse_"+self.suffix).val(),$j("#fieldOfInterest_"+self.suffix).val();$j("#fieldOfInterest_block_"+self.suffix).hide(),$j("#fieldOfInterest_block_"+self.suffix).html(""),$j("#desiredCourse_block_"+self.suffix).hide(),$j("#desiredCourse_block_"+self.suffix).html(""),$j("#registrationFormMiddle_"+self.suffix).html(""),$j("#signInErrorsParent_"+self.suffix).hide(),$j("#alreadyRegistered").html(""),$j("#newUserRegister").html("Complete your profile"),$j("#joinShiksha").html("Get guidance to select the right choice from 1 lakh+ courses");var b=a.form;$j("#registrationFormMiddle_"+self.suffix).html(b),$j("#registration-box").trigger("create"),$j("#registrationSubmit_"+self.suffix).val("Submit"),$j("#registrationStep").val("2"),self.customLogic.setCustomRules(a.customRules),self.populateForm(a.formData),$j("#skipThisStep").show(),$j("#congratsUser").html("Congratulations "+a.formData.firstName+" "+a.formData.lastName),navigator.geolocation&&"none"!=$j("#residenceCity_block_"+self.suffix).css("display")&&navigator.geolocation.getCurrentPosition(fillLocationUsingGeoForRegistration),self.hideLoader()},this.setCustomValidations=function(a){self.customValidations=a},this.setCustomLogic=function(a){self.customLogic=a},this.setFormFieldList=function(a){a.push("securityCode"),self.formFieldList=a},this.populateDesiredCourses=function(a){a||(a={}),preSelectedDesiredCourse=parseInt(a.desiredCourse)||0,coursePageSubcategoryId=parseInt(a.coursePageSubcategoryId)||0;var b=$("fieldOfInterest_"+self.suffix).value;$("desiredCourse_"+self.suffix)&&RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getDesiredCourses/"+b,a,self.loadDesiredCourses,{preSelectedDesiredCourse:preSelectedDesiredCourse,categoryId:b,coursePageSubcategoryId:coursePageSubcategoryId})},this.showMoreOnclick=function(){$j("#fieldOfInterest_block_"+this.regFormId).is(":visible")?$j("#abroadDesiredCourse_block_"+this.regFormId).fadeIn():$j("#fieldOfInterest_block_"+this.regFormId).fadeIn(),$j("#twoStepChooseCourse").find("input[type='radio']:checked").length?$j("#fieldOfInterest_"+this.regFormId).attr("mandatory","0"):($j("#fieldOfInterest_block_"+this.regFormId).attr("visible","Yes"),$j("#fieldOfInterest_"+this.regFormId).attr("mandatory","1"),$j("#desiredGraduationLevel_block_"+this.regFormId).attr("visible","Yes")),"MARKETING_FORM"==$j("#registrationSource").val()?($j("#twoStepShowMore").hide(),$j("#twoStepOr").show()):$j("#twoStepResetCourse").hide()},this.desiredCourseOnChangeActions=function(){$j("#fieldOfInterest_block_"+this.regFormId).fadeOut();var a=$j("#fieldOfInterest_"+this.regFormId).val();if(""===a||"undefined"===a||($j("#fieldOfInterest_"+this.regFormId).val("").change(),"undefined"==typeof desired_course_visibility||desired_course_visibility?$j("#abroadDesiredCourse_block_"+this.regFormId).show():$j("#abroadDesiredCourse_block_"+this.regFormId).hide()),$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").length&&$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").removeAttr("checked"),$j("#fieldOfInterest_block_"+this.regFormId).attr("visible","No"),$j("#fieldOfInterest_"+this.regFormId).attr("mandatory","0"),$j("#fieldOfInterest_error_"+this.regFormId).html(""),document.getElementById("abroadDesiredCourse_error_"+this.regFormId)&&($j("#abroadDesiredCourse_error_"+this.regFormId).html(""),$j("#abroadDesiredCourse_"+this.regFormId).attr("mandatory","0")),$j("#fieldOfInterest_error_"+this.regFormId).css("display",""),$j("#desiredGraduationLevel_block_"+this.regFormId).hide(),$j("#desiredGraduationLevel_block_"+this.regFormId).attr("visible","No"),"MARKETING_FORM"==$j("#registrationSource").val()){if($j("#fieldOfInterest_block_"+this.regFormId).css("margin-bottom","10px"),$j("#twoStepShowMore").css("margin-bottom","12px").show(),$j("#twoStepShowMore > .h-rule").css("margin-bottom","20px").css("margin-top","10px"),$j("#twoStepShowMore > .h-rule > span").html('<i class="common-sprite opt-arr-d"></i>more options</span>'),$j("#twoStepOr").hide(),void 0!=$j("#mmpFormId")&&$j("#mmpFormId").val()>0&&"undefined"!=$j("#abroadDesiredCourse_"+this.regFormId+":checked").val()){var b=$j("#abroadDesiredCourse_"+this.regFormId+":checked").attr("courseLevel");self.switchEducationFields(b)}}else $j("#twoStepResetCourse").show();"undefined"==typeof desired_category_visibility||desired_category_visibility||$j("#twoStepShowMore").hide();var c=$j("#twoStepChooseCourse").find("input[type='radio']:checked").val(),d={};d.ldbCourseId=c,d.type="desiredCourse",RegistrationAjaxComponent.makeAjaxCall("/categoryList/AbroadCategoryList/getSubCatsForCourseCountryLayer",d,self.populateSubCatPostTwoStepAjax)},this.getSAshikshaApplyFields=function(a){ldbCourseId=a.ldbCourseId,courseLevel=a.courseLevel,context=a.context;var b="context="+context+"&";if("undefined"!=typeof ldbCourseId&&"undefined"==typeof courseLevel)b+="ldbCourseId="+ldbCourseId+"&regFormId="+this.regFormId;else{if("undefined"==typeof courseLevel)return!1;b+="courseLevel="+courseLevel+"&regFormId="+this.regFormId}var c=this.regFormId;$j.ajax({url:"/registration/Forms/loadSAFieldsByLDBCourse",type:"POST",async:"false",data:b,success:function(a){$j("#saApplyArea").length>0?($j("#saApplyArea").show(),$j("#saApplyArea").html(a)):$j("#saApplyArea_"+c).length>0&&($j("#saApplyArea_"+c).show(),$j("#saApplyArea_"+c).html(a))}})},this.parentcatOnchangeActions=function(){if("1508"!=$j("#fieldOfInterest_"+this.regFormId).val()&&"1509"!=$j("#fieldOfInterest_"+this.regFormId).val()&&"1510"!=$j("#fieldOfInterest_"+this.regFormId).val()){0==$j("#abroadDesiredCourse_block_"+this.regFormId).length&&$j("#abroadDesiredCourseHidden").length&&(document.getElementById("abroadDesiredCourseHidden").value="",document.getElementById("abroadDesiredCourseHidden").setAttribute("visible","No")),""!=$j("#fieldOfInterest_"+this.regFormId).val()?($j("#abroadDesiredCourse_block_"+this.regFormId).fadeOut(),$j("#abroadDesiredCourse_block_"+this.regFormId).attr("visible","No")):($j("#abroadDesiredCourse_block_"+this.regFormId).hide(),$j("#abroadDesiredCourse_block_"+this.regFormId).attr("visible","Yes"));$j("#twoStepChooseCourse").find("input[type='radio']:checked").length&&""!==$j("#fieldOfInterest_"+this.regFormId).val()&&$j("#twoStepChooseCourse").find("input[type='radio']:checked").attr("checked",!1);var a=$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").length;a&&$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").removeAttr("checked"),"MARKETING_FORM"==$j("#registrationSource").val()?($j("#twoStepShowMore").css("margin-bottom","0px").show(),$j("#twoStepShowMore > .h-rule").css("margin-bottom","10px").css("margin-top","20px"),$j("#twoStepShowMore > .h-rule > span").html('<i class="common-sprite opt-arr-u"></i>popular options</span>'),$j("#fieldOfInterest_block_"+this.regFormId).css("margin-bottom","0px"),$j("#twoStepShowMore").show()):$j("#twoStepResetCourse").show(),$j(".desiredGraduationLevel_"+this.regFormId).attr("mandatory","1"),$j("#fieldOfInterest_"+this.regFormId).attr("mandatory","1"),$j("#desiredGraduationLevel_block_"+this.regFormId).show(),$j("#desiredGraduationLevel_block_"+this.regFormId).attr("visible","Yes"),$j("#abroadSpecialization_block_"+this.regFormId).hide(),"undefined"==typeof desired_course_visibility||desired_course_visibility||$j("#twoStepShowMore").hide()}else{document.getElementById("abroadDesiredCourseHidden").value=$j("#fieldOfInterest_"+this.regFormId).val(),document.getElementById("abroadDesiredCourseHidden").setAttribute("visible","Yes"),$j("#fieldOfInterest_"+this.regFormId).attr("mandatory","0"),ldbCourseId=$j("#fieldOfInterest_"+this.regFormId).val();var a=$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").length;a&&$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").removeAttr("checked"),$j("#desiredGraduationLevel_block_"+this.regFormId).hide(),$j("#desiredGraduationLevel_block_"+this.regFormId).attr("visible","No"),$j(".desiredGraduationLevel_"+this.regFormId).attr("mandatory","0");var b={};b.ldbCourseId=ldbCourseId,b.type="desiredCourse",RegistrationAjaxComponent.makeAjaxCall("/categoryList/AbroadCategoryList/getSubCatsForCourseCountryLayer",b,self.populateSubCatPostTwoStepAjax)}$j("#fieldOfInterest_block_parent_"+this.regFormId).length>0&&"mobileRegistrationAbroad"!=registration_context&&$j("#fieldOfInterest_block_parent_"+this.regFormId).css("border","1px solid #ddd").css("padding","5px"),"undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&(""==$j("#fieldOfInterest_"+this.regFormId).val()?($j(".abroad-specialization").hide(),$j(".grad-level").hide()):$j.inArray(parseInt($j("#fieldOfInterest_"+this.regFormId).val()),[1508,1509,1510])==-1?($j(".grad-level").show(),$j(".abroad-specialization").hide()):($j(".grad-level").hide(),$j(".abroad-specialization").show(),$j(".abroad-specialization").css("padding-top","7px")),this.showEducationFields())},this.populateSpecializedCourses=function(){var a=$j("#fieldOfInterest_"+this.regFormId).val();if(""===a||"undefined"===a)return!1;var b=$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").val();$j("#desiredGraduationLevel_error_"+this.regFormId).html(""),$j("#desiredGraduationLevel_error_"+this.regFormId).css("display","");var c={};if(c.parentCatId=a,c.courseLevel=b,c.type="courseLevel","undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&($j(".abroad-specialization").show(),$j(".abroad-specialization").css("padding-top","0px")),void 0!=$j("#mmpFormId")&&$j("#mmpFormId").val()>0&&"undefined"!=$j(".desiredGraduationLevel_"+this.regFormId+":checked").val()){var b=$j(".desiredGraduationLevel_"+this.regFormId+":checked").attr("courseLevel");self.switchEducationFields(b)}RegistrationAjaxComponent.makeAjaxCall("/categoryList/AbroadCategoryList/getSubCatsForSARegisteration",c,self.populateSubCatPostTwoStepAjax),"undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&self.showEducationFields()},this.getCurrentCourseLevel=function(){var a="";return $j.inArray(parseInt($j("#fieldOfInterest_"+this.regFormId).val()),[1508,1509,1510])==-1?void 0!==$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").val()&&(a="Bachelors"==$j("#twoStepLevelOfStudy").find("input[type='radio']:checked").val()?"UG":"PG"):a=1510==$j("#fieldOfInterest_"+this.regFormId).val()?"UG":"PG",a},this.showEducationFields=function(){courseLevel=this.getCurrentCourseLevel(),"UG"==courseLevel?($j(".BachelorsEducation").removeClass("hidden"),$j(".BachelorsEducation").find("select").attr("mandatory",1),$j(".MastersEducation").addClass("hidden"),$j(".MastersEducation").find("select").removeAttr("mandatory")):"PG"==courseLevel?($j(".MastersEducation").removeClass("hidden"),$j(".MastersEducation").find("select").attr("mandatory",1),$j(".BachelorsEducation").addClass("hidden"),$j(".BachelorsEducation").find("select").removeAttr("mandatory")):($j(".BachelorsEducation").addClass("hidden"),$j(".BachelorsEducation").find("select").removeAttr("mandatory"),$j(".MastersEducation").addClass("hidden"),$j(".MastersEducation").find("select").removeAttr("mandatory"))},this.populateSubCatPostTwoStepAjax=function(a){a=JSON.parse(a),document.getElementById("abroadSpecialization_"+self.regFormId).innerHTML="";var b=document.createElement("option"),c=$j("#fieldOfInterest_"+self.regFormId).val();if(""===c||"undefined"===c){$j("#twoStepChooseCourse").find("input[type='radio']:checked").attr("course")}else{$j("#fieldOfInterest_"+self.regFormId).find("option:selected").html()}b.text="All Specializations",b.value="";var d=document.getElementById("abroadSpecialization_"+self.regFormId);if(d.add(b),a){"undefined"==typeof desired_abroad_specialization_visibility||desired_abroad_specialization_visibility?document.getElementById("abroadSpecialization_block_"+self.regFormId).style.display="block":document.getElementById("abroadSpecialization_block_"+self.regFormId).style.display="none";for(var e in a){var f=a[e].sub_category_id;if(f>0){var g=a[e].sub_category_name,b=document.createElement("option");b.text=g,b.value=f,d.add(b)}}"undefined"!=typeof abroad_preselected_specialization&&abroad_preselected_specialization>0&&abroad_preselected_specialization_default&&(d.value=abroad_preselected_specialization,abroad_preselected_specialization_default=!1)}else $j("#abroadSpecialization_block_"+self.regFormId).hide();"undefined"!=typeof registration_context&&"MMP"==registration_context&&firstTimePageLoad&&null!=userInfo&&(self.populateForm(),setTimeout(self.setBoardValues,500))},this.setBoardValues=function(){if("undefined"!=$j("[name='tenthBoard']")){$j("[name='tenthmarks']").children("option[databoard]").removeClass("ih"),$j("[name='tenthmarks']").children("option[databoard]").hide();var a=$j("[name='tenthBoard']").val();$j("[name='tenthmarks']").children("option[databoard^="+a+"]").show()}},this.numberOfCountriesSelectedMMP=function(a){var b=$j("#twoStepCountryDropdownCont").find(".active").length;return void 0===a?($j("#twoStepCountryDropdownLayer").toggle(),void(0===b&&"none"===$j("#twoStepCountryDropdownLayer").css("display")?($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display=""):($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none"))):b<3||!$j(a).is(":checked")?void self.selectCountryMMP(a):(alert("You can select upto 3 countries only"),$j(a).removeAttr("checked"),!1)},this.selectCountryMMP=function(a){$j(a).is(":checked")?$j(a).addClass("active"):$j(a).removeClass("active");var b=$j("#twoStepCountryDropdownCont").find(".active").length;countrySelectText=0==b?"Choose Country":"Choose Country ("+b+" selected)",$j("#twoStepCountrySelectOption").text(countrySelectText)},this.numberOfCountriesSelected=function(a){var b=$j("#twoStepCountryDropdownCont").find(".active").length;if(void 0!==a){if(!(b<3||$j(a).hasClass("active")))return alert("You can select upto 3 countries only"),$j(a).find("input").removeAttr("checked"),$j(a).removeClass("active"),!1;self.selectCountry(a)}else if($j("#twoStepCountryDropdownLayer").toggle(),0===b&&"none"===$j("#twoStepCountryDropdownLayer").css("display"))try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display=""}catch(a){}else{try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none"}catch(a){}$j(".courseCountryScrollbarHeight").height("135px"),void 0===window.scrollbarId&&(window.scrollbarId=["twoStepChooseCourseCountryLayerScrollbar"],applyScrollBar(window.scrollbarId))}},this.selectCountry=function(a){$j(a).hasClass("active")?($j(a).find("input").removeAttr("checked"),$j(a).removeClass("active")):($j(a).find("input").attr("checked","checked"),$j(a).addClass("active"));var b=$j("#twoStepCountryDropdownCont").find(".active").length;if(countrySelectText=0==b?"Choose Country":"Choose Country ("+b+" selected)","undefined"!=typeof profilePage&&1==profilePage&&(countrySelectText="",$j("#twoStepCountryDropdownCont").find(".active").each(function(){if(""==countrySelectText)var a="";else var a=",";""!=$j(this).find("label").text()?countrySelectText=countrySelectText+a+$j(this).find("label").text():countrySelectText=countrySelectText+a+$j(this).find(".clearfix").find("strong").text()})),$j("#twoStepCountrySelectOption").text(countrySelectText),$j(".courseCountryScrollbarHeight").height("135px"),"undefined"==c){var c=["twoStepChooseCourseCountryLayerScrollbar"];applyScrollBar(c)}},this.nameOfCountriesSelected=function(a){var b=$j("#twoStepCountryDropdownCont").find(".active").length;if(void 0!==a){if(!(b<3||$j(a).hasClass("active")))return alert("You can select upto 3 countries only."),$j(a).find("input").removeAttr("checked"),$j(a).removeClass("active"),!1;self.selectCountryBrochureDownload(a)}else if($j("#twoStepCountryDropdownLayer").toggle(),0===b&&"none"===$j("#twoStepCountryDropdownLayer").css("display"))try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display=""}catch(a){}else{try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none"}catch(a){}$j(".courseCountryScrollbarHeight").height("135px"),void 0===window.scrollbarId&&(window.scrollbarId=["twoStepChooseCourseCountryLayerScrollbar"],applyScrollBar(window.scrollbarId))}},this.selectCountryBrochureDownload=function(a){$j(a).hasClass("active")?($j(a).find("input").removeAttr("checked"),$j(a).removeClass("active")):($j(a).find("input").attr("checked","checked"),$j(a).addClass("active"));var b=$j("#twoStepCountryDropdownCont").find(".active").length;countrySelectText="";if(0==b)countrySelectText="";else if(1==b)countrySelectText=$j("#twoStepCountryDropdownCont .active").attr("countryName");else{var c=[],d=$j("#twoStepCountryDropdownCont .active");$j.each(d,function(a,b){c.push($j(b).attr("countryName"))}),countrySelectText=c.join(", ")}if($j("#twoStepCountrySelectOption").text(countrySelectText),$j(".courseCountryScrollbarHeight").height("135px"),"undefined"==e){var e=["twoStepChooseCourseCountryLayerScrollbar"];applyScrollBar(e)}},this.nameOfCountriesSelectedInlineBrochure=function(a){var b=$j("#twoStepCountryDropdownContInlineBrochure").find(".active").length;if(void 0===a)if($j("#twoStepCountryDropdownLayerInlineBrochure").toggle(),0===b&&"none"===$j("#twoStepCountryDropdownLayerInlineBrochure").css("display"))try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display=""}catch(a){}else{try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none"}catch(a){}$j(".courseCountryScrollbarHeight").height("135px"),$j("#twoStepChooseCourseCountryLayerScrollbarInlineBrochure").tinyscrollbar()}else{if(!(b<3||$j(a).hasClass("active")))return alert("You can select upto 3 countries only."),$j(a).find("input").removeAttr("checked"),$j(a).removeClass("active"),!1;self.selectCountryInlineBrochureDownload(a)}},this.selectCountryInlineBrochureDownload=function(a){$j(a).hasClass("active")?($j(a).find("input").removeAttr("checked"),$j(a).removeClass("active")):($j(a).find("input").attr("checked","checked"),$j(a).addClass("active"));var b=$j("#twoStepCountryDropdownContInlineBrochure").find(".active").length;countrySelectText="";if(0==b)countrySelectText="";else if(1==b)countrySelectText=$j("#twoStepCountryDropdownContInlineBrochure .active").attr("countryName");else{var c=[],d=$j("#twoStepCountryDropdownContInlineBrochure .active");$j.each(d,function(a,b){c.push($j(b).attr("countryName"))}),countrySelectText=c.join(", ")}$j("#twoStepCountrySelectOptionInlineBrochure").text(countrySelectText),$j(".courseCountryScrollbarHeight").height("135px")},this.numberOfCountriesSelectedInlineBrochure=function(a){var b=$j("#twoStepCountryDropdownContInlineBrochure").find(".active").length;if(void 0!==a){if(!(b<3||$j(a).hasClass("active")))return alert("You can select upto 3 countries only"),$j(a).find("input").removeAttr("checked"),$j(a).removeClass("active"),!1;self.selectCountryInlineBrochure(a)}else{var c=arguments[1]&&1==arguments[1]?0:1;if(1==c&&$j("#twoStepCountryDropdownLayerInlineBrochure").toggle(),0===b&&"none"===$j("#twoStepCountryDropdownLayerInlineBrochure").css("display"))try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display=""}catch(a){}else{try{$("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none"}catch(a){}$j(".courseCountryScrollbarHeight").height("135px"),1==c&&$j("#twoStepChooseCourseCountryLayerScrollbarInlineBrochure").tinyscrollbar()}}},this.selectCountryInlineBrochure=function(a){$j(a).hasClass("active")?($j(a).find("input").removeAttr("checked"),$j(a).removeClass("active")):($j(a).find("input").attr("checked","checked"),$j(a).addClass("active"));var b=$j("#twoStepCountryDropdownContInlineBrochure").find(".active").length;countrySelectText=0==b?"Choose Country":"Choose Country ("+b+" selected)",$j("#twoStepCountrySelectOptionInlineBrochure").text(countrySelectText),$j(".courseCountryScrollbarHeight").height("135px"),$j("#twoStepChooseCourseCountryLayerScrollbarInlineBrochure").tinyscrollbar()},this.twostepCountryDivTriggerInlineBrochure=function(){$j(document).mouseup(function(a){var b=$j("#twoStepCountryDropdownLayerInlineBrochure"),c=$j("#twoStepChooseCourseCountryDropDownInlineBrochure");b.is(a.target)||c.is(a.target)||0!==b.has(a.target).length||0!==c.has(a.target).length||"block"===b.css("display")&&self.numberOfCountriesSelectedInlineBrochure()})},this.loadDesiredCourses=function(data,params){for(var width=$("desiredCourse_"+self.suffix).width,desiredCourseSB=$("desiredCourse_"+self.suffix);desiredCourseSB.hasChildNodes();)desiredCourseSB.removeChild(desiredCourseSB.firstChild);desiredCourseSB.options.add(new Option("Desired Course","")),data=eval("("+data+")");var numCoursesInResult=0;for(key in data)if(3==params.categoryId||params.coursePageSubcategoryId)desiredCourseSB.options.add(new Option(data[key],key)),numCoursesInResult++;else{courseGroup=document.createElement("optgroup"),courseGroup.setAttribute("label",key);for(key2 in data[key])courseOption=document.createElement("option"),courseOption.value=key2,courseOption.appendChild(document.createTextNode(data[key][key2])),courseGroup.appendChild(courseOption),numCoursesInResult++;desiredCourseSB.appendChild(courseGroup)}if(void 0!==width&&($("desiredCourse_"+self.suffix).style.width=width+"px"),!params.preSelectedDesiredCourse&&params.coursePageSubcategoryId&&1==numCoursesInResult&&(params.preSelectedDesiredCourse=key),params.preSelectedDesiredCourse){var field=new RegistrationFormField(self.form,"desiredCourse");if(field.setValue(params.preSelectedDesiredCourse),$("context_"+self.suffix)&&"unifiedProfile"==$("context_"+self.suffix).value)return;self.changeDesiredCourse(),(params.coursePageSubcategoryId&&1==numCoursesInResult||params.categoryId&&params.preSelectedDesiredCourse)&&field.setVisibility("no")}else $("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&$j("#desiredCourse_"+self.suffix).selectmenu("refresh",!0)},this.showTwoStepLoader=function(){$j("#twoStepLoader").length>0?$j("#twoStepLoader").show():($j('<div id="twoStepLoader"></div>').css({position:"absolute",width:"100%",height:"100%",top:0,left:0,opacity:.7,background:"url('/public/images/loader.gif') no-repeat scroll 50% 50% rgb(254, 255, 254)"}).appendTo($j("#twoStepRegistrationLayer").css("position","relative")),$j("#twoStepLoader").css("z-index",999999))},this.twostepCountryDivTrigger=function(){$j(document).mouseup(function(a){var b=$j("#twoStepCountryDropdownLayer"),c=$j("#twoStepChooseCourseCountryDropDown");b.is(a.target)||c.is(a.target)||0!==b.has(a.target).length||0!==c.has(a.target).length||"block"===b.css("display")&&self.numberOfCountriesSelected()})},this.hideTwoStepLoader=function(){$j("#twoStepLoader").hide()},this.showLoader=function(){var a=0;$j("#display_on_page")&&"newmmp"==$j("#display_on_page").val()&&"mobileRegistrationAbroad"!=$j("#context_"+self.suffix).val()&&"mobile"!=$j("#context_"+self.suffix).val()&&(a=1);var b=self.form.parentNode.offsetWidth,c=self.form.parentNode.offsetHeight;($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value||$("context_"+self.suffix)&&"mobileRegistrationAbroad"==$("context_"+self.suffix).value&&""!=$j("#mmpFormId").val())&&(c=self.form.parentNode.parentNode.offsetHeight);var d=getElementPosition(self.form.parentNode),e=(d.left,d.top,.7),f=document.createElement("div");"undefined"!=typeof registration_context&&("mobileRegistrationAbroad"==registration_context||"mobileRmcPage"==registration_context)||a?overlayStyle={position:"fixed",top:0,left:0,width:$j(window).width()+"px",textAlign:"center",height:$j(window).height()+"px",background:"#ffffff",zIndex:999,opacity:e,filter:"alpha(opacity="+100*e+")"}:overlayStyle={position:"absolute",top:0,left:0,width:b+"px",textAlign:"center",height:c+"px",background:"#ffffff",zIndex:1e4,opacity:e,filter:"alpha(opacity="+100*e+")"};for(var g in overlayStyle)f.style[g]=overlayStyle[g];var h=document.createElement("div");h.id="registrationFormOverlay",overlayStyle={position:"relative"};for(var g in overlayStyle)h.style[g]=overlayStyle[g];h.appendChild(f),self.form.parentNode.insertBefore(h,self.form),f.innerHTML='<div id="registration-Loader" class="registrationLoader" style="font-size:20px;margin:'+(parseInt(c/2)-120)+'px 0px 0px 0px; padding:120px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>',$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&(f.innerHTML='<div class="registrationLoader" style="font-size:20px;margin:0px 0px 0px 0px; padding:80px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>'),!$("context_"+self.suffix)||"mobileRegistrationAbroad"!=$("context_"+self.suffix).value&&"mobileRmcPage"!=$("context_"+self.suffix).value||(f.innerHTML='<div class="registrationLoader" style = "background:url(\'public/images/loader.gif\');margin-left:'+($j(window).width()/2-24)+"px;margin-top:"+($j(window).height()/2-48)+'px;height:48px;width:48px;"></div><br><span class="loaderMsg" style="font-size:1.5em;">Loading...</span>'),a&&(f.innerHTML='<div class="registrationLoader" style="font-size:20px;margin:250px 0px 0px 0px; padding:80px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>')},this.showOneStepLoader=function(){var a=self.form.parentNode.offsetWidth,b=self.form.parentNode.offsetHeight;$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&(b=self.form.parentNode.parentNode.offsetHeight);var c=getElementPosition(self.form.parentNode),d=(c.left,c.top,.7),e=document.createElement("div");overlayStyle={position:"absolute",top:"-8px",left:"-8px",width:a+"px",textAlign:"center",height:b+"px",background:"#ffffff",zIndex:1e4,opacity:d,filter:"alpha(opacity="+100*d+")"};for(var f in overlayStyle)e.style[f]=overlayStyle[f];var g=document.createElement("div");g.id="registrationFormOverlay",overlayStyle={position:"relative"};for(var f in overlayStyle)g.style[f]=overlayStyle[f];g.appendChild(e),self.form.parentNode.insertBefore(g,self.form),e.innerHTML='<div id="registration-Loader" class="registrationLoader" style="font-size:20px;margin:'+(parseInt(b/2)-120)+'px 0px 0px 0px; padding:120px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>',$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&(e.innerHTML='<div class="registrationLoader" style="font-size:20px;margin:0px 0px 0px 0px; padding:80px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>')},this.hideLoader=function(){$("registrationFormOverlay")&&$("registrationFormOverlay").parentNode.removeChild($("registrationFormOverlay"))},this.changeDesiredCourse=function(){"undefined"!=typeof total_selected_mobile&&(total_selected_mobile=0,$j("#autoSuggestRefine").length>0&&removeSelectedLocationsOnRefining()),$j("#hideLoader_ComparePage").length<=0&&""==$j("#hideLoader_ComparePage").val()&&self.showLoader(),RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getFormByDesiredCourse",serializeForm(self.form),self.loadFormByDesiredCourse)},this.changeStudyAbroadForm=function(a){void 0===a&&(a="91-2");var b=["mobileRegistrationAbroad","mobileRmcPage"],c=$j("#context_"+self.suffix).val(),d=$j("#mmpFormId").val(),e=$j("#display_on_page").val();$j.ajax({url:"/registration/Forms/changeStudyAbroadForm",type:"POST",async:"false",data:{isdCode:a,regFormId:self.suffix,context:c,mmpFormId:d,display_on_page:e},success:function(d){$j("#residenceCity_block_"+self.suffix).html(d),b.indexOf(c)>-1&&("91-2"==a?$j("#residenceCity_block_"+self.suffix).show():$j("#residenceCity_block_"+self.suffix).hide())}})},this.resetResidentCityDropDownMMP=function(a){"91-2"==a?($j("#residenceCity_block_"+self.suffix+" select").attr({id:"residenceCity_"+self.suffix,name:"residenceCity"}),$j("#residenceCity_block_"+self.suffix).show()):($j("#residenceCity_block_"+self.suffix+" select").attr({id:"",name:""}),$j("#residenceCity_block_"+self.suffix).hide())},this.getTenthMarksAccToBoard=function(a){var b="<option value=''>Select 10th marks, CGPA or max grade</option>";if(void 0===a||""==a)return $j("#tenthmarks_"+self.suffix).html(b),!1;$j.ajax({url:"/registration/Forms/getTenthMarksAccToBoard",type:"POST",async:"false",data:{tenthBoard:a},success:function(a){a=$j.parseJSON(a);for(var c in a)b+="<option value='"+c+"'>"+a[c]+"</option>";$j("#tenthmarks_"+self.suffix).html(b)}})},this.triggerISDCodeOnchange=function(a){$("isdCode_"+self.suffix).value!=a&&("undefined"!=typeof $j?$j("#isdCode_"+self.suffix).trigger("change"):setTimeout(function(){$j("#isdCode_"+self.suffix).trigger("change")},1500))},this.changeCourse=function(){var a=$j("#widget_"+self.suffix).val(),b=$j("#institute_id_"+self.suffix).val(),c=$j("#context_"+self.suffix).val();""===b&&"undefined"!=typeof shortRegistrationFormResponse&&(b=shortRegistrationFormResponse.instituteId);var d=getCookie("currentCourse");d&&d>0&&currentCourseFlag<=2?++currentCourseFlag>2&&setCookie("currentCourse",0,0,"seconds"):setCookie("currentCourse",0,0,"seconds"),d=$j("#course_"+self.regFormId).val();var e="new";"mobile"==c&&(e="mobile");var f=1,g=iscustomizedCourse(d),h=addLocalityInApplyForm(b,a,d,e,f,self.suffix);$j("#locality-div_"+a).html(h),$j("#locality-div_"+a).trigger("create"),$city=$j("#preferred_city_category_"+a+b),"mobile"==c&&"mobileResponseForm"==a&&""==d?document.getElementById("locality-div_mobileResponseForm").style.display="none":h&&"mobile"==c&&"mobileResponseForm"==a&&1==g&&(document.getElementById("locality-div_mobileResponseForm").style.display="block",$j("#graduationCompletionYear_block_"+self.suffix).length>0&&(document.getElementById("graduationCompletionYear_block_"+self.suffix).style.display="block")),!h||"listingPageBottomNational"!=a&&"listingPageRightNational"!=a||fixNationalPageCityLocality(a),"mobile"==c&&"mobileResponseForm"==a&&(setTimeout(function(){var a=$j("#residenceCityLocality_"+self.regFormId).val();$city.val(a),1!=g&&$j("#locality-div_mobileResponseForm").hide(),$city.trigger("change")},300),$j("#selected_course").val(d),$j("#course").val(d)),$city.trigger("change"),$j("#fieldOfInterest_"+self.regFormId).val($j("#course_"+self.regFormId).find("option:selected").attr("categoryId")),$j("#desiredCourse_"+self.regFormId).val($j("#course_"+self.regFormId).find("option:selected").attr("desiredCourseId")),self.changeDesiredCourse()},this.showUserPreferenceLayer=function(a,b){if("YES"==user_logged_in_pref_data.isLDBUser){var c=document.getElementById("isStudyAbroad").value,d=document.getElementById("isTestPrep").value,e="no"==c&&"no"==d?"yes":"no";if("yes"==c){var f=document.querySelector('input[name = "desiredCourse"]:checked');if(null!==f)var g=f.getAttribute("course");else var h=document.getElementById("fieldOfInterest_"+this.regFormId),i=h.options[h.selectedIndex].text,j=document.querySelector('input[name = "desiredGraduationLevel"]:checked').value,g=j+" in "+i}else var k=document.getElementById("desiredCourse_"+this.regFormId),l=k.options[k.selectedIndex].value,g=k.options[k.selectedIndex].text;var m=!1;if("national"==user_logged_in_pref_data.userData.desiredCourseType&&"no"==e?m=!0:"testprep"==user_logged_in_pref_data.userData.desiredCourseType&&"no"==d?m=!0:void 0!==l&&user_logged_in_pref_data.userData.desiredCourse!=l?m=!0:"studyabroad"==user_logged_in_pref_data.userData.desiredCourseType&&("no"==c?m=!0:user_logged_in_pref_data.userData.desiredCourseName!=g&&(m=!0)),m){var n=new Object;n.userId=user_logged_in_pref_data.userId,n.oldCourseName=user_logged_in_pref_data.userData.desiredCourseName,n.newCourseName=g,n.redirectURL=a,n.insertId=b,registrationOverlayComponent.showOverlay("/registration/Forms/showUserPreferenceLayer/",550,260,n)}else window.location=a}},this.loadFormByDesiredCourse=function(data){if(self.hideLoader(),data=eval("("+data+")"),isFullRegisteredUser=data.isFullRegisteredUser,1==isFullRegisteredUser&&"findInstitute"!=data.context?"mobileResponseForm"==data.formData.widget&&getCookieData("nregv")?$j("#registrationSubmit_"+self.suffix).attr("onclick",'return shikshaUserRegistrationForm["'+self.suffix+'"].submitMobileResponse()'):""!=$("mmpFormId")&&"undefined"!=$("mmpFormId")||$j("#registrationSubmit_"+self.suffix).attr("onclick",'return shikshaUserRegistrationForm["'+self.suffix+'"].submitResponse()'):$j("#registrationSubmit_"+self.suffix).attr("onclick",'return shikshaUserRegistrationForm["'+self.suffix+'"].submitForm()'),$("registrationFormMiddle_"+self.suffix).innerHTML=data.form,$j("#registrationFormMiddle_"+self.suffix).trigger("create"),self.customLogic.setCustomRules(data.customRules),self.customLogic.setDefaultFieldStates(data.defaultFieldStates),self.setFormFieldList(data.fieldList),self.populateForm(data.formData),self.toggleDegreePreferences(),$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&""!=$("mmpFormId")||self.setPreferredStudyLocations(),$("preferredStudyLocation_error_"+self.suffix)&&($("preferredStudyLocation_error_"+self.suffix).parentNode.style.display="none"),$("desiredCourse_error_"+self.suffix)&&($("desiredCourse_error_"+self.suffix).parentNode.style.display="none"),$("securityCode_error_"+self.suffix)&&($("securityCode_error_"+self.suffix).parentNode.style.display="none"),$("registrationValidationErrors_"+self.suffix)&&($("registrationValidationErrors_"+self.suffix).style.display="none"),self.changeMobileFieldMaxlength($j("#isdCode_"+self.suffix).val()),$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&($j("#registrationFormMiddle_"+self.suffix).trigger("create"),$j("#selectedbyu").html(""),showHide("mcities"),$j("#preferredStudyLocation").val("")),"undefined"!=typeof offlineOpsActive&&offlineOpsActive===!0&&(document.getElementsByName("firstName").length&&document.getElementsByName("firstName")[0].setAttribute("disabled","disabled"),document.getElementsByName("lastName").length&&document.getElementsByName("lastName")[0].setAttribute("disabled","disabled"),document.getElementsByName("mobile").length&&document.getElementsByName("mobile")[0].setAttribute("disabled","disabled")),$j("#widget_"+self.suffix).length)var widget=$j("#widget_"+self.suffix).val();if(""!=widget){var divId="";if(divId="listingPageBottomNew"==widget?"responseFormBottomNew":"listingPageTopLinks"==widget?"responseFormNew":"reg-layer-outer",$j("#userId").length&&$j("#userId").val()>0&&("undefined"==typeof isFullRegisteredUser||"undefined"!=typeof isFullRegisteredUser&&1==isFullRegisteredUser)){if("shortlistRegister"==data.context)return $j("#registrationSubmit_"+self.suffix).click(),!1;if("listingPageBellyNationalForInstitute"==widget||"listingPageBellyNational"==widget||"ebrocher"==widget||"LP_Reco_SimilarInstiLayer"==widget||"LP_Reco_AlsoviewLayer"==widget||"CoursePage_Reco"==widget||"CollegePredictor"==widget||"listingPageBottomNew"==widget||"listingPageTopLinks"==widget||"OF_Request_E-Brochure"==widget){if($j("#institute_id_"+self.suffix).length)var instituteId=$j("#institute_id_"+self.suffix).val();$j("#preferred_locality_category_"+widget+instituteId+" option").size()<=1&&$j("#course_"+self.suffix+" option").size()<=1?($j("#"+divId).show(),$j("#registrationSubmit_"+self.suffix).click(),"listingPageBottomNew"!=widget&&"listingPageTopLinks"!=widget||$j("#"+divId).css("top",$j(document).scrollTop()+100)):($j("#"+divId).show(),"listingPageBottomNew"!=widget&&"listingPageTopLinks"!=widget||$j("#"+divId).css("top",$j(document).scrollTop()+100))}}else $j("#"+divId).show(),"listingPageBottomNew"!=widget&&"listingPageTopLinks"!=widget||$j("#"+divId).css("top",$j(document).scrollTop()+100)}brochureWidgets=Array("listingPageBellyNationalForInstitute","listingPageRightNational","listingPageBottomNational","ebrocher"),brochureWidgets.indexOf(widget)>-1&&(course_id=$j("#course_"+self.suffix).val(),isUserLoggedIn&&(1==getCookie("applied_"+course_id)?($j("#registrationSubmit_"+self.suffix).removeAttr("onclick"),$j("#registrationSubmit_"+self.suffix).addClass("orangeButtonStyle_disabled"),$j("#success_msg_"+self.suffix).show()):($j("#registrationSubmit_"+self.suffix).attr("onclick","return shikshaUserRegistrationForm['"+self.suffix+"'].submitResponse();return false;"),$j("#registrationSubmit_"+self.suffix).removeClass("orangeButtonStyle_disabled"),$j("#success_msg_"+self.suffix).hide()))),"undefined"!=typeof isIncompleteUserOnOF&&"yes"==isIncompleteUserOnOF&&($j("#userLoginOverlay_ForAnA_registrationform").fadeIn(),$j("#registrationSubmit_"+self.suffix).show(),self.removePasswordFields(),self.showAllFildsOfRegistrationForm())},this.showAllFildsOfRegistrationForm=function(){$j(".regFieldBlock_"+self.suffix).each(function(){"preferredStudyLocality"!=$j(this).attr("blockfor")&&$j(this).show()})},this.removePasswordFields=function(){$j("#password_block_"+self.suffix).remove(),$j("#confirmPassword_block_"+self.suffix).remove()},this.toggleDegreePreferences=function(){if($("degreePreference_any_"+self.suffix)){var a=!1;$("degreePreference_any_"+self.suffix).checked&&(a=!0),$("degreePreference_aicte_"+self.suffix).disabled=a,$("degreePreference_ugc_"+self.suffix).disabled=a,$("degreePreference_international_"+self.suffix).disabled=a}},this.toggleOtherFundingDetails=function(){$("fund_other_"+self.suffix).checked?$("otherFundingDetails_block_"+self.suffix).style.display="":($("otherFundingDetails_block_"+self.suffix).style.display="none",$("otherFundingDetails_"+self.suffix).value="")},this.toggleExamScore=function(a){var b=a.value,c=$(b+"_score_"+self.suffix);c&&(a.checked?c.style.display="":(c.style.display="none",c.value=c.getAttribute("default")))},this.toggleExamDetails=function(a,b){$("examDetails_"+b+"_"+self.suffix)&&(a.checked?($("examDetails_"+b+"_"+self.suffix).style.display="block",$("examScore_"+b+"_"+self.suffix)&&($(b+"_score_"+self.suffix).value=$(b+"_score_"+self.suffix).getAttribute("default"),$(b+"_score_"+self.suffix).style.color="#999999"),$("examYear_"+b+"_"+self.suffix)&&($(b+"_year_"+self.suffix).selectedIndex="0")):($("examDetails_"+b+"_"+self.suffix).style.display="none",$("examScore_"+b+"_"+self.suffix)&&($(b+"_score_error_"+self.suffix).innerHTML=""),$("examYear_"+b+"_"+self.suffix)&&($(b+"_year_error_"+self.suffix).innerHTML=""),$("examName_"+b+"_"+self.suffix)&&($(b+"_nameBox_error_"+self.suffix).innerHTML="")))},this.populateLocalities=function(a){var b=a.value,c=a.getAttribute("prefNum");if(b)self.populateLocalitiesByCity(b,c);else{var d=document.createElement("option");for(d.value="",d.appendChild(document.createTextNode("Locality")),c>1?localitySelectBox=$("preferredStudyLocality"+c+"_"+self.suffix):(localitySelectBox=$("preferredStudyLocality_"+self.suffix),$("preferredStudyLocality_4_block_"+self.suffix)&&"none"==$("preferredStudyLocality_4_block_"+self.suffix).style.display&&($("preferredStudyLocality_add_action_block_"+self.suffix).style.display=""));localitySelectBox.hasChildNodes();)localitySelectBox.removeChild(localitySelectBox.firstChild);localitySelectBox.appendChild(d),$("residenceLocality_block_"+self.suffix).style.display="none"}},this.populateLocalitiesNew=function(a){var b=a.value;a.getAttribute("prefNum");if(b)RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getLocalitiesMMP/"+b,"",self.loadLocalitiesNew);else{var c=document.createElement("option");for(c.value="",c.appendChild(document.createTextNode("Locality")),localitySelectBox=$("residenceLocality_"+self.suffix);localitySelectBox.hasChildNodes();)localitySelectBox.removeChild(localitySelectBox.firstChild);localitySelectBox.appendChild(c),$("residenceLocality_block_"+self.suffix).style.display="none"}},this.loadLocalitiesNew=function(data,params){var mainLocalityBoxWidth=$("residenceLocality_"+self.suffix).offsetWidth;data=eval("("+data+")");for(var localitySelectBox=$("residenceLocality_"+self.suffix);localitySelectBox.hasChildNodes();)localitySelectBox.removeChild(localitySelectBox.firstChild);if(data.localities){var localityOption=document.createElement("option");localityOption.value="",$("mmpFormId"),localityOption.appendChild(document.createTextNode("Locality")),localitySelectBox.appendChild(localityOption);for(var zone in data.localities){var zoneGroup=document.createElement("optgroup");zoneGroup.label=zone;for(var locality in data.localities[zone])localityOption=document.createElement("option"),localityOption.value=locality,localityOption.appendChild(document.createTextNode(data.localities[zone][locality])),zoneGroup.appendChild(localityOption);localitySelectBox.appendChild(zoneGroup)}"none"!==$("residenceCityLocality_block_"+self.suffix).style.display&&($("residenceLocality_block_"+self.suffix).style.display="inline-block"),void 0!==params&&void 0!==params.preSelectedLocality&&$j("#residenceLocality_"+self.suffix).find("option[value="+params.preSelectedLocality+"]").length>0&&$j("#residenceLocality_"+self.suffix).find("option[value="+params.preSelectedLocality+"]").attr("selected","selected")}else{var localityOption=document.createElement("option");localityOption.value="-1",localityOption.appendChild(document.createTextNode("Anywhere")),localitySelectBox.appendChild(localityOption),$("residenceLocality_error_"+self.suffix).parentNode.style.display="none",$("residenceLocality_block_"+self.suffix).style.display="none"}$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&$j("#residenceLocality_"+self.suffix).selectmenu("refresh",!0)},this.populateLocalitiesByCity=function(a,b,c){var d={num:b,preSelectedLocalityData:c};parseInt(a)>0&&RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getLocalitiesMMP/"+a,"",self.loadLocalities,d)},this.loadLocalities=function(data,params){for(var mainLocalityBoxWidth=$("preferredStudyLocality_"+self.suffix).offsetWidth,otherLocalityBoxWidths=new Array,i=2;i<=4;i++)$("preferredStudyLocalityCity"+i+"_"+self.suffix)&&(otherLocalityBoxWidths[i]=new Array($("preferredStudyLocalityCity"+i+"_"+self.suffix).offsetWidth,$("preferredStudyLocality"+i+"_"+self.suffix).offsetWidth));data=eval("("+data+")");for(var localityFieldSuffix="1"==params.num?"":params.num,localitySelectBox=$("preferredStudyLocality"+localityFieldSuffix+"_"+self.suffix);localitySelectBox.hasChildNodes();)localitySelectBox.removeChild(localitySelectBox.firstChild);if(data.localities){var localityOption=document.createElement("option");localityOption.value="",localityOption.appendChild(document.createTextNode("Locality")),localitySelectBox.appendChild(localityOption);for(var zone in data.localities){var zoneGroup=document.createElement("optgroup");zoneGroup.label=zone;for(var locality in data.localities[zone])localityOption=document.createElement("option"),localityOption.value=locality,localityOption.appendChild(document.createTextNode(data.localities[zone][locality])),zoneGroup.appendChild(localityOption);localitySelectBox.appendChild(zoneGroup)}$("residenceLocality_block_"+self.suffix).style.display="inline-block"}else{var localityOption=document.createElement("option");localityOption.value="-1",localityOption.appendChild(document.createTextNode("Anywhere")),localitySelectBox.appendChild(localityOption),$("preferredStudyLocality_error_"+self.suffix).parentNode.style.display="none",$("residenceLocality_block_"+self.suffix).style.display="none"}1==params.num&&self.resetOtherLocalities(data),void 0!==params.preSelectedLocalityData&&self.loadPresetLocalityData(data,params.preSelectedLocalityData),$("preferredStudyLocality_"+self.suffix).style.width=mainLocalityBoxWidth+"px";for(var otherLocalityBoxWidths=new Array,i=2;i<=4;i++)otherLocalityBoxWidths[i]&&($("preferredStudyLocalityCity"+i+"_"+self.suffix).style.width=otherLocalityBoxWidths[i][0]+"px",$("preferredStudyLocality"+i+"_"+self.suffix).style.width=otherLocalityBoxWidths[i][1]+"px");$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&(params.num>1?$j("#preferredStudyLocality"+params.num+"_"+self.suffix).selectmenu("refresh",!0):$j("#preferredStudyLocality_"+self.suffix).selectmenu("refresh",!0))},this.loadPresetLocalityData=function(a,b){for(var c=0;c<b.length;c++)if(b[c]){c<b.length-1&&shikshaUserRegistrationForm[self.regFormId].addLocalityPreference();var d=b[c].split("+"),e=d[0],f=d[1],g=c>0?c+1:"";if(""!=g){for(var h=$("preferredStudyLocality"+g+"_"+self.suffix);h.hasChildNodes();)h.removeChild(h.firstChild);if(a.localities){var i=document.createElement("option");i.value="",i.appendChild(document.createTextNode("Select Area")),h.appendChild(i);for(var j in a.localities){var k=document.createElement("optgroup");k.label=j;for(var l in a.localities[j])i=document.createElement("option"),i.value=l,i.appendChild(document.createTextNode(a.localities[j][l])),k.appendChild(i);h.appendChild(k)}}else{var i=document.createElement("option");i.value="-1",i.appendChild(document.createTextNode("Anywhere")),h.appendChild(i),$("preferredStudyLocality_error_"+self.suffix).parentNode.style.display="none"}}$("preferredStudyLocalityCity"+g+"_"+self.suffix).value=e,$("preferredStudyLocality"+g+"_"+self.suffix).value=f}},this.resetOtherLocalities=function(a){for(var b=2;b<=4;b++){var c=$("preferredStudyLocalityCity"+b+"_"+self.suffix),d=$("preferredStudyLocality"+b+"_"+self.suffix);if(a.cityGroup||a.localities){for(;c.hasChildNodes();)c.removeChild(c.firstChild);for(;d.hasChildNodes();)d.removeChild(d.firstChild);var e=document.createElement("option");e.value="",e.appendChild(document.createTextNode("Select City")),c.appendChild(e),e=document.createElement("option"),e.value="",e.appendChild(document.createTextNode("Select Area")),d.appendChild(e)}if(a.cityGroup)for(var f in a.cityGroup)e=document.createElement("option"),e.value=f,e.appendChild(document.createTextNode(a.cityGroup[f])),c.appendChild(e);else if(a.localities){var g=$("preferredStudyLocalityCity_"+self.suffix).options[$("preferredStudyLocalityCity_"+self.suffix).selectedIndex].value,h=$("preferredStudyLocalityCity_"+self.suffix).options[$("preferredStudyLocalityCity_"+self.suffix).selectedIndex].text;e=document.createElement("option"),e.value=g,e.appendChild(document.createTextNode(h)),c.appendChild(e)}else $("preferredStudyLocality_"+b+"_block_"+self.suffix).style.display="none"}a.cityGroup||a.localities?"none"==$("preferredStudyLocality_4_block_"+self.suffix).style.display&&($("preferredStudyLocality_add_action_block_"+self.suffix).style.display=""):$("preferredStudyLocality_add_action_block_"+self.suffix).style.display="none"},this.resetAllLocalities=function(){$("preferredStudyLocalityCity_"+self.suffix).value="",option=document.createElement("option"),option.value="",option.appendChild(document.createTextNode("Select Area"));for(var a=$("preferredStudyLocality_"+self.suffix);a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(option);for(var b=2;b<=4;b++){option=document.createElement("option"),option.value="",option.appendChild(document.createTextNode("Select City"));for(var c=$("preferredStudyLocalityCity"+b+"_"+self.suffix);c.hasChildNodes();)c.removeChild(c.firstChild);for(c.appendChild(option),option=document.createElement("option"),option.value="",option.appendChild(document.createTextNode("Select Area")),a=$("preferredStudyLocality"+b+"_"+self.suffix);a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(option),$("preferredStudyLocality_"+b+"_block_"+self.suffix).style.display="none"}$("preferredStudyLocality_add_action_block_"+self.suffix).style.display=""},this.addExam=function(){for(var a=2;a<=5;a++)if("none"==$("otherExam"+a+"_block_"+self.suffix).style.display){$("otherExam"+a+"_block_"+self.suffix).style.display="",5==a&&($("addExam_"+self.suffix).style.display="none");break}return!1},this.changeStudyAbroadExams=function(a){"UG"==a.value?($("exam_GMAT_"+self.suffix)&&($("exam_GMAT_"+self.suffix).checked=!1,$("GMAT_score_"+self.suffix).value="Score",$("GMAT_score_"+self.suffix).style.display="none",$("GMAT_score_error_"+self.suffix).parentNode.style.display="none",$("GMAT_wrapper_"+self.suffix).style.display="none"),$("exam_GRE_"+self.suffix)&&($("exam_GRE_"+self.suffix).checked=!1,$("GRE_score_"+self.suffix).value="Score",$("GRE_score_"+self.suffix).style.display="none",$("GRE_score_error_"+self.suffix).parentNode.style.display="none",$("GRE_wrapper_"+self.suffix).style.display="none"),$("SAT_wrapper_"+self.suffix)&&($("SAT_wrapper_"+self.suffix).style.display="")):($("exam_SAT_"+self.suffix)&&($("exam_SAT_"+self.suffix).checked=!1,$("SAT_score_"+self.suffix).value="Score",$("SAT_score_"+self.suffix).style.display="none",$("SAT_score_error_"+self.suffix).parentNode.style.display="none",$("SAT_wrapper_"+self.suffix).style.display="none"),$("GMAT_wrapper_"+self.suffix)&&($("GMAT_wrapper_"+self.suffix).style.display=""),$("GRE_wrapper_"+self.suffix)&&($("GRE_wrapper_"+self.suffix).style.display=""))},this.addLocalityPreference=function(){for(var a=2;a<=4;a++)if("none"==$("preferredStudyLocality_"+a+"_block_"+self.suffix).style.display){$("preferredStudyLocality_"+a+"_block_"+self.suffix).style.display="",4==a&&($("preferredStudyLocality_add_action_block_"+self.suffix).style.display="none");break}},this.showPreferredStudyLocationLayer=function(a){self.showLayer("preferredStudyLocation",a)},this.showExamLayer=function(a){self.showLayer("exam",a)},this.setPreferredStudyLocations=function(){if(!$("preferredStudyLocationLayer_"+self.suffix))return!1;for(var a=$("preferredStudyLocationLayer_"+self.suffix).getElementsByTagName("input"),b=new Array,c=0;c<a.length;c++)"checkbox"==a[c].type&&a[c].checked&&b.push(a[c]);if(total_selected=b.length,"undefined"!=typeof total_selected_mobile&&(total_selected=total_selected_mobile),b.length>0)$("preferredStudyLocationContainer_"+self.suffix).innerHTML="&nbsp;Selected ("+total_selected+")",$("preferredStudyLocation_error_"+self.suffix).parentNode.style.display="none";else{var d=$("preferredStudyLocationContainer_"+self.suffix).getAttribute("default");d||(d="Preferred Study Location(s)"),$("preferredStudyLocationContainer_"+self.suffix).innerHTML=d,$("preferredStudyLocation_error_"+self.suffix).innerHTML="Please select preferred study location(s)",$("preferredStudyLocation_error_"+self.suffix).parentNode.style.display=""}$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value||self.hideLayer("preferredStudyLocation")},this.setSelectedExams=function(a){if(!$("examLayer_"+self.suffix))return!1;for(var b=$("examLayer_"+self.suffix).getElementsByTagName("input"),c=new Array,d=0;d<b.length;d++)"checkbox"==b[d].type&&b[d].checked&&c.push(b[d]);var e=document.createElement("option");e.value="";var f=document.getElementById("examContainer_"+self.regFormId);if(c.length>0)e.text="Selected ("+c.length+")",document.getElementById("examContainer_"+self.regFormId).innerHTML="",$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value?f.innerHTML=e.text:$("mmpFormId")?$("examContainer_"+self.suffix).innerHTML="Selected ("+c.length+")":f.add(e),$("exams_error_"+self.suffix).parentNode.style.display="none";else{var g=$("examContainer_"+self.suffix).getAttribute("default");g||(g="Exams Taken"),document.getElementById("examContainer_"+self.regFormId).innerHTML="",e.text=g,$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value?f.innerHTML=e.text:$("mmpFormId")?$("examContainer_"+self.suffix).innerHTML=g:f.add(e)}a||self.validateField(b[0]),$("context_"+self.suffix)&&$("context_"+self.suffix).value,self.hideLayer("exam")},this.showDestinationCountryLayer=function(a){self.showLayer("destinationCountry",a)},this.toggleCountriesInRegion=function(a){if($("region_"+a+"_"+self.suffix).checked)for(var b=document.getElementsByTagName("input"),c=0;c<b.length;c++)"checkbox"==b[c].type&&b[c].getAttribute("region")==a+"_"+self.suffix&&(b[c].checked="checked");else for(var b=document.getElementsByTagName("input"),c=0;c<b.length;c++)"checkbox"==b[c].type&&b[c].getAttribute("region")==a+"_"+self.suffix&&(b[c].checked=!1)},this.toggleRegion=function(a){for(var b=!0,c=document.getElementsByTagName("input"),d=0;d<c.length;d++)"checkbox"==c[d].type&&c[d].getAttribute("region")==a+"_"+self.suffix&&(c[d].checked||(b=!1));$("region_"+a+"_"+self.suffix)&&($("region_"+a+"_"+self.suffix).checked=!!b&&"checked")},this.setDestinationCountries=function(){for(var a=$("destinationCountryLayer_"+self.suffix).getElementsByTagName("input"),b=new Array,c=0;c<a.length;c++)"checkbox"==a[c].type&&"destinationCountry[]"==a[c].getAttribute("name")&&a[c].checked&&b.push(a[c]);if(total_selected=b.length,"undefined"!=typeof total_selected_mobile_sa&&(total_selected=total_selected_mobile_sa),b.length>0){if($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value){var d=b.length/2;$("destinationCountryContainer_"+self.suffix).innerHTML="&nbsp;Selected ("+d+")"}else $("destinationCountryContainer_"+self.suffix).innerHTML="&nbsp;Selected ("+b.length+")";$("destinationCountry_error_"+self.suffix).parentNode.style.display="none"}else{var e=$("destinationCountryContainer_"+self.suffix).getAttribute("default");e||(e="Destination Country(s)"),$("destinationCountryContainer_"+self.suffix).innerHTML=e,$("destinationCountry_error_"+self.suffix).innerHTML="Please select destination country(s)",$("destinationCountry_error_"+self.suffix).parentNode.style.display=""}$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value||self.hideLayer("destinationCountry")},this.submitResponse=function(){if($j("#tracking_keyid_"+self.suffix).length>0&&(window.L_tracking_keyid=$j("#tracking_keyid_"+self.suffix).val()),"registerResponse"==$j("#context_"+self.suffix).val()||"registerResponseLPR"==$j("#context_"+self.suffix).val()||"mobile"==$j("#context_"+self.suffix).val()||"askQuestionBottom"==$j("#context_"+self.suffix).val()||"askQuestionBottomCompare"==$j("#context_"+self.suffix).val()){if($("course_"+self.suffix)){var a=!0;if(!$("context_"+self.suffix)||"askQuestionBottom"!=$("context_"+self.suffix).value&&"askQuestionBottomCompare"!=$("context_"+self.suffix).value||(a=validateQuestion($("ask_question_"+$("widget_"+self.suffix).value))),!self.validateField($("course_"+self.suffix)))return!1;if(0==a)return!1}if($("widget_"+self.suffix)){var b=$("widget_"+self.suffix).value,c=$("institute_id_"+self.suffix).value;""===c&&"undefined"!=typeof shortRegistrationFormResponse&&(c=shortRegistrationFormResponse.instituteId);var d=$("course_"+self.suffix).value,e=iscustomizedCourse(d),f=checkMultilocationCourses(d),g=$j("#residenceCityLocality_"+self.suffix).val();if($("preferred_city_category_"+b+c)&&1==e&&$j("#preferred_city_category_"+b+c+" option").size()>1){if(""==$j("#preferred_city_category_"+b+c).val())return $j("#preferred_city_category_"+b+c+"_error").parent().css("display","block"),$j("#preferred_city_category_"+b+c+"_error").html("Please select preferred city"),!1;$j("#preferred_city_category_"+b+c+"_error").parent().css("display","none"),$j("#preferred_city_category_"+b+c+"_error").html("")}if($("preferred_locality_category_"+b+c)&&(1==e||1==f)&&$j("#preferred_locality_category_"+b+c+" option").size()>1){if(""==$j("#preferred_locality_category_"+b+c).val())return $j("#preferred_locality_category_"+b+c+"_error").parent().css("display","block"),$j("#preferred_locality_category_"+b+c+"_error").html("Please select course location"),!1;$j("#preferred_locality_category_"+b+c+"_error").parent().css("display","none"),$j("#preferred_locality_category_"+b+c+"_error").html("")}}if(1==f&&void 0!==custom_localities[d][g]&&$j("#preferred_locality_category_"+b+c+" option").length<1)return setTimeout(function(){$j("#residenceCityLocality_"+self.suffix).trigger("change")},200),!1;if($j("#email_"+self.suffix).length>0){var h=$j("#email_"+self.suffix).val();if(getCookie("nregv").split("|")[0]!=h){var i=$("inlineForm_"+self.suffix).value;return self.showVerificationLayer(i),!1}}var j=$j("#widget_"+self.suffix).val();if(customParams={widget:j,courseId:$("course_"+self.suffix).value,instituteId:$("institute_id_"+self.suffix).value,instituteName:$("institute_name_"+self.suffix).value,firstName:$("firstName_"+self.suffix).value,lastName:$("lastName_"+self.suffix).value,email:$("email_"+self.suffix).value,mobile:$("mobile_"+self.suffix).value,customCallBack:$("customCallBack_"+self.suffix).value,isCategoryPage:$("isCategoryPage_"+self.suffix)?$("isCategoryPage_"+self.suffix).value:"",tracking_keyid:$("tracking_keyid_"+self.suffix).value},void 0!==window.L_tracking_keyid&&(customParams.tracking_keyid=window.L_tracking_keyid),void 0!==customParams.widget)var j=customParams.widget;else var j="common";"askAQuestion"==j||"newListingsAnABottom"==j?postQuestionFromWidget(j,customParams.tracking_keyid):(customParams.userId=$("userId").value,responseType="","listingPageRightNational"===j?responseType=1:"common"===j&&(responseType=2),"undefined"!=typeof isSearchV2ResultPage&&1==isSearchV2ResultPage&&(j="ND_SRP_Request_E_Brochure"),processFinalResponseFormCommon(j,customParams.isCategoryPage,responseType,customParams.customCallBack,customParams),registrationOverlayComponent.hideOverlay(),self.hideLoader())}return!1},this.submitMobileResponse=function(){var a,b=window.jQuery("input[name=currentUrl]").val(),c=base64_encode(window.jQuery("input[name=referrer]").val()),d=window.jQuery("input[name=courseArray]").val(),e=window.jQuery("input[name=from_where]").val(),f=window.jQuery("input[name=login]").val(),g=window.jQuery("input[name=firstName]").val(),h=window.jQuery("input[name=lastName]").val(),i=window.jQuery("input[name=email]").val(),j=window.jQuery("input[name=mobile]").val(),k=window.jQuery("input[name=list]").val(),l=window.jQuery("input[name=institute_id]").val(),m="REQUEST-E-BROCHURE",n=window.jQuery("input[name=widget]").val(),o=window.jQuery("#preferred_city_category_"+n+l).val(),p=window.jQuery("#preferred_locality_category_"+n+l).val(),q=window.jQuery("input[name=action_type]").val(),r=$j("#tracking_keyid_"+this.suffix).val();$j('select[id^="course_"]').each(function(){a=$j(this).val()});var s=iscustomizedCourse(a);if($("preferred_city_category_"+n+l)&&1==s&&$j("#preferred_city_category_"+n+l+" option").size()>1){if(""==$j("#preferred_city_category_"+n+l).val())return $j("#preferred_city_category_"+n+l+"_error").parent().css("display","block"),$j("#preferred_city_category_"+n+l+"_error").html("Please select preferred city"),!1;$j("#preferred_city_category_"+n+l+"_error").parent().css("display","none"),$j("#preferred_city_category_"+n+l+"_error").html("")}if($("preferred_locality_category_"+n+l)&&1==s&&$j("#preferred_locality_category_"+n+l+" option").size()>1){if(""==$j("#preferred_locality_category_"+n+l).val())return $j("#preferred_locality_category_"+n+l+"_error").parent().css("display","block"),$j("#preferred_locality_category_"+n+l+"_error").html("Please select course location"),!1;$j("#preferred_locality_category_"+n+l+"_error").parent().css("display","none"),$j("#preferred_locality_category_"+n+l+"_error").html("")}var t=0;window.jQuery("input[name=tracking_keyid]").length>0&&(t=window.jQuery("input[name=tracking_keyid]").val()),jQuery.ajax({url:"/muser5/MobileUser/request_validation/",type:"POST",data:{currentUrl:b,referralUrl:c,courseArray:d,user_email:i,from_where:e,login:f,user_first_name:g,user_last_name:h,user_mobile:j,list:k,preferred_city_dropdown:o,preferred_locality_dropdwon:p,pageName:m,institute_id:l,autoResponse:"0",action_type:q,trackingPageKeyId:r,tracking_keyid:t},success:function(a){var c=a.split("#");if("user_exit_in_db"==c[0]&&(window.jQuery("#submitBtn").removeAttr("disabled",""),window.jQuery("#mainError").html("User already exists."),window.jQuery("#error_user_password").parent().show(),window.jQuery("#user_forget_password_li").show(),status="user_exit_in_db"),setCookie("show_recommendation","yes",30),setCookie("recommendation_course",k,30),"REQUEST-E-BROCHURE"==trim(c[0]))return setCookie("rebOnInsDetailPageStatus","true",30),void(window.location=trim(c[1]));""!=base64_decode(b)?window.location=url_base64_decode(b):window.location.reload()},error:function(a){}})},this.userVerificationLayer=function(a,b){a="true"==a?a:0,b=void 0!==b?b:0;var c=self.customVerificationData;void 0===c&&(c={});var d=c.email?c.email:$j("#email_"+self.suffix).val(),e=c.mobile?c.mobile:$j("#mobile_"+self.suffix).val(),f=c.isdCode?c.isdCode:$j("#isdCode_"+self.suffix).val(),g=c.callback?c.callback:null,h=c.changeMobileLink?c.changeMobileLink:"yes",i="yes"==$j("#isStudyAbroad").val()?1:0;""!=f&&void 0!==f||(f=$j("#isdCode_"+self.suffix).val()),""!=e&&void 0!==e||(e=$j("#mobile_"+self.suffix).val()),""!=d&&void 0!==d||(d=$j("#email_"+self.suffix).val()),$j.ajax({type:"POST",url:"/userVerification/userVerification/verifyUser",data:{email:d,mobile:e,isdCode:f,verification:"OTP",isStudyAbroad:i},success:function(c){if(!g||"skip"!=c&&"exists"!=c&&"failed"!=c)if("skip"==c)$("userVerification_"+self.suffix).value="YES",self.submitForm(),$j("#DHTMLSuite_modalBox_transparentDiv").length>0&&($("DHTMLSuite_modalBox_transparentDiv").style.display="none");else if("exists"==c){if(self.hideLoader(),"nationalMobile"==self.contextPlatform($j("#context_"+self.suffix).val())&&"undefined"!=typeof loginURLMobile&&""!=loginURLMobile){if("Yes"==$j("#fromICP").val())window.location=loginURLMobile+"?email="+d+"&source=ICP";else if("YES"==$j("#makeEBResponse_"+self.suffix).val()||$j("#makeShortlistResponse_"+self.suffix).val()){$j("#makeShortlistResponse_"+self.suffix).val()?$("responseCreationFormHolder").innerHTML=self.createLoginContentForMobileResp($j("#makeShortlistResponse_"+self.suffix).val()+"_CategoryPage"):$("responseCreationFormHolder").innerHTML=self.createLoginContentForMobileResp();var f='$("responseCreationForm").submit();';$("signInErrors_"+self.suffix).innerHTML="You are already registered with Shiksha. Click <a onclick='"+f+"''>here</a> to Login.",$j("#signInErrorsParent_"+self.suffix).show()}else window.location=loginURLMobile;return}if("abroadMobile"==self.contextPlatform($j("#context_"+self.suffix).val()))$j("#abroadLoginTab").trigger("click");else{if(!a){$j(".responseFormContactNew").hide();var j=self.contextPlatform($j("#context_"+self.suffix).val());if(("nationalMobile"==j||"abroadMobile"==j)&&""!=$j("#mmpFormId").val())return void(window.location="/muser5/MobileUser/login?"+d)}$j("#genOverlayAnA").length>0&&"none"!=$j("#genOverlayAnA").css("display")?$j("#genOverlayAnA").hide():$j("#display_on_page")&&"newmmp"==$j("#display_on_page").val()&&$j("#mmpOverlay").hide(),"iimPredictor"==$j("#context_"+self.suffix).val()&&shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&(window.location="/mba/resources/iim-call-predictor-result")}),shikshaUserRegistration.showLoginLayer(!1,d)}}else{if("failed"==c)return alert("You have exceeded maximum five attempts to verify your mobile."),void("mobile"==$j("#context_"+self.suffix).val()&&$j(".ui-link")?$j(".ui-link").click():window.location.reload());if(a){var k=new Object;k.showVerificationLayer=1,k.regData=self.suffix,k.mobile=e,k.changeMobileLink=h,k.isStudyAboad=i;var l=400;if("yes"==$("isStudyAbroad").value&&(l=600),$j("#genOverlayAnA").length>0&&"none"!=$j("#genOverlayAnA").css("display")&&"yes"!=$("isStudyAbroad").value&&$j("#genOverlayAnA").hide(),registrationOverlayComponent.showOverlay("/registration/Forms/userVerificationLayer",l,300,k),self.hideLoader(),"personalInformationSection"==$j("#sectionType_"+self.suffix).val()){var m=$j(document).height();$j("#DHTMLSuite_modalBox_transparentDiv").css({height:m})}$j("#user-Authentication-otp_"+self.suffix).length>0&&($("user-Authentication-otp_"+self.suffix).style.display="block"),$j("#send-Failed_"+self.suffix).length>0&&($("send-Failed_"+self.suffix).style.display="none"),"no"==c&&setTimeout(function(){$j("#pin-Error_"+self.suffix).html("PIN could not be sent")},700)}else{var j=self.contextPlatform($j("#context_"+self.suffix).val());if("nationalMobile"==j||"abroadMobile"==j?($j("#alreadyRegistered").hide(),$j("#joinShikshaLabel").hide(),$j("#accordian-list").hide(),$j("#registrationForm_"+self.suffix).hide(),$j("#request-brochure-msg")&&$j("#request-brochure-msg").hide(),"yes"==$("isStudyAbroad").value&&($j(".tabs").hide(),$j("#register-form").find(".wrap-title").hide())):($j("#form_"+self.suffix).hide(),$j("#mainApplyDiv").css("width","415px")),("yes"==c||"no"==c)&&(a||("yes"==$("isStudyAbroad").value?($j("#oneStepAroad_"+self.suffix).hide(),$j("#close-two-step-layer").hide(),$j(".abroad-step-title").hide(),$j(".registered-title").hide(),$j("#counselorDetails")&&$j("#counselorDetails").length>0&&$j("#counselorDetails").hide(),$j("#university_course_list_select_parent")&&$j("#university_course_list_select_parent").length>0&&$j("#university_course_list_select_parent").hide()):($j("#contactFormRegId").length>0&&$j("#contactFormRegId").html("Verify Mobile Number"),$j("#mmpFormHeading").length&&$j("#mmpFormHeading").html("Verify Your Mobile Number"),$j("#reg-layer-outer")&&$j("#reg-layer-outer").length>0&&shikshaUserRegistration.isLoggedIn()&&$j("#reg-layer-outer").css({display:"block"}),$j("#registrationTitle_"+self.suffix).html("Verify Mobile Number"),$j(".close").hide(),$j(".layer-contents").hide()),"undefined"!=typeof mmp_form_id_on_popup&&""!=mmp_form_id_on_popup&&$j("#registration-box2").hide(),"newmmp"==$j("#display_on_page").val()&&""!=$j("#mmpFormId").val()&&$j("#formScroll").hide(),self.hideLoader(),"no"==c&&$j("#pin-Error_"+self.suffix).html("PIN could not be sent"),$("user-Authentication-otp_"+self.suffix).style.display="block",$("context_"+self.suffix)&&"shortlistRegister"==$("context_"+self.suffix).value&&$j("#reg-layer-outer").css({width:"400px"}),$("context_"+self.suffix)&&"registerResponse"==$("context_"+self.suffix).value&&$j("#reg-layer").css({width:"400px"})),$j("#user-Authentication_"+self.suffix).show(),$j("#compare_login_layer_"+self.suffix).length&&($j("#compare_login_layer_"+self.suffix).css({width:"365px",padding:"","margin-left":"55px"}),$j("#layer_title_"+self.suffix).removeAttr("style")),b)){a||("yes"==$("isStudyAbroad").value?$j("#close-two-step-layer").show():$j(".close").show()),$j("#pin-Error_"+self.suffix).html(""),"mobile"==$j("#context_"+self.suffix).val()&&"undefined"!=typeof gaTrackEventCustom?gaTrackEventCustom("Registration","Registration","Resend PIN"):void 0!==trackEventByGA&&trackEventByGA("Registration","Resend PIN");var n="The PIN is sent to your mobile";"yes"==$("isStudyAbroad").value&&(n="The OTP is sent to your mobile"),"no"==c&&(n="PIN could not be sent"),setTimeout(function(){$j("#pin-Error_"+self.suffix).html(n)},500),$j("#pin-Error_"+self.suffix).show()}}}else window[g]({response:c})}})},this.userVerifyAuthentication=function(){var a=self.customVerificationData,b="yes"==$("isStudyAbroad").value?1:0;void 0===a&&(a={});var c=a.email?a.email:$j("#email_"+self.suffix).val(),d=a.mobile?a.mobile:$j("#mobile_"+self.suffix).val(),e=a.isdCode?a.isdCode:$j("#isdCode_"+self.suffix).val(),f=a.callback?a.callback:null,g=parseInt($j("#one-time-pass_"+self.suffix).val());isNaN(g)||g<1e5||g>999999?("yes"==$("isStudyAbroad").value?$j("#pin-Error_"+self.suffix).html("Enter a vaild OTP"):$j("#pin-Error_"+self.suffix).html("Enter a vaild PIN"),$j("#pin-Error_"+self.suffix).show()):$j.ajax({type:"POST",url:"/userVerification/userVerification/verifyOTP",data:{email:c,isdCode:e,mobile:d,OTP:g,isStudyAbroad:b},success:function(a){if(!f||"yes"!=a&&"failed"!=a)if("mobile"==$j("#context_"+self.suffix).val()&&"undefined"!=typeof gaTrackEventCustom?gaTrackEventCustom("Registration","Registration","Conversion_Register_Mobile_Old"):void 0!==trackEventByGA&&trackEventByGA("Registration","OTP Submit"),"yes"==a)$("userVerification_"+self.suffix).value="YES",$j("#registrationFormOverlay").fadeOut(),$j("#DHTMLSuite_modalBox_contentDiv").hide(),$j("#responseFormNew")&&$j("#responseFormNew").length>0&&$j("#responseFormNew").hide(),"mobile"==$j("#context_"+self.suffix).val()?self.showOTPLoaderForMobile():"abroadMobile"==self.contextPlatform($j("#context_"+self.suffix).val())?self.showLoader():"yes"==$("isStudyAbroad").value&&""==$j("#mmpFormId").val()||shikshaUserRegistration.isLoggedIn()||self.showOTPLoader(),!shikshaUserRegistration.isLoggedIn()||$j("#mmpFormId")&&""!=$j("#mmpFormId").val()?self.submitForm():self.submitResponse();else{if("failed"==a)return alert("You have exceeded maximum five attempts to verify your mobile."),void("mobile"==$j("#context_"+self.suffix).val()&&$j(".ui-link")?$j(".ui-link").click():window.location.reload());"no"==a&&(setTimeout(function(){"yes"==$("isStudyAbroad").value?$j("#pin-Error_"+self.suffix).html("OTP is incorrect"):$j("#pin-Error_"+self.suffix).html("The PIN is incorrect")},500),$j("#pin-Error_"+self.suffix).show())}else window[f]({response:a})}})},this.isOTPVerificationAttemptsDone=function(a){$j.ajax({type:"POST",url:"/userVerification/userVerification/checkAttempts",data:{email:a},success:function(a){"exceed"==a&&(alert("You have exceeded maximum five attempts to verify your mobile."),window.location.reload())}})},this.showOTPLoader=function(){$j("body").append('<div style="border-radius: 6px; width: 242px; position: absolute; left: 47%; z-index: 100; height: 125px; top:'+top+'px;" id="otpLoader"> <img align="bsmiddle" src="/public/images/loader.gif"></div>')},this.showOTPLoaderForMobile=function(){var a=document.body.parentNode.offsetWidth,b=document.body.parentNode.offsetHeight,c=getElementPosition(document.body),d=(c.left,c.top,.7),e=document.createElement("div");overlayStyle={position:"absolute",top:0,left:0,width:a+"px",textAlign:"center",height:b+"px",background:"#ffffff",zIndex:1e4,opacity:d,filter:"alpha(opacity="+100*d+")"};for(var f in overlayStyle)e.style[f]=overlayStyle[f];var g=document.createElement("div");g.id="registrationFormOverlay",overlayStyle={position:"relative"};for(var f in overlayStyle)g.style[f]=overlayStyle[f];g.appendChild(e),$j("body").append(g),e.innerHTML='<div class="registrationLoader" style="font-size:20px;margin:0px 0px 0px 0px; padding:80px 20px 20px 30px;">&nbsp;&nbsp;Loading...</div>'},this.hideOTPLoader=function(){$j("#otpLoader").remove()},this.showVerificationLayer=function(a,b){"false"==a?("yes"==$j("#isStudyAbroad").val()?($j("#yourChangeMobile_"+self.suffix).html($("mobile_"+self.suffix).value),$j("#close-two-step-layer").attr("onclick","window.location.reload()"),$j("#mmpFormHeading").length&&($j("#mmpFormHeading").html(""),$j(".abroad-layer-title").css({color:"#fcb050"}))):$j(".close").attr("onclick","window.location.reload()"),$j("#mmpAlreadyRegLayer").length&&$j("#mmpAlreadyRegLayer").hide(),$j("#yourMobile_"+self.suffix)&&$j("#yourMobile_"+self.suffix).length&&($("yourMobile_"+self.suffix).innerHTML=$("mobile_"+self.suffix).value)):"yes"!=$j("#isStudyAbroad").val()||$j("#mmpFormId")?$j(".close").attr("onclick","window.location.reload()"):(hideFullPageProgressLayer(),$j("#close-two-step-layer").attr("onclick","window.location.reload()")),"91-2"!=$j("#isdCode_"+self.suffix).val()&&$j("#newMobileNumber_"+self.suffix).attr("maxlength",20),self.customVerificationData=b,self.userVerificationLayer(a,0)},this.changeMobileLayer=function(){$j(".enterMobilePin").hide(),$j(".changeMobileLayer").show(),$j(".changeMobile").hide(),"yes"==$("isStudyAbroad").value&&($("yourChangeMobile_"+self.suffix).innerHTML=$("mobile_"+self.suffix).value),"91-2"!=$j("#isdCode_"+self.suffix).val()&&$j("#newMobileNumber_"+self.suffix).attr("maxlength",20)},this.changeMobile=function(){var a=$("newMobileNumber_"+self.suffix).value;1==self.updatedMobileValidation(a)&&(a=void 0===a?$j("#newMobileNumber_"+self.suffix).val():a,$("mobile_"+self.suffix).value=a,$j(".changeMobileLayer").hide(),$j(".enterMobilePin").show(),$j(".yourMobile").html(a),$j(".close").show(),self.userVerificationLayer(null,1))},this.updatedMobileValidation=function(a){var b;return b="91-2"!=$j("#isdCode_"+self.suffix).val()?validateMobileInteger(a,"mobile number",20,6,!0,!1):validateMobileInteger(a,"mobile number",10,10,!0),1!=b?setTimeout(function(){$j(".regErrorMsgForOTP").html(b)},500):1==b&&setTimeout(function(){$j(".regErrorMsgForOTP").html("")},500),b},this.changeMobileFieldMaxlength=function(a){"91-2"==a?($j("#mobile_"+self.suffix).attr("maxlength",10),$j("#mobile_"+self.suffix).attr("minlength",10)):($j("#mobile_"+self.suffix).attr("maxlength",20),$j("#mobile_"+self.suffix).attr("minlength",6)),"Mobile No"!=$j("#mobile_"+self.suffix).val()&&"Mobile No."!=$j("#mobile_"+self.suffix).val()&&"undefined"==$j("#mmpFormId")&&$j("#mobile_"+self.suffix).blur()},this.changeMenteeForm=function(a){"91-2"==a?($j("#residentCityParentDiv_"+self.suffix+" select").attr({id:"residenceCity_"+self.suffix,name:"residenceCity"}),$j("#residentCityParentDiv_"+self.suffix).show(),$j("#emptyResidentCity_"+self.suffix).hide()):($j("#residentCityParentDiv_"+self.suffix+" select").attr({id:"",name:""}),$j("#residentCityParentDiv_"+self.suffix).hide(),$j("#emptyResidentCity_"+self.suffix).show())},this.contextPlatform=function(a){var b=["mobile"],c=["mobileRegistrationAbroad","mobileRmcPage"],d=["askQuestionBottom","default","ExamPages","findInstitute","inlineANA","menteeForm","OnlineForm","rankPredictor","registerFree","registerResponse","registerResponseLPR","shortlistRegister","askQuestionBottomCompare"],e=["downloadEbrochureSA","downloadEbrochureSABottom","oneStepRegister","rmcPage","rmcStudentProfile","twoStepRegister","abroadUserSetting"];return b.indexOf(a)>-1?"nationalMobile":c.indexOf(a)>-1?"abroadMobile":d.indexOf(a)>-1?"nationalDesktop":e.indexOf(a)>-1&&"abroadDesktop"},this.submitForm=function(){$("tracking_keyid_"+self.suffix)&&"undefined"!=$("tracking_keyid_"+self.suffix).value&&(window.L_tracking_keyid=$("tracking_keyid_"+self.suffix).value),$("context_"+self.suffix)&&"ExamPages"==$("context_"+self.suffix).value&&examPageTrackEventByGA("NATIONAL_EXAM_PAGE_"+gaTrackExamName,"registration",gaTrackSection),!$("context_"+self.suffix)||"oneStepRegister"!=$("context_"+self.suffix).value&&"downloadEbrochureSA"!=$("context_"+self.suffix).value?"YES"!=$j("#userVerification_"+self.suffix).val()&&self.showLoader():self.showOneStepLoader();var a="true"==$j("#inlineForm_"+self.suffix).val()?"true":"false";if("undefined"!=typeof rmcFormSpamControl&&(rmcFormSpamControl=!0),self.validateForm()){if($("context_"+self.suffix)&&("askQuestionBottom"==$("context_"+self.suffix).value||"askQuestionBottomCompare"==$("context_"+self.suffix).value)){if(0==validateQuestion($("ask_question_"+$("widget_"+self.suffix).value)))return self.hideLoader(),!1}$j("#mmpFormId").val()>0&&"yes"==$j("#isStudyAbroad").val()&&self.submitEducationFieldsAction();var b=0,c=shikshaUserRegistration.isLoggedIn();if(c){var d=$j("#email_"+self.suffix).val(),e=shikshaUserRegistration.getCookieData("nregv");if(e){var f=$j("#isdCode_"+self.suffix).val();void 0===f&&(f="91-2");var g=f+""+$j("#mobile_"+self.suffix).val();e=e.split("|"),e[0]==d&&e[1]==g&&(b=1)}}if(!c&&"YES"!=$j("#userVerification_"+self.suffix).val()||c&&!b)return self.showVerificationLayer(a),!1;if(c||"YES"==$j("#userVerification_"+self.suffix).val()&&"true"==a&&self.hideLoader(),"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage){var h="university_course_list_select",i="university_course_list";if($("context_"+self.suffix)&&"downloadEbrochureSABottom"==$("context_"+self.suffix).value&&(h="listing_course_list_select_bottom",i=h),!$("context_"+self.suffix)||"downloadEbrochureSABottom"!=$("context_"+self.suffix).value&&"downloadEbrochureSA"!=$("context_"+self.suffix).value||$j("[name='exams[]']:disabled").attr("checked","checked"),$(h)&&$("context_"+self.suffix)&&("downloadEbrochureSA"==$("context_"+self.suffix).value||"downloadEbrochureSABottom"==$("context_"+self.suffix).value)){if(""===$j("#"+h).val())return $j("#"+i+"_error").html("Please select a course"),hideFullPageProgressLayer(),self.hideLoader(),!1;$j("#"+i+"_error").html("")}}"abroadUserSetting"==$j("#context_"+self.suffix).val()?(logActivityForStudyAbroadUserProfileSetting(),self.hideLoader()):"downloadEbrochureSABottom"==$j("#context_"+self.suffix).val()&&self.hideLoader(),self.doSubmit()}else{if(self.hideLoader(),"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage){var h="university_course_list_select",i="university_course_list";$("context_"+self.suffix)&&"downloadEbrochureSABottom"==$("context_"+self.suffix).value&&(h="listing_course_list_select_bottom",i=h),$(h)&&$("context_"+self.suffix)&&("downloadEbrochureSA"==$("context_"+self.suffix).value||"downloadEbrochureSABottom"==$("context_"+self.suffix).value)&&(""===$j("#"+h).val()?$j("#"+i+"_error").html("Please select a course"):$j("#"+i+"_error").html(""))}if($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&($("signInErrorsParent_"+self.suffix).style.display="",$("signInErrors_"+self.suffix).innerHTML="Please correct the errors marked in red."),$j("#registrationValidationErrors_"+self.suffix).length>0)if($("registrationValidationErrors_"+self.suffix))$("registrationValidationErrors_"+self.suffix).style.display="";else{var j=document.createElement("div");j.style.color="red",j.style.padding="5px 0",j.id="registrationValidationErrors_"+self.suffix,shikshaUserRegistration.isLoggedIn()?j.innerHTML="Please correct the errors marked in red.":j.innerHTML="Please correct the errors marked in red to successfully register on shiksha.com.",$("registrationSubmit_"+self.suffix).parentNode.insertBefore(j,$("registrationSubmit_"+self.suffix))}"undefined"!=typeof rmcFormSpamControl&&rmcFormSpamControl===!0&&(rmcFormSpamControl=!1)}return!1},this.validateSecurityCode=function(){var a=$("securityCode_"+self.suffix);if(a){var b=a.value,c=$("securityCodeVar_"+self.suffix).value,d="securityCodeVar="+c+"&securityCode="+b;RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/validateSecurityCode",d,self.securityCodeValidationCallback)}},this.securityCodeValidationCallback=function(a,b){"incorrect"==a?($("securityCode_error_"+self.suffix).innerHTML="Please enter the Security Code as shown in the image",$("securityCode_error_"+self.suffix).parentNode.style.display="",$("securityCodeImg_"+self.suffix).setAttribute("src","/CaptchaControl/showCaptcha?width=100&height=34&characters=5&randomkey="+Math.floor(1e6*Math.random()+1)+"&secvariable="+$("securityCodeVar_"+self.suffix).value),$("context_"+self.suffix)&&"twoStepRegister"==$("context_"+self.suffix).value?self.hideTwoStepLoader():self.hideLoader()):self.doSubmit()},this.doSubmit=function(){for(var a=self.form.getAttribute("action"),b=self.form.getElementsByTagName("input"),c=0;c<b.length;c++)"text"!=b[c].type&&"email"!=b[c].type&&"tel"!=b[c].type||b[c].value!=b[c].getAttribute("default")||(b[c].value="");for(var d=self.form.getElementsByTagName("textarea"),c=0;c<d.length;c++)d[c].value==d[c].getAttribute("default")&&(d[c].value="");if("abroadUserSetting"==$j("#context_"+self.suffix).val()&&"checked"==$j("#examTaken_no_"+self.suffix).attr("checked")&&""!=$j("#0_score_"+self.suffix).val()&&""!=$j("#exam_0_"+self.suffix).val()&&$j("#examTaken_no_"+self.suffix).val("yes"),$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value){var e=$j("#registrationForm_"+self.suffix).serialize();if(void 0==$j("#mmpFormId").val()||""==$j("#mmpFormId").val()){var f=base64_decode($j("#referrer").val().trim());$j("#referrer").val(f)}var g=$j("#registrationForm_"+self.suffix).serialize()}else var g=serializeForm(self.form);var h={},i="";if("downloadEbrochureSA"==$j("#context_"+self.suffix).val()||"mobileRegistrationAbroad"==$j("#context_"+self.suffix).val()&&$j("#responseMobile").val()||"mobileRmcPage"==$j("#context_"+self.suffix).val()?(h={listingType:$j("#listingTypeForBrochure").val(),listingTypeId:$j("#listingTypeIdForBrochure").val(),responseSource:$j("#responseSource").val(),widget:$j("#widget").val(),trackingPageKeyId:$j("#tracking_keyid_"+self.suffix).val()},i=$j("#consultant_tracking_keyid_"+self.suffix).val()):"downloadEbrochureSABottom"==$j("#context_"+self.suffix).val()?(h={listingType:$j("#listingTypeForBrochureBottom").val(),listingTypeId:$j("#listingTypeIdForBrochureBottom").val(),responseSource:$j("#responseSourceBottom").val(),trackingPageKeyId:$j("#tracking_keyid_"+self.suffix).val()},i=$j("#consultant_tracking_keyid_"+self.suffix).val()):"rmcPage"==$j("#context_"+self.suffix).val()&&(h={listingType:$j("#listingTypeForBrochureBottom").val(),listingTypeId:$j("#listingTypeIdForBrochureBottom").val(),responseSource:$j("#responseSourceBottom").val(),trackingPageKeyId:$j("#tracking_keyid_"+self.suffix).val()}),"undefined"!=typeof consultantInRegistration&&1==consultantInRegistration){var j=[];$j("#consultant-ins-list-"+self.suffix).find('input[name="consultantList[]"]:checked').each(function(){j.push($j(this).val())}),h.consultantList=j,h.userRegion=$j("#userRegion_"+self.suffix).val(),h.consultantTrackingPageKeyId=i}if("registerResponse"==$j("#context_"+self.suffix).val()||"registerResponseLPR"==$j("#context_"+self.suffix).val()||"askQuestionBottom"==$j("#context_"+self.suffix).val()||"askQuestionBottomCompare"==$j("#context_"+self.suffix).val()){h={widget:$j("#widget_"+self.suffix).val(),courseId:$("course_"+self.suffix).value,instituteId:$("institute_id_"+self.suffix).value,instituteName:$("institute_name_"+self.suffix).value,firstName:$("firstName_"+self.suffix).value,lastName:$("lastName_"+self.suffix).value,email:$("email_"+self.suffix).value,mobile:$("mobile_"+self.suffix).value,customCallBack:$("customCallBack_"+self.suffix).value,isCategoryPage:$("isCategoryPage_"+self.suffix)?$("isCategoryPage_"+self.suffix).value:"",trackingPageKeyId:$("tracking_keyid_"+self.suffix)?$("tracking_keyid_"+self.suffix).value:""}}$("context_"+self.suffix)&&"ExamPages"==$("context_"+self.suffix).value&&(h={subscribeForExam:$("examPageValue_"+self.suffix).value,examCategory:$("examPageCategory_"+self.suffix).value}),"function"==typeof setPageRefreshCookie&&setPageRefreshCookie();var k=getElementPosition(self.form),l=k.left+"X"+k.top,m=screen.width+"X"+screen.height;"function"==typeof showFullPageProgressLayer&&showFullPageProgressLayer();var n=$j("#shiksha_auth_token").val();g+="&resolution="+encodeURIComponent(m)+"&coordinates="+encodeURIComponent(l)+"&shiksha_auth_token="+n,$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value||$j("#mmpFormId").length&&""!=$j("#mmpFormId").val()?(e+="&resolution="+encodeURIComponent(m)+"&coordinates="+encodeURIComponent(l),"undefined"!=typeof gaTrackEventCustom&&(void 0!==$("widget_"+self.suffix)?gaTrackEventCustom("Response","Response","Conversion_Register_Mobile_Old"):gaTrackEventCustom("Registration","Registration","Conversion_Response_Mobile_Old")),RegistrationAjaxComponent.makeAjaxCall(a,g,self.formSubmitCallbackForMobile,e)):("registerFree"==$("context_"+self.suffix).value&&void 0!==trackEventByGA?trackEventByGA("Registration","Conversion_Register_Desktop_Old"):"registerResponse"==$("context_"+self.suffix).value&&void 0!==trackEventByGA&&trackEventByGA("Response","Conversion_Response_Desktop_Old"),RegistrationAjaxComponent.makeAjaxCall(a,g,self.formSubmitCallback,h))},this.formSubmitCallbackForMobile1=function(a){},this.formSubmitCallbackForMobile2=function(a){},this.formSubmitCallbackForMobile=function(a,b){if("object"==typeof dataLayer&&dataLayer.push({"registration-datalayer":"registration-success",event:"orange-button"}),a=JSON.parse(a),"USER_ALREADY_EXISTS"!=a.status){if(RegistrationAjaxComponent.makeAjaxCall("/mAnA5/AnAMobile/convertVisitorProfileToUserProfile/"),""!=getCookie("compareCourses")&&"{}"!=getCookie("compareCourses")&&"function"==typeof putAbroadComparedCoursesFromCookieToDB&&putAbroadComparedCoursesFromCookieToDB(),"function"==typeof syncUserSearchHistory&&syncUserSearchHistory(),$j("#fromICP")&&"Yes"==$j("#fromICP").val())return void(window.location="mba/resources/iim-call-predictor-result?registration=new");if("YES"==self.getUrlVars(b,"makeEBResponse")){var c=new Array;c.userId=a.userId,RegistrationAjaxComponent.makeAjaxCall("/mShortlist5/ShortlistMobile/updateShortlistedUser",c),RegistrationAjaxComponent.makeAjaxCall("/compareInstitute/compareInstitutes/getLoggedInUserForMadeResponse",c),self.submitMobileResponse()}else{var c=new Array,d=new Array,e=self.getUrlVars(b,"from_where"),f=self.getUrlVars(b,"reg_action"),g=self.getUrlVars(b,"tracking_keyid");c.userId=a.userId,d[0]=a.userId,d[1]=b,d[2]=e;var h=getCookie("mobile_ask_quest"),i=getCookie("mob_ask_cmpr");if("shortlist"==f){var j=decodeURIComponent(self.getUrlVars(b,"reg_course_id")),k={},l="";return""!=self.getUrlVars(b,"redirect_url")&&(l=base64_decode(decodeURIComponent(self.getUrlVars(b,"redirect_url")))),""==l&&(l=base64_decode(decodeURIComponent(self.getUrlVars(b,"referrer")))),k.redirectUrl=l,k.isRegistrationPage=!0,k.tracking_keyid=g,void addToShortlistMobile(j,"add",e,"registrationShortlistCallback",k)}if("registrationHookFromSearch"==f){var l="";return""!=self.getUrlVars(b,"redirect_url")&&(l=base64_decode(decodeURIComponent(self.getUrlVars(b,"redirect_url")))),""==l&&(l=base64_decode(decodeURIComponent(self.getUrlVars(b,"referrer")))),void(window.location=l)}if(void 0!==h&&""!=h&&"POST_QUESTION_PAGE"===e)return void RegistrationAjaxComponent.makeAjaxCall("/messageBoard/MsgBoard/askQuestionFromListing",h,self.callbackAfterPostQuestion,d);if(void 0!==i&&""!=i&&"POST_QUESTION_COMPARE_PAGE"===e)return void RegistrationAjaxComponent.makeAjaxCall("/messageBoard/MsgBoard/askQuestionFromListing",i,self.callbackAfterPostQuestion,d);if(void 0!==h&&""!=h&&"POST_REPLY_COMMNET_PAGE"===e){var m=getCookie("mobile_post_msgid"),n=h.split("actionPerformed"+base64_decode(m));return n=n[1].split("&"),d[3]=n[0].substr(1,n[0].length),void RegistrationAjaxComponent.makeAjaxCall("/messageBoard/MsgBoard/replyMsg/"+base64_decode(m)+"/mobileReply",h,self.callbackAfterPostQuestion,d)}var o=getCookie("mobile_CC_ask_quest");if(void 0!==o&&""!=o&&"POST_QUESTION_FROM_CC_HOMEPAGE"===e)return void RegistrationAjaxComponent.makeAjaxCall("/messageBoard/MsgBoard/askQuestionFromListing",o,self.callbackAfterPostQuestionFromCC,d);var p=getCookie("mobile_EC_set_alerts");if(void 0!==p&&""!=p&&"setAlertsFromEventCalendar"===e)return void("SUCCESS"==a.status&&(p+="&userId="+a.userId,RegistrationAjaxComponent.makeAjaxCall("/mEventCalendar5/EventCalendarController/addEventCalendarSubscription",p,self.callbackAfterSettingAlerts,d)));var q=getCookie("mobile_EC_set_reminders");if(void 0!==q&&""!=q&&"setReminderFromEventCalendar"===e)return void("SUCCESS"==a.status&&(q+="&userId="+a.userId,RegistrationAjaxComponent.makeAjaxCall("/mEventCalendar5/EventCalendarController/addEventCalendarReminder",q,self.callbackAfterSettingReminder,d)));var r=getCookie("mobile_EC_add_event");if(void 0!==r&&""!=r&&"addEventFromEventCalendar"===e)return void("SUCCESS"==a.status&&(r+="&newUserId="+a.userId,RegistrationAjaxComponent.makeAjaxCall("/mEventCalendar5/EventCalendarController/addEventOnCalendar",r,self.callbackAfterAddingEvent,d)));var s=getCookie("CPSearchLoggedIn");if(void 0!==s&&""!=s&&"setResultFromCP"===e)return void("SUCCESS"==a.status&&RegistrationAjaxComponent.makeAjaxCall("/mcollegepredictor5/CollegePredictorController/getSearchResults",s,self.callbackAfterCPRegistration,d));RegistrationAjaxComponent.makeAjaxCall("/mShortlist5/ShortlistMobile/updateShortlistedUser",c),RegistrationAjaxComponent.makeAjaxCall("/compareInstitute/compareInstitutes/getLoggedInUserForMadeResponse",c),"mobMenteeUser"==e&&a.userId>0&&addMenteeData(a.userId);var e=self.getUrlVars(b,"from_where"),t=!0,u=$j("#display_on_page").val();if($check=!1,decodeURIComponent(self.getUrlVars(b,"referrer")).indexOf("customizedmmp")<0&&"newmmp"!=u)if("newmmpranking"==u||"newmmpcategory"==u)$check=!0,$j.post("/registration/Forms/showSecondLayerMobile",{},function(a){$j(document).append(a)}),setTimeout(function(){window.location=decodeURIComponent(self.getUrlVars(b,"pageReferer"))},2e3);else var v=base64_decode(decodeURIComponent(self.getUrlVars(b,"referrer")));else{var v=decodeURIComponent(self.getUrlVars(b,"referrer"));t=!1}$check||("CURRENT_PAGE"!=e&&"ARTICLE_PAGE"!=e&&"RANKING_PAGE"!=e&&"POST_QUESTION_PAGE"!=e&&t?RegistrationAjaxComponent.makeAjaxCall("/muser5/MobileUser/shortRegistrationSubmit",b,self.callResponseForMobile):"ARTICLE_PAGE"==e||"RANKING_PAGE"==e||"POST_QUESTION_PAGE"==e?window.location=v:""!=a.redirectURL?($j.post("/registration/Forms/showSecondLayerMobile",{},function(a){$j(document).append(a)}),setTimeout(function(){window.location=a.redirectURL},2e3)):window.location.reload())}setCookie("hpTab","",-1,"seconds")}else{if($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value){var w=!1;if($j("#odbMode").length)var x=base64_decode($j("#odbMode").val().trim());else var x="";if($j("#makeEBResponse_"+self.suffix).length)var y=$j("#makeEBResponse_"+self.suffix).val().trim();else var y="";if($j("#makeShortlistResponse_"+self.suffix).length)var z=$j("#makeShortlistResponse_"+self.suffix).val().trim();else var z="";var A=["7503896908","9717116621","9999995800","9990952974","8826372304"],B=!1,C=$j("#mobile_"+self.suffix).val().trim();B=A.indexOf(C)>-1,("ON"==x&&"YES"==y||1==B&&"YES"==y)&&(inputData=$j("#course_"+self.suffix).val(),1==ODBCourses.courseId[inputData]&&void 0!==ODBCourses.courseId[inputData]&&(w=!0)),"NO"==y||"YES"==y&&0==w?self.hideLoader():$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&""!=$("mmpFormId")?self.hideLoader():closeShortCmpConfirmPopupBox()}if(("mobileRegistrationAbroad"==$j("#context_"+self.suffix).val()&&$j("#mmpFormId").length&&""!=$j("#mmpFormId").val()&&"newmmp"==$j("#display_on_page").val()||"mobileRmcPage"==$j("#context_"+self.suffix).val())&&(self.hideLoader(),$j("#abroadLoginTab").click()),void 0!==$("signInErrorsParent_"+self.suffix)&&null!=$("signInErrorsParent_"+self.suffix)&&($("signInErrorsParent_"+self.suffix).style.display=""),$j("#fromICP")&&"Yes"==$j("#fromICP").val())$("signInErrors_"+self.suffix).innerHTML="You are already registered with Shiksha. Click <a href='/muser5/MobileUser/login?email="+$("email_"+self.suffix).value+"&source=ICP'>here</a> to Login.";else if("YES"==$j("#makeEBResponse_"+self.suffix).val()||$j("#makeShortlistResponse_"+self.suffix).val()){$("responseCreationFormHolder").innerHTML=z?self.createLoginContentForMobileResp($j("#makeShortlistResponse_"+self.suffix).val()+"_CategoryPage"):self.createLoginContentForMobileResp();var D='$("responseCreationForm").submit();';$("signInErrors_"+self.suffix).innerHTML="You are already registered with Shiksha. Click <a onclick='"+D+"''>here</a> to Login."}else void 0!==$("signInErrors_"+self.suffix)&&null!=$("signInErrors_"+self.suffix)&&($("signInErrors_"+self.suffix).innerHTML="You are already registered with Shiksha. Click <a href='/muser5/MobileUser/login?email="+$("email_"+self.suffix).value+"'>here</a> to Login.")}},this.createLoginContentForMobileResp=function(a){if(""==$("email_"+self.suffix).value||"Email"==$("email_"+self.suffix).value)var b='<form id="responseCreationForm" method="POST" action="/muser5/MobileUser/login/1">';else var b='<form id="responseCreationForm" method="POST" action="/muser5/MobileUser/login/1?email='+$("email_"+self.suffix).value+'">';return"compare_CategoryPage"==a?b+='<input type="hidden" name="referrer" value="'+$j("#referrer_"+self.suffix).val()+'" />':(b+='<input type="hidden" name="tracking_keyid" value="'+$j("#tracking_keyid_"+self.suffix).val()+'" />',b+='<input type="hidden" name="referrer" value="'+$j("#referrer_"+self.suffix).val()+'" />',b+='<input type="hidden" name="courseId" value="'+$j("#course").val()+'" />',b+='<input type="hidden" name="courseArray" value="'+$j("#courseArray").val()+'" />',b+='<input type="hidden" name="from_where" value="'+$j("#from_where").val()+'" />',b+='<input type="hidden" name="pageName" value="'+$j("#pageName").val()+'" />',b+='<input type="hidden" name="institute_id" value="'+$j("#institute_id_"+self.suffix).val()+'" />',$j("#formCallBack_"+self.suffix).length>0&&(b+='<input type="hidden" name="formCallBack" value="'+$j("#formCallBack_"+self.suffix).val()+'" />'),b+="shortlist_CategoryPage"==a?'<input type="hidden" name="isShortlist_CategoryPage" value="yes" />':'<input type="hidden" name="isDownloadBrochure" value="yes" />'),b+="</form>"},this.callbackAfterPostQuestion=function(a,b){var c=new Array;c.userId=b[0];var d=b[1],e=b[2];if(RegistrationAjaxComponent.makeAjaxCall("/mShortlist5/ShortlistMobile/updateShortlistedUser",c),RegistrationAjaxComponent.makeAjaxCall("/compareInstitute/compareInstitutes/getLoggedInUserForMadeResponse",c),"POST_QUESTION_PAGE"===e)setCookie("mobile_post_suc_msg","Thank You! Current students of this college will reply to your question shortly.",0,"/",COOKIEDOMAIN);else if("POST_REPLY_COMMNET_PAGE"===e){var f="comment";"addAnswer"==b[3]&&(f="answer"),setCookie("mobile_post_suc_msg","Thank you, your "+f+" has been successfully submitted.",0,"/",COOKIEDOMAIN)}else if("POST_QUESTION_COMPARE_PAGE"===e){var g=getCookie("mob_ask_cmpr");dataSplit=g.split("&"),courseIdData=dataSplit[2].split("="),setCookie("mobSucMsgCmpr_"+courseIdData[1],"1",0,"/",COOKIEDOMAIN),""!=getCookie("mob_ask_cmpr")&&setCookie("mob_ask_cmpr","",-1),""!=getCookie("mobAskLgnCmpr")&&setCookie("mobAskLgnCmpr","",-1)}var h=base64_decode(decodeURIComponent(self.getUrlVars(d,"referrer")));window.location=h},this.callbackAfterPostQuestionFromCC=function(a,b){var c=b[1],d=base64_decode(decodeURIComponent(self.getUrlVars(c,"referrer")));setCookie("isUserRegistersForQuestionPosting","yes",10,"/",COOKIEDOMAIN),window.location=d},this.callbackAfterSettingAlerts=function(a,b){var c=b[1],d=base64_decode(decodeURIComponent(self.getUrlVars(c,"referrer")));window.location=d},this.callbackAfterSettingReminder=function(a,b){var c=b[1],d=base64_decode(decodeURIComponent(self.getUrlVars(c,"referrer")));window.location=d},this.callbackAfterAddingEvent=function(a,b){var c=b[1],d=base64_decode(decodeURIComponent(self.getUrlVars(c,"referrer")));window.location=d},this.callbackAfterCPRegistration=function(a,b){var c=b[1],d=base64_decode(decodeURIComponent(self.getUrlVars(c,"referrer")));window.location=d},this.callResponseForMobile=function(a){var b=a.split("#"),c=b[1];window.location=c},this.getUrlVars=function(a,b){for(var c,d=[],e=a.split("&"),f=0;f<e.length;f++)c=e[f].split("="),d.push(c[0]),d[c[0]]=c[1];return void 0!==b?d[b]:d},this.populateSecondFormAjax=function(a){a=JSON.parse(a),$j("#registrationForm_"+self.suffix).attr("action","/registration/Registration/updateUser");var b=$j("#desiredCourse_"+self.suffix).val(),c=$j("#fieldOfInterest_"+self.suffix).val();$j("<input>").attr({type:"hidden",id:"desiredCourse_"+self.suffix,name:"desiredCourse",value:b}).appendTo("#registrationForm_"+self.suffix),$j("<input>").attr({type:"hidden",id:"fieldOfInterest_"+self.suffix,name:"fieldOfInterest",value:c}).appendTo("#registrationForm_"+self.suffix),$j("#fieldOfInterest_block_"+self.suffix).hide(),$j("#fieldOfInterest_block_"+self.suffix).html(""),$j("#desiredCourse_block_"+self.suffix).hide(),$j("#desiredCourse_block_"+self.suffix).html(""),$j("#registrationFormMiddle_"+self.suffix).html(""),$j("#signInErrorsParent_"+self.suffix).hide(),$j("#alreadyRegistered").html(""),$j("#newUserRegister").html("Complete your profile"),$j("#joinShiksha").html("Get guidance to select the right choice from 1 lakh+ courses");var d=a.form;$j("#registrationFormMiddle_"+self.suffix).html(d),$j("#registration-box").trigger("create"),$j("#registrationSubmit_"+self.suffix).val("Submit"),$j("#registrationStep").val("2"),self.customLogic.setCustomRules(a.customRules),self.populateForm(a.formData),$j("#skipThisStep").show(),$j("#congratsUser").html("Congratulations "+a.formData.firstName+" "+a.formData.lastName);var e=$j("#newUserRegister").offset().top;$j("html, body").animate({scrollTop:e},600),navigator.geolocation&&"none"!=$j("#residenceCity_block_"+self.suffix).css("display")&&navigator.geolocation.getCurrentPosition(fillLocationUsingGeoForRegistration),self.hideLoader()},this.formSubmitCallback=function(data,customParams){if("object"==typeof dataLayer&&dataLayer.push({"registration-datalayer":"registration-success",event:"orange-button"}),"unifiedProfile"==$j("#context_"+self.suffix).val()&&void 0!==shikshaUserProfileForm[self.suffix]&&window.location.reload(),data=eval("("+data+")"),"FAIL"==data.status)$j("#otpLoader")&&$j("#otpLoader").length>0&&self.hideOTPLoader(),self.hideLoader(),alert("An error occured while submiting your data. Please try again.");else{if("USER_ALREADY_EXISTS"!=data.status&&RegistrationAjaxComponent.makeAjaxCall("/mAnA5/AnAMobile/convertVisitorProfileToUserProfile/"),$j("#otpLoader")&&$j("#otpLoader").length>0&&self.hideOTPLoader(),"undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&""!=getCookie("compareCourses")&&"{}"!=getCookie("compareCourses")&&"[]"!=getCookie("compareCourses")&&"function"==typeof putAbroadComparedCoursesFromCookieToDB&&(putAbroadComparedCoursesFromCookieToDB(),"undefined"!=typeof registrationIntentParams&&registrationIntentParams.compareCourseButtonClicked===!0))return isUserLoggedIn=!0,sendToComparePage(),void(registrationIntentParams.compareCourseButtonClicked="false");if("undefined"!=typeof isComparePage&&isComparePage===!0){var courseid=$j("#courseid").val(),source=$j("#source").val(),url=$j("#ref").val();return void addCourseToComparePage(courseid,source,url)}if("function"==typeof syncUserSearchHistory&&syncUserSearchHistory(),"undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&"undefined"!=typeof registrationIntentParams&&registrationIntentParams.contentWidgetClicked===!0)return isUserLoggedIn=!0,registrationIntentParams.contentWidgetClicked="false",void bindDownloadExamGuideEvents(!0,registrationIntentParams.dlGuideTrackingId,registrationIntentParams.contentId,registrationIntentParams.type,registrationIntentParams.guideURL);if("abroadUserSetting"==$j("#context_"+self.suffix).val())return window.location.reload(!0),!0;if(void 0!==data.listingTypeId&&parseInt(data.listingTypeId)>0){if(window.isUserLoggedIn=!0,"undefined"!=typeof listingPageType&&"course"==listingPageType&&(window.onbeforeunload=function(){return"Your previous action is incomplete."}),registrationOverlayComponent.hideOverlay(),"undefined"==typeof rmcPageTitle)var url="/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+data.listingType+"/"+data.listingTypeId+"/"+data.responseSource;else var url="/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/"+data.listingType+"/"+data.listingTypeId+"/"+data.responseSource+"/"+rmcPageTitle;var listingDataObj={};if(listingDataObj.trackingPageKeyId=customParams.trackingPageKeyId,listingDataObj.consultantTrackingPageKeyId=customParams.consultantTrackingPageKeyId,"request_callback"!=data.widget&&"applicationProcessTab_request_callback"!=data.widget||(listingDataObj.widget=data.widget),"undefined"!=typeof consultantInRegistration&&1==consultantInRegistration&&(listingDataObj.consultantList=customParams.consultantList,listingDataObj.userRegion=customParams.userRegion),data.responseSource.search("mobile")!=-1&&"mobileRmcPage"!=data.responseSource){var successMessage;return $j.ajax({url:url,async:!1,data:listingDataObj,type:"POST",success:function(a){var b=JSON.parse(a);if(1==showRecommendation){window.isUserComplete=!0;var c;c="undefined"!=typeof catPageTitle&&""!=catPageTitle?catPageTitle:"",loadRecommendationLayer(data.listingTypeId,data.responseSource,data.widget,"",b,c)}else $j("#msgText").prev().find("span").html(b.title),showSuccessMessage(b.message),$j("#registration-Loader").html("Taking you back. This may take a moment"),setTimeout(function(){window.location.reload()},3e3)}}),!1}return"rmcPage"==data.responseSource||"mobileRmcPage"==data.responseSource?($j.ajax({url:url,async:!1,data:listingDataObj,type:"POST",success:function(a){var b=JSON.parse(a);void 0!==b.url&&setCookie("rmcShowSuccessPage","1",3600,"seconds"),window.location=b.url}}),!0):($j("#DHTMLSuite_modalBox_contentDiv").length>0&&$j("#DHTMLSuite_modalBox_contentDiv").hide(),registrationOverlayComponent.showOverlay(url,1200,455,listingDataObj,!1),realignDownloadLinkOverlay(),!1)}if("undefined"!=typeof abroadMobileGuideSignup&&abroadMobileGuideSignup===!0)return emailGuideToUser(),!1;if("undefined"!=typeof registrationIntentParams&&1==registrationIntentParams.submitCommentFlow)return isUserLoggedIn=!0,reloadPage=!0,submitComment(regElem,regCommentId,regContentId),!1;if("undefined"!=typeof mobileContentDownloadFlow&&mobileContentDownloadFlow===!0)return mobileContentDownloadFlowStart=!0,downloadPDF(contentDownloadControllerUrl,contentDownloadInputArray,"",contentDownloadCallBackFunction,contentDownloadSuccessMessage),!1;if(document.getElementById("referrer")&&void 0!==pushCustomVariable&&pushCustomVariable(document.getElementById("referrer").value),$("context_"+self.suffix)&&"rankPredictor"==$("context_"+self.suffix).value)postRPForm(data,self.suffix);else if($("context_"+self.suffix)&&"menteeForm"==$("context_"+self.suffix).value)postMenteeForm(data,self.suffix);else if($("context+"+self.suffix)&&"nonLDBLoggedInUser"==$("context_"+self.suffix).value)vizurypixels(data.desiredCourse,data.preferredStudyLocation),window.location=data.redirectURL;else if($("context_"+self.suffix)&&"unified"==$("context_"+self.suffix).value)self.hideLoader(),shikshaUserRegistration.unifiedLayerSubmitCallback(data);else if($("secondLayer"))window.location=$("redirectURL").value;else if($j("#replyContext_"+self.suffix).length>0&&"no"!=$j("#replyContext_"+self.suffix).val()&&$j("#replyThreadId_"+self.suffix).length>0&&"registerFree"==$j("#context_"+self.suffix).val()){if(self.hideLoader(),$j("#DHTMLSuite_modalBox_contentDiv").length>0&&$j("#DHTMLSuite_modalBox_contentDiv").hide(),"USER_ALREADY_EXISTS"!=data.status){var postingActionType=$j("#replyContext_"+self.suffix).val();if("newAnnouncement"==postingActionType){var selectCategory=$j("#fieldOfInterest_"+self.suffix).val(),catselect=$j("#desiredCourse_"+self.suffix).val(),topicDesc=$j("#questionTextA").val(),topicDescription=$j("#questionDescA").val(),fromOthers=postingActionType="announcement",trackingPageKeyId=$j("#tracking_keyid_"+regFormId).val();postNewUserQuestion(catselect,selectCategory,topicDesc,topicDescription,fromOthers,trackingPageKeyId)}else if("newDiscussion"==postingActionType){var selectCategory=$j("#fieldOfInterest_"+self.suffix).val(),catselect=$j("#desiredCourse_"+self.suffix).val(),topicDesc=$j("#questionTextD").val(),topicDescription=$j("#questionDescD").val(),fromOthers=postingActionType="discussion",trackingPageKeyId=$j("#tracking_keyid_"+regFormId).val();postNewUserQuestion(catselect,selectCategory,topicDesc,topicDescription,fromOthers,trackingPageKeyId)}else"reportAbuse"==postingActionType?$j("#submitButtonreportAbuse").trigger("click"):postReplyToQuestionReg($j("#replyThreadId_"+self.suffix).val(),$j("#replyContext_"+self.suffix).val(),$j("#tracking_keyid_"+regFormId).val());return!0}self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else if($("context_"+self.suffix)&&"shortlistRegister"==$("context_"+self.suffix).value)if("USER_ALREADY_EXISTS"==data.status){self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),hideOverlayAnA(),shikshaUserRegistration.showLoginLayer()}else"undefined"!=typeof globalShortlistParams&&globalShortlistParams.courseId>0&&($j("#userId").val()?globalShortlistParams.isNewUser=!1:globalShortlistParams.isNewUser=!0,registrationOverlayComponent.hideOverlay(),addToShortlist());else if("iimPredictor"==$j("#context_"+self.suffix).val()){if("USER_ALREADY_EXISTS"!=data.status)return void(window.location="/mba/resources/iim-call-predictor-result?registration=new");self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&(window.location="/mba/resources/iim-call-predictor-result")}),shikshaUserRegistration.showLoginLayer()}else if("inlineANA"==$j("#context_"+self.suffix).val()){if("USER_ALREADY_EXISTS"!=data.status){self.hideLoader();var selectCategory=$j("#fieldOfInterest_"+self.suffix).val(),catselect=$j("#desiredCourse_"+regFormId).val(),topicDesc=$j("#questionText").val(),topicDescription=$j("#questionDescription").val(),fromOthers="user",trackingPageKeyId=$j("#tracking_keyid_"+regFormId).val();return postNewUserQuestion(catselect,selectCategory,topicDesc,topicDescription,fromOthers,trackingPageKeyId),!0}self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else if($("context_"+self.suffix)&&"OnlineForm"==$("context_"+self.suffix).value)if("USER_ALREADY_EXISTS"==data.status){self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&("undefined"!=typeof isExternalOnlineForm&&1==isExternalOnlineForm?showExternalFormOverlay(urlToRedirect):window.location.reload())}),hideOverlayAnA(),shikshaUserRegistration.showLoginLayer()}else showQuickSignUpResponse_online();else if($("context_"+self.suffix)&&"ExamPages"==$("context_"+self.suffix).value)if("USER_ALREADY_EXISTS"==data.status){self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else void 0===customParams.subscribeForExam||""==customParams.subscribeForExam||void 0===customParams.examCategory||""==customParams.examCategory||"Engineering"!=customParams.examCategory&&"MBA"!=customParams.examCategory||(ajaxCallUrl="/event/EventController/addEventCalendarSubscription",ajaxData={categoryName:customParams.examCategory,subscribe_examList:[customParams.subscribeForExam],fromWhere:"shortRegistrationExamPages"},$j.ajax({url:ajaxCallUrl,async:!1,type:"POST",data:ajaxData,success:function(a){self.hideLoader(),window.location.reload()}})),self.hideLoader(),window.location.reload();else if($("context_"+self.suffix)&&"oneStepRegister"==$("context_"+self.suffix).value)if("USER_ALREADY_EXISTS"==data.status)if("undefined"!=typeof registration_context&&"MMP"==registration_context)self.hideLoader(),self.showUserPreferenceLayer(data.redirectURL,data.lastInsertId);else{self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&("undefined"!=typeof marketingFormRedirector?marketingFormRedirector?window.location=marketingFormRedirector:window.location=shikshaStudyAbroadHomeURL:window.location.reload())}),shikshaUserRegistration.showLoginLayer()}else{if(vizurypixels(data.desiredCourse,data.preferredStudyLocation),"undefined"!=typeof filePath&&""!=filePath)return registrationOverlayComponent.hideOverlay(),void putStudentExamScoreDocsIntoToDB(data.userId,filePath);if("undefined"!=typeof signUpUserFromCategoryPageShortListSection&&1==signUpUserFromCategoryPageShortListSection&&(isInShortListSectionFlow=!0,"undefined"!=typeof shortListFromCoursePage&&1==shortListFromCoursePage&&putShortListCouresFromCookieToDB(!0)),"undefined"!=typeof mailerStudyAbroadFullRegister&&1==mailerStudyAbroadFullRegister&&(window.location=data.redirectURL),"undefined"!=typeof marketingFormRedirector&&marketingFormRedirector)return void(window.location=marketingFormRedirector);registrationOverlayComponent.hideOverlay(),isInShortListSectionFlow||("undefined"!=typeof onGuideDownloadShowRegistrationLayer&&1==onGuideDownloadShowRegistrationLayer?(addActionToCross(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD),onGuideDownloadShowRegistrationLayer=!1):void 0!==contentDownloadFlow&&1==contentDownloadFlow?(contentDownloadFlowStart=!0,downloadPDF(contentDownloadControllerUrl,contentDownloadInputArray,"",contentDownloadCallBackFunction),registrationOverlayComponent.hideOverlay(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD)):"undefined"!=typeof onSchdulePickupShowRegistrationLayer&&1==onSchdulePickupShowRegistrationLayer?(setCookie("schdulePickupTrackingKeyId",shipment.schdulePickupTrackingKeyId),window.location=$j(".bookYourPickup").attr("redirectUrl"),onSchdulePickupShowRegistrationLayer=!1):window.location=data.redirectURL)}else if($("context_"+self.suffix)&&"twoStepRegister"==$("context_"+self.suffix).value){if(1==data.registrationStep){self.hideTwoStepLoader();var stepTwoFromHTML=$j("#stepTwoRegistrationForm_"+self.suffix).html(),stepTwoAction=$j("#stepTwoRegistrationForm_"+self.suffix).attr("action");$j("#registrationForm_"+self.suffix).html(stepTwoFromHTML),$j("#registrationForm_"+self.suffix).attr("action",stepTwoAction),$j("#twoStepFormHeaderText").html("Choose a popular course"),$j("#twoStepFormHeaderText").attr("class","flLt"),$j("html, body").animate({scrollTop:$j("#twoStepRegistrationLayer").offset().top},1e3),$j("#li_stepOne").removeClass("active").addClass("completed"),$j("#li_stepTwo").addClass("active"),"undefined"!=typeof onGuideDownloadShowRegistrationLayer&&1==onGuideDownloadShowRegistrationLayer?$j("#close-two-step-layer").attr("onclick","addActionToCross();registrationOverlayComponent.hideOverlay();setTimeout(function(){window.location.reload();},TIME_DELAY_FOR_PDF_DOWNLOAD);"):void 0!==contentDownloadFlow&&1==contentDownloadFlow?$j("#close-two-step-layer").bind("click",function(){contentDownloadFlowStart=!0,downloadPDF(contentDownloadControllerUrl,contentDownloadInputArray,"",contentDownloadCallBackFunction),registrationOverlayComponent.hideOverlay(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD)}):$j("#close-two-step-layer").attr("onclick","window.location.reload();"),"undefined"!=typeof signUpUserFromCategoryPageShortListSection&&1==signUpUserFromCategoryPageShortListSection&&putShortListCouresFromCookieToDB(),$j("#twoStepLoginButton").hide(),self.twostepCountryDivTrigger()}else if(2==data.registrationStep){var isInShortListSectionFlow=!1;"undefined"!=typeof signUpUserFromCategoryPageShortListSection&&1==signUpUserFromCategoryPageShortListSection&&(isInShortListSectionFlow=!0,"undefined"!=typeof shortListFromCoursePage&&1==shortListFromCoursePage&&(putShortListCouresFromCookieToDB(),window.location.reload())),self.hideTwoStepLoader(),"undefined"!=typeof mailerStudyAbroadFullRegister&&1==mailerStudyAbroadFullRegister?window.location=data.redirectURL:registrationOverlayComponent.hideOverlay(),isInShortListSectionFlow||("undefined"!=typeof onGuideDownloadShowRegistrationLayer&&1==onGuideDownloadShowRegistrationLayer?(addActionToCross(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD),onGuideDownloadShowRegistrationLayer=!1):void 0!==contentDownloadFlow&&1==contentDownloadFlow?(contentDownloadFlowStart=!0,downloadPDF(contentDownloadControllerUrl,contentDownloadInputArray,"",contentDownloadCallBackFunction),registrationOverlayComponent.hideOverlay(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD)):window.location=data.redirectURL)}}else if($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value)"USER_ALREADY_EXISTS"==data.status&&(self.hideLoader(),$("signInErrorsParent_"+self.suffix).style.display="",$("signInErrors_"+self.suffix).innerHTML="You are already registered with Shiksha. Click <a href='/muser5/MobileUser/login?email="+$("email_"+self.suffix).value+"'>here</a> to Login.");else if(!$("context_"+self.suffix)||"registerResponse"!=$("context_"+self.suffix).value&&"registerResponseLPR"!=$j("#context_"+self.suffix).val()&&"askQuestionBottom"!=$j("#context_"+self.suffix).val()&&"askQuestionBottomCompare"!=$j("#context_"+self.suffix).val())if($j("#isCompareEmail").length&&1==$j("#isCompareEmail").val())if("USER_ALREADY_EXISTS"==data.status){self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else{var tracking_keyid=$j("#tracking_keyid_"+self.suffix).val();emailCompareCallBack(tracking_keyid)}else if("USER_ALREADY_EXISTS"==data.status)if("undefined"!=typeof registration_context&&"MMP"==registration_context)if(self.hideLoader(),shikshaUserRegistration.isLoggedIn())self.showUserPreferenceLayer(data.redirectURL,data.lastInsertId);else{var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else{if("undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context)return $j("#email_error_"+self.suffix).html('You are already registered with Shiksha. Click <a href = "showLoginFormTab();">here</a> to Login.'),$j("#email_error_"+self.suffix).show(),void("mobileRegistrationAbroad"==$("context_"+self.suffix).value&&$j("#registration-Loader").parent().remove());self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else if(vizurypixels(data.desiredCourse,data.preferredStudyLocation),$("context_"+self.suffix)&&"registerFree"==$("context_"+self.suffix).value&&$("registerFreeHasCallback")&&"yes"==$("registerFreeHasCallback").value)self.hideLoader(),shikshaUserRegistration.registerFreeLayerSubmitCallback(data);else if($("mmpFormId"))if("undefined"!=typeof isLogged&&"Yes"==isLogged)if(self.hideLoader(),"undefined"==typeof mmp_display_on_page||"newmmpcourse"!=mmp_display_on_page&&"newmmparticle"!=mmp_display_on_page&&"newmmpinstitute"!=mmp_display_on_page&&"newmmpcategory"!=mmp_display_on_page&&"newmmpexam"!=mmp_display_on_page&&"newmmpranking"!=mmp_display_on_page)window.location=data.redirectURL;else{var parent_url=window.location.href.split("?")[0];window.location=parent_url}else shikshaUserRegistration.showSecondLayer(data),setTimeout(function(){if(self.hideLoader(),"undefined"==typeof mmp_display_on_page||"newmmpcourse"!=mmp_display_on_page&&"newmmparticle"!=mmp_display_on_page&&"newmmpinstitute"!=mmp_display_on_page&&"newmmpcategory"!=mmp_display_on_page&&"newmmpexam"!=mmp_display_on_page&&"newmmpranking"!=mmp_display_on_page)window.location=data.redirectURL;else{var a=window.location.href.split("?")[0];window.location=a}},2e3);else if("undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context){if(void 0!==registrationIntentParams.abroadMobileShortlistSignup&&1==registrationIntentParams.abroadMobileShortlistSignup)return putShortListCouresFromCookieToDB(!0),!0;if("undefined"!=typeof filePath&&""!=filePath)return void putStudentExamScoreDocsIntoToDB(data.userId,filePath);data.redirectURL?window.location=data.redirectURL:window.location.reload()}else data.redirectURL?window.location=data.redirectURL:window.location.reload();else if("USER_ALREADY_EXISTS"==data.status)if("onlineForm"==customParams.widget&&(self.hideLoader(),$j("#login-existing-user").click()),"undefined"!=typeof registration_context&&"MMP"==registration_context)self.hideLoader(),self.showUserPreferenceLayer(data.redirectURL,data.lastInsertId);else{self.hideLoader();var dataForLoginLayer={email:$("email_"+self.suffix).value,formId:self.suffix};shikshaUserRegistration.setData(dataForLoginLayer),shikshaUserRegistration.setCallback(function(a){"SUCCESS"==a.status&&window.location.reload()}),shikshaUserRegistration.showLoginLayer()}else{if(void 0!==customParams.widget)var widget=customParams.widget;else var widget="common";"askAQuestion"==widget||"newListingsAnABottom"==widget?($j("#hideLoader_ComparePage").length>0&&1==$j("#hideLoader_ComparePage").val()&&(registrationOverlayComponent.hideOverlay(),self.hideLoader()),trackingPageKeyId=$("tracking_keyid_"+self.suffix).value,postQuestionFromWidget(widget,trackingPageKeyId)):(customParams.userId=data.userId,responseType="","listingPageRightNational"===widget?responseType=1:"common"===widget&&(responseType=2),customParams.tracking_keyid=$("tracking_keyid_"+self.suffix).value,processFinalResponseFormCommon(widget,customParams.isCategoryPage,responseType,customParams.customCallBack,customParams),registrationOverlayComponent.hideOverlay(),self.hideLoader())}}return!0},this.showLayer=function(a,b){var c=!1;$("mmpFormId")&&parseInt($("mmpFormId").value)>0&&(c="undefined"==typeof mmp_form_id_on_popup||""==mmp_form_id_on_popup),c?self.showTransparentOverlay():b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,$(a+"Layer_"+self.suffix).style.display="block",layerInner=$(a+"LayerInner_"+self.suffix);var d=layerInner.offsetWidth,e=layerInner.offsetHeight;$(a+"LayerIframeContainer_"+self.suffix).style.display="";var f=$(a+"LayerIframe_"+self.suffix);f.style.height=e+"px";var g=getElementPosition($(a+"LayerButton_"+self.suffix)),h=g.left+d,i=$(a+"LayerButton_"+self.suffix).offsetWidth,j=document.body.clientWidth;if(h>j)if(g.left+i<d){var k=parseInt(j/2),l=parseInt(d/2)-(k-g.left);layerInner.style.left="-"+l+"px",f.style.left="-"+l+"px"}else layerInner.style.right="5px",f.style.right="5px";else layerInner.style.left="0px",f.style.left="0px";c||(layerInner.onclick=function(a){void 0===a&&(a=window.event),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0})},this.hideLayerCallback=function(a){"exam"==a&&self.setSelectedExams()},this.hideLayer=function(a){$(a+"Layer_"+self.suffix)&&($(a+"Layer_"+self.suffix).style.display="none"),$(a+"LayerIframeContainer_"+self.suffix)&&($(a+"LayerIframeContainer_"+self.suffix).style.display="none"),$("registrationTransparentOverlay")&&$("registrationTransparentOverlay").parentNode.removeChild($("registrationTransparentOverlay"))},this.hideAllLayers=function(){for(var a=getDocumentElementsByClassName("regLayer"),b=0;b<a.length;b++)self.hideLayerCallback(a[b].getAttribute("layerId")),a[b].style.display="none";for(var a=getDocumentElementsByClassName("regLayerIframe"),b=0;b<a.length;b++)a[b].style.display="none"},this.showTransparentOverlay=function(){var a=0,b=document.createElement("div");overlayStyle={position:"absolute",top:0,left:0,width:document.body.clientWidth+"px",height:document.body.clientHeight+"px",background:"#ffffff",zIndex:1,opacity:a,filter:"alpha(opacity="+100*a+")"};for(var c in overlayStyle)b.style[c]=overlayStyle[c];b.id="registrationTransparentOverlay",addAnEvent(b,"click",function(a){try{self.hideAllLayers();var b=a.target;b||(b=a.srcElement),b.parentNode&&b.parentNode.removeChild(b)}catch(a){}}),document.body.appendChild(b)},this.validateField=function(a){var b=a.getAttribute("regFieldId");"residenceCity"==a.getAttribute("name")&&"undefined"!=typeof consultantInRegistration&&showConsultantLayerForm(self.suffix,$j(a).val()),"contactByConsultant"==a.getAttribute("name")&&consultantInRegistration&&(1==$("contactByConsultant_yes_"+self.suffix).checked?void 0!==$("consultantRequired_yes_"+self.suffix)&&$("consultantRequired_yes_"+self.suffix).click():1==$("contactByConsultant_no_"+self.suffix).checked&&void 0!==$("consultantRequired_no_"+self.suffix)&&$("consultantRequired_no_"+self.suffix).click());var a=new RegistrationFormField(self.form,b);return $("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&($("signInErrorsParent_"+self.suffix).style.display="node",$("signInErrors_"+self.suffix).innerHTML=""),a.validate(self.customValidations)},this.validateForm=function(){isValid=!0,isIndiaReg=!1,"undefined"!=typeof rmcForm&&rmcForm&&"undefined"!=typeof rmcTenthSection&&rmcTenthSection&&(this.validateTenthStream()||(isValid=!1));for(var a=0;a<self.formFieldList.length;a++){var b=self.formFieldList[a],c=$j("#"+b+"_block_"+self.suffix).closest("form").attr("id");if($(b+"_block_"+self.suffix)&&"Yes"==$(b+"_block_"+self.suffix).getAttribute("visible")&&c=="registrationForm_"+self.suffix){var d=new RegistrationFormField(self.form,self.formFieldList[a]);d.validate(self.customValidations)||(isValid=!1)}}if(STUDY_ABROAD_NEW_REGISTRATION){var c=$j("#destinationCountry_block_"+self.suffix).closest("form").attr("id");if($("destinationCountry_block_"+self.suffix)&&"Yes"==$("destinationCountry_block_"+self.suffix).getAttribute("visible")&&c=="registrationForm_"+self.suffix)if($("context_"+self.suffix)&&"downloadEbrochureSABottom"==$j("#context_"+self.suffix).val()){var e=$j("#twoStepCountryDropdownContInlineBrochure").find(".active").length;0===e&&"none"===$j("#twoStepCountryDropdownLayerInlineBrochure").css("display")?($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="",isValid=!1):($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none")}else if(!$("context_"+self.suffix)||"mobileRegistrationAbroad"!=$j("#context_"+self.suffix).val()&&"mobileRmcPage"!=$j("#context_"+self.suffix).val()){var e=$j("#twoStepCountryDropdownCont").find(".active").length;0===e&&"none"===$j("#twoStepCountryDropdownLayer").css("display")?($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="Please select destination country(s)",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="",isValid=!1):($("twoStepCourseCountryLayer_error"+self.suffix).innerHTML="",$("twoStepCourseCountryLayer_error"+self.suffix).style.display="none")}else{var e=$j('[name="destinationCountry[]"]:checked').length;0===e&&"none"===$j("#countryDropdownLayer").css("display")?($("destinationCountry_error"+self.suffix).innerHTML="Please select destination country(s)",$("destinationCountry_error"+self.suffix).style.display="",isValid=!1):($("destinationCountry_error"+self.suffix).innerHTML="",$("destinationCountry_error"+self.suffix).style.display="none")}}else{var f="destinationCountry"+self.suffix;f&&$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&!isIndiaReg&&(""==$j("#"+f).val()?($j("#destinationCountry_error_"+self.suffix).html("Please select destination country(s)"),$j("#destinationCountry_error_"+self.suffix).parent().show(),isValid=!1):($j("#destinationCountry_error_"+self.suffix).html(""),$j("#destinationCountry_error_"+self.suffix).parent().hide()))}if($("university_course_list_select")&&$("context_"+self.suffix)&&"downloadEbrochureSA"==$("context_"+self.suffix).value&&(""===$j("#university_course_list_select").val()?($j("#university_course_list_error").html("Please select a course"),isValid=!1):$j("#university_course_list_error").html("")),$("course_"+self.suffix)&&$("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&(""===$j("#course_"+self.suffix).val()?($j("#course_error_"+self.suffix).parent().show(),$j("#course_error_"+self.suffix).html("Please select the course"),isValid=!1):($j("#course_error_"+self.suffix).parent().hide(),$j("#course_error_"+self.suffix).html(""))),$("widget_"+self.suffix)){var g=$("widget_"+self.suffix).value,h=$("institute_id_"+self.suffix).value;""===h&&"undefined"!=typeof shortRegistrationFormResponse&&(h=shortRegistrationFormResponse.instituteId),$("preferred_locality_category_"+g+h)&&$j("#preferred_locality_category_"+g+h+" option").size()>1&&(""==$j("#preferred_locality_category_"+g+h).val()?($j("#preferred_locality_category_"+g+h+"_error").parent().css("display","block"),$j("#preferred_locality_category_"+g+h+"_error").html("Please select course location"),isValid=!1):($j("#preferred_locality_category_"+g+h+"_error").parent().css("display","none"),$j("#preferred_locality_category_"+g+h+"_error").html("")))}$("course_"+self.suffix)&&(self.validateField($("course_"+self.suffix))||(isValid=!1));var i=$j("#widget_"+self.suffix).val(),j=$j("#institute_id_"+self.suffix).val(),k=$j("#course_"+self.suffix).val(),l=0;if(k>0&&(l=iscustomizedCourse(k)),$j("#preferred_city_category_"+i+j).length>0&&1==l){if(""==$("preferred_city_category_"+i+j).value)return $("preferred_city_category_"+i+j+"_error").innerHTML="Please select preferred location",$("preferred_city_category_"+i+j+"_error").parentNode.style.display="block",self.hideLoader(),!1;1==l&&""!=$("preferred_city_category_"+i+j).value&&""==$("preferred_locality_category_"+i+j).value&&($("preferred_locality_category_"+i+j).style.display="block")}if(!STUDY_ABROAD_NEW_REGISTRATION&&$("isStudyAbroad_"+self.suffix))for(var m=["SAT","GMAT","GRE"],a=0;a<m.length;a++)if($(m[a]+"_score_"+self.suffix)){var d=new RegistrationFormField(self.form,m[a]+"_score");d.validate(self.customValidations)||(isValid=!1)}return!("inlineANA"==$j("#context_"+self.suffix).val()&&!validateQuestionForFullForm())&&("undefined"!=typeof consultantInRegistration&&consultantInRegistration===!0&&(isValid=validateConsultantFields(self.suffix)&&isValid),isValid)},this.validateTenthStream=function(a){var b=0,c="";return $j("#registrationForm_"+self.suffix+" [name='CurrentSubjects[]']").each(function(){$j(this).is(":checked")&&(c+=$j(this).val()+", ",b++)}),c=c.replace(/(, $)/g,""),b>0?($j("#CurrentSubjects_"+self.suffix).val("1").children(":last").html(c),"function"==typeof a&&a(self.suffix),!0):($j("#CurrentSubjects_"+self.suffix).val(""),"function"==typeof a&&a(self.suffix),!1)},this.removeHelpText=function(a){new RegistrationFormField(self.form,a.getAttribute("regFieldId")).removeHelpText()},this.restoreHelpText=function(a){new RegistrationFormField(self.form,a.getAttribute("regFieldId")).restoreHelpText()},this.populateForm=function(a,b){"undefined"!=typeof registration_context&&"MMP"==registration_context&&firstTimePageLoad&&null!=userInfo&&($("context_"+self.suffix)&&"mobile"==$("context_"+self.suffix).value&&""!=a.desiredCourse&&(userInfo.desiredCourse=a.desiredCourse),a=userInfo,firstTimePageLoad=!1);for(var c in a)if(void 0===self.customLogic.defaultFieldStates[c]||"no"!=self.customLogic.defaultFieldStates[c].visible||"undefined"==typeof registration_context||"MMP"!=registration_context){if(("residenceCity"!=c||void 0!==self.customLogic.defaultFieldStates.residenceCity||void 0===self.customLogic.defaultFieldStates.residenceCityLocality||"no"!=self.customLogic.defaultFieldStates.residenceCityLocality.visible||"undefined"==typeof registration_context||"MMP"!=registration_context)&&("residenceCityLocality"!=c||void 0!==self.customLogic.defaultFieldStates.residenceCityLocality||void 0===self.customLogic.defaultFieldStates.residenceCity||"no"!=self.customLogic.defaultFieldStates.residenceCity.visible||"undefined"==typeof registration_context||"MMP"!=registration_context)&&(a[c]||0==a[c])){var d=new RegistrationFormField(self.form,c);if(d.setValue(a[c],!0),"residenceCity"===c&&a[c])for(var e=self.formFieldList,f=0;f<e.length;f++)if("residenceCityLocality"===e[f]){var d=new RegistrationFormField(self.form,"residenceCityLocality");d.setValue(a[c],!0),"mobileResponseForm"==a.widget?getMultiLocationDiv(d.fieldObj):autoPopulateLocality(d.fieldObj,a.widget,self.suffix),RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getLocalitiesMMP/"+a[c],"",self.loadLocalitiesNew,{preSelectedLocality:a.residenceLocality});break}if("residenceCityLocality"===c&&a[c]){for(var g=!1,e=self.formFieldList,f=0;f<e.length;f++)if("residenceCity"===e[f]){g=!0;break}if(g){var d=new RegistrationFormField(self.form,"residenceCity");d.setValue(a[c],!0)}else"mobileResponseForm"==a.widget?getMultiLocationDiv(d.fieldObj):autoPopulateLocality(d.fieldObj,a.widget,self.suffix),RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/getLocalitiesMMP/"+a[c],"",self.loadLocalitiesNew,{preSelectedLocality:a.residenceLocality})}b&&"fieldOfInterest"==c&&self.populateDesiredCourses(a)}}else if("exams"==c&&void 0!==a[c]&&null!=a[c])for(var d=new RegistrationFormField(self.form,c),f=0;f<d.fieldObj.length;f++)for(var h=0;h<a[c].length;h++)d.fieldObj[f].value==a[c][h]&&(d.fieldObj[f].checked=!0)},this.populateFormOnLoad=function(a){var b=document.getElementById("desiredCourse_"+self.suffix),c=!1;if(a&&null!=b){for(var d=0;d<b.options.length;d++)if(a==b.options[d].value){c=!0;break}if(c){var e=new RegistrationFormField(self.form,"desiredCourse");e.setValue(a,!0),self.changeDesiredCourse()}else self.populateForm()}else if(a){var e=new RegistrationFormField(self.form,"desiredCourse");e.setValue(a,!0),self.desiredCourseOnChangeActions()}else if(userInfo.fieldOfInterest){var e=new RegistrationFormField(self.form,"fieldOfInterest");e.setValue(userInfo.fieldOfInterest,!0),self.parentcatOnchangeActions();var e=new RegistrationFormField(self.form,"desiredGraduationLevel");e.setValue(userInfo.desiredGraduationLevel,!0),self.populateSpecializedCourses()}else self.populateForm()},this.changeFieldsByExamTaken=function(a){var b="",c="";if("yes"==a.value)b="examsAbroad",c="passport",$j(".passport_"+self.suffix).attr("mandatory","0"),$j("#bookedExamDate_"+self.suffix).val(0);else if("no"==a.value)b="passport",c="examsAbroad",$j(".passport_"+self.suffix).attr("mandatory","1"),$j(".passport_"+self.suffix).removeAttr("checked"),$j("#bookedExamDate_"+self.suffix).val(0);else if("bookedExamDate"==a.value)return $j("#passport_yes_"+self.suffix).attr("checked","checked"),$j("#passport_block_"+self.suffix).hide(),$j("#passport_block_"+self.suffix).attr("visible","No"),$j("#examsAbroad_block_"+self.suffix).hide(),$j("#examsAbroad_block_"+self.suffix).attr("visible","No"),$j("#examTakenDiv").css({"border-bottom":"0 none"}),void $j("#bookedExamDate_"+self.suffix).val(1);$j("#"+b+"_block_"+self.suffix).show(),$j("#"+b+"_block_"+self.suffix).attr("visible","Yes"),$j("#"+c+"_block_"+self.suffix).hide(),$j("#"+c+"_block_"+self.suffix).attr("visible","No"),$j("#examTakenDiv").css({"border-bottom":"0 none"})},this.showMoreAbroadExams=function(){$j("#showMoreExams_"+self.suffix).hide(),$j('li[id^="examAbroadBlock"]').show()},this.enableAbroadExamScore=function(a){var b=a.value;$j("#exam_"+b+"_"+self.suffix).is(":checked")?($j("#"+b+"_score_"+self.suffix).removeAttr("disabled"),$j("#"+b+"_score_"+self.suffix).removeClass("disable-field"),$j("#"+b+"_score_"+self.suffix).removeClass("mobile-textinput-disabled"),$j("#"+b+"_score_"+self.suffix).removeClass("ui-state-disabled"),$(b+"_score_"+self.suffix).style.color="#999999",$j("#"+b+"_score_error_"+self.suffix).show(),$j("#"+b+"_score_"+self.suffix).parent().removeClass("ui-disabled")):($j("#"+b+"_score_"+self.suffix).attr("disabled","disabled"),$j("#"+b+"_score_"+self.suffix).addClass("disable-field"),$j("#"+b+"_score_error_"+self.suffix).hide(),$j("#"+b+"_score_"+self.suffix).parent().addClass("ui-disabled"))},this.switchEducationFields=function(a){"PG"==a||"PhD"==a?($j(".MastersEdu").removeClass("ih"),$j(".MastersEdu").children("div").show(),$j(".datafieldPG").attr("mandatory",1),$j(".BachelorsEdu").addClass("ih"),$j(".datafieldUG").removeAttr("mandatory"),$j(".datafieldUG").removeClass("ih")):($j(".BachelorsEdu").removeClass("ih"),$j(".BachelorsEdu").children("div").show(),$j(".datafieldUG").attr("mandatory",1),$j(".MastersEdu").addClass("ih"),$j(".datafieldPG").removeAttr("mandatory"),$j(".datafieldUG").removeClass("ih")),$j("#courseLevel_"+self.suffix).val(a)},this.submitEducationFieldsAction=function(){var a=$j("#courseLevel_"+self.suffix).val();"PG"==a||"PhD"==a?$j(".BachelorsEdu").remove():"UG"==a&&$j(".MastersEdu").remove()},this.reset10thCGPAList=function(){$j("#tenthmarks_block_"+self.suffix).find("span.universal-select.datafieldUG").text("Class 10th Marks/CGPA/Grade"),$j("#tenthmarks_"+self.suffix).prop("selectedIndex",0),$j("[name='tenthmarks']").children("option[databoard]").removeClass("ih"),$j("[name='tenthmarks']").children("option[databoard]").hide();var a=$j("[name='tenthBoard']").val();$j("[name='tenthmarks']").children("option[databoard^="+a+"]").show()},this.setTenthMarksValues=function(a){self.tenthMarksValues=JSON.parse(base64_decode(a))},this.reset10thCGPAListMobile=function(){$j("#tenthmarks_block_"+self.suffix).find("span.universal-select.datafieldUG").text("Class 10th Marks/CGPA/Grade"),$j("#tenthmarks_"+self.suffix).prop("selectedIndex",0);var a=$j("[name='tenthBoard']").val();$j("[name='tenthmarks']").html(""),$j("#tenthmarks_"+self.suffix).append($j("<option></option>").val("").html("Class 10th Marks/CGPA/Grade")),$j.each(self.tenthMarksValues,function(b,c){b==a&&$j.each(c,function(a,b){$j("#tenthmarks_"+self.suffix).append($j("<option></option>").val(a).html(b))})})},this.setCurrentSchoolList=function(a){self.currentSchoolList=JSON.parse(base64_decode(a))},this.bindCurrentSchoolAutocomplete=function(){$j("[name='currentSchool']").autocomplete({source:self.currentSchoolList,minLength:3,appendTo:".currSchoolField",select:function(a,b){$j("[name='currentSchool']").html(b.item.value)}}).autocomplete("instance")._renderItem=function(a,b){var c=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$j("[name='currentSchool']").val()+")(?![^<>]*>)(?![^&;]+;)","gi"),d=b.label.split(c),e="";return $j(d).each(function(a,b){e+=b.toLowerCase()==$j("[name='currentSchool']").val().toLowerCase()?"<b>"+b+"</b>":b}),$j("<li>").append("<div class='hm-refine-opt' style='font-size:14px;'>"+e+"</div>").appendTo(a)}}},ShikshaUserRegistration=function(){var self=this;this.unifiedLayer=!1,this.callBackFnParams,this.isLoggedIn=function(){var a=self.getCookieData("user"),b=!1;if(a){var c=a.split("|");b=!(!c[0]||1!=validateEmail(c[0])),1==b&&c[1]&&c[1].length>63&&(b=!0)}return b},this.getCookieData=function(a){for(var b=encodeURIComponent(a)+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return!1},this.canShowUnified=function(){var a=getCookie("shutUnified"),b=!1;return"undefined"!=typeof disableGlobalUnified&&1==disableGlobalUnified&&(b=!0),!("1"==a||!self.unifiedLayer||"false"!=unified_registration_is_ldb_user||b)},this.setData=function(a){self.registrationData=a},this.setCallback=function(a){self.callback=a},this.registerMarketingFormUser=function(a,b){data={uniqId:a},RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/registerMarketingFormUser",data,b)},this.registerUser=function(a,b,c){a.registrationType="short",self.registrationData=a,self.unifiedLayer=b,self.callback=c,self.isLoggedIn()?a.mobile?RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/updateUser",a,self.registerUserCallback):self.canShowUnified()?self.showUnifiedLayer():self.executeCallback({status:"SUCCESS"}):RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/register",a,self.registerUserCallback)},this.checkCallBackParamsInRegForm=function(){return!$j("#actionPoint")||""==$j("#actionPoint").val()},this.sendCallBackParamsToLoginPage=function(){var a=$j("#regFormId").val(),b=$j("#actionPoint").val();$("responseCreationFormHolder").innerHTML=shikshaUserRegistrationForm[a].createLoginContentForMobileResp(b),$("responseCreationForm").submit()},this.registerUserCallback=function(data){data=eval("("+data+")"),self.registrationResponseData=data,"USER_ALREADY_EXISTS"==data.status?self.showLoginLayer():"SUCCESS"==data.status?self.canShowUnified()?self.showUnifiedLayer():(callBackResponse={status:"SUCCESS",userId:data.userId},self.executeCallback(callBackResponse)):(callBackResponse={status:"FAIL"},self.executeCallback(callBackResponse))},this.showLoginLayer=function(a,b,c,d){var e={};void 0==typeof b&&(b=null),void 0!==d&&(e.widgetName=d.widgetName,e.trackingPageKeyId=""!=d.trackingPageKeyId?d.trackingPageKeyId:""),self.registrationData&&(e=self.registrationData),void 0!==a&&0==a&&(e.hideRegisterLink=1),"undefined"!=typeof registration_context&&(e.registration_context=registration_context),void 0!==c&&1==c&&(e.useCallBack=1),"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage?(e.isStudyAbroadPage=isStudyAbroadPage,hideAbroadOverlay(),loadStudyAbroadForm(e,"/registration/Forms/showLoginLayer","loginFormContainer")):(""!=trim(e.formId)&&"undefined"!=document.getElementById("widget_"+e.formId)&&("listingPageTopLinks"!=document.getElementById("widget_"+e.formId).value&&"listingPageBottomNew"!=document.getElementById("widget_"+e.formId).value||hideContactFormOverlay()),e.email=b,$j("#display_on_page")&&"newmmp"==$j("#display_on_page").val()?RegistrationAjaxComponent.makeAjaxCall("/registration/Forms/showLoginLayer",e,self.logincallback):registrationOverlayComponent.showOverlay("/registration/Forms/showLoginLayer",500,260,e))},this.logincallback=function(a){$j("#mmpOverlay").hide(),$j("#mmpOverlay").before(a);var b,c=document.getElementsByTagName("body")[0];b=parseInt(c.offsetWidth)/2-250;var d=parseInt(screen.height)/2;d=parseInt(d-parseInt(150))-180,$j(".layer-outer").css({"z-index":"1000",left:b+"px",top:d+"px"})},this.showForgotPasswordLayer=function(){registrationOverlayComponent.showOverlay("/registration/Forms/showForgotPasswordLayer",470,260,self.registrationData)},this.closeLoginLayer=function(a){$("mmpOverlayForm")?($("mmpOverlayForm").remove(),$("iframe_div1").remove(),$("iframe_div").style.display="none"):(registrationOverlayComponent.hideOverlay(),void 0!==self.registrationResponseData?callBackResponse={status:"FAIL",existingUser:"Yes",isLDBUser:self.registrationResponseData.isLDBUser}:callBackResponse={status:"FAIL",existingUser:"Yes"},self.executeCallback(callBackResponse))},this.showForgotPasswordPanel=function(){"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage&&"abroad"!=getCookie("mobile_site_user")?(hideAbroadOverlay(),showAbroadOverlay("resetPasswordPanel")):"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage&&"abroad"==getCookie("mobile_site_user")?showSuccessMessage("Reset password instructions sent successfully to your current email id"):($("loginPanel").style.display="none",$("resetPasswordPanel").style.display="",$("signInLayerTitle").innerHTML="Forgot Password"),"text"==$("forgotPasswordEmail").getAttribute("type")&&($("forgotPasswordEmail").value="",$("forgotPasswordEmail_error").parentNode.style.display="none",$("forgotPasswordEmail_success").parentNode.style.display="none")},this.sendForgotPasswordMail=function(a){$("forgotPasswordEmail_error")&&($("forgotPasswordEmail_error").parentNode.style.display="none"),$("forgotPasswordEmail_success")&&($("forgotPasswordEmail_success").parentNode.style.display="none");var b="";$("forgotPasswordEmail")&&(b=$("forgotPasswordEmail").value),b?1==validateEmail(b,"email address")?"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage||"undefined"!=$j("#isStudyAbroad")&&"yes"==$j("#isStudyAbroad").val()?RegistrationAjaxComponent.makeAjaxCall("/user/Userregistration/sendResetPasswordMail/"+b+"/1","",self.sendForgotPasswordMailCallback):RegistrationAjaxComponent.makeAjaxCall("/user/Userregistration/sendResetPasswordNewMail/"+b,"",self.sendForgotPasswordMailCallback):($("forgotPasswordEmail_error").innerHTML="Invalid email id",$("forgotPasswordEmail_error").parentNode.style.display=""):($("forgotPasswordEmail_error").innerHTML="Please enter login email id",$("forgotPasswordEmail_error").parentNode.style.display="")},this.sendForgotPasswordMailCallback=function(a){"false"==a?($("forgotPasswordEmail_error").innerHTML="Invalid email id",$("forgotPasswordEmail_error").parentNode.style.display=""):$("forgotPasswordEmail_success")?$("forgotPasswordEmail_success").parentNode.style.display="":self.showForgotPasswordPanel()},this.showResetPasswordLayer=function(a,b,c){a&&b&&registrationOverlayComponent.showOverlay("/registration/Forms/showResetPasswordLayer/"+a+"/"+b+"/"+c,470,260,"")},this.showResetPasswordThanksLayer=function(a){a||(a=""),registrationOverlayComponent.showOverlay("/registration/Forms/showResetPasswordThanksLayer/"+a,470,260,"")},this.reLoadPageBasedOnContext=function(a){var b="";"MMP"==trim(a)&&(b=location.protocol+"//"+location.host+location.pathname),window.location=b},this.showLoginPanel=function(){"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage?(hideAbroadOverlay(),showAbroadOverlay("loginFormContainer")):($("loginPanel").style.display="",$("resetPasswordPanel").style.display="none",$("signInLayerTitle").innerHTML="Sign In"),"text"==$("loginOverlayEmail").getAttribute("type")&&($("loginOverlayEmail").value="",$("loginOverlayEmail_error").parentNode.style.display="none"),$("loginOverlayPassword").value="",$("loginOverlayPassword_error").parentNode.style.display="none"},this.doLogin=function(){$("loginOverlayEmail_error").parentNode.style.display="none",$("loginOverlayPassword_error").parentNode.style.display="none";var a=$("loginOverlayEmail").value,b=$("loginOverlayPassword").value,c=!1;if(a?1!=validateEmail(a,"email address")&&($("loginOverlayEmail_error").innerHTML="The email address specified is not correct",$("loginOverlayEmail_error").parentNode.style.display="",c=!0):($("loginOverlayEmail_error").innerHTML="Please enter login email id",$("loginOverlayEmail_error").parentNode.style.display="",c=!0),b||($("loginOverlayPassword_error").innerHTML="Please enter password",$("loginOverlayPassword_error").parentNode.style.display="",c=!0),!c){$("loginOverlayPassword_error").parentNode.style.display="";var d="";$("loginRememberMe")?d=$j("#loginRememberMe").is(":checked")?"1":"0":$("rem-pass")&&(d=$j("#rem-pass").is(":checked")?"1":"0"),"function"==typeof setPageRefreshCookie&&setPageRefreshCookie();var e=$("shiksha_auth_token").value,f=$j("input#tracking_page_key").val(),g=encodeURIComponent($j("input#page_referrer").val()),h=$j("input#saABTracking").val(),i="typeOfLoginMade=request&usernamerb="+a+"&mpasswordrb="+b+"&remember="+d+"&shiksha_auth_token="+e+"&tracking_page_key="+f+"&page_referrer="+g+"&saABTracking="+h;RegistrationAjaxComponent.makeAjaxCall("/user/Login/submit",i,self.doLoginCallback)}return!1},this.doLoginCallback=function(a){if(0!=a&&"invalid"!=a){if(""!=$j("#conversionType").val()&&void 0!==$j("#conversionType").val()&&"undefined"!=typeof isLoginPage&&1==isLoginPage)return self.sendToSignupThankYouPage(),!0;if("undefined"!=typeof marketingFormRedirector)return marketingFormRedirector?void(window.location=marketingFormRedirector):void(window.location=shikshaStudyAbroadHomeURL);if("undefined"!=typeof isAlreadyRegtrdUsrInShortListFlow&&1==isAlreadyRegtrdUsrInShortListFlow&&(putShortListCouresFromCookieToDB(),delete window.isAlreadyRegtrdUsrInShortListFlow),""!=getCookie("compareCourses")&&"{}"!=getCookie("compareCourses")&&"function"==typeof putAbroadComparedCoursesFromCookieToDB){if(putAbroadComparedCoursesFromCookieToDB(),void 0!==compareCourseButtonClicked&&compareCourseButtonClicked===!0)return sendToComparePage(),void(compareCourseButtonClicked=!1);if("undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&"undefined"!=typeof registrationIntentParams&&registrationIntentParams.compareCourseButtonClicked===!0)return isUserLoggedIn=!0,sendToComparePage(),void(registrationIntentParams.compareCourseButtonClicked="false")}if("undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&"undefined"!=typeof isComparePage&&isComparePage===!0&&"undefined"!=typeof registrationIntentParams&&registrationIntentParams.compareCourseButtonClicked===!0){isUserLoggedIn=!0;return void addCourseToComparePage($j("#courseid").val(),$j("#source").val(),$j("#ref").val())}if("undefined"!=typeof registration_context&&"mobileRegistrationAbroad"==registration_context&&"undefined"!=typeof registrationIntentParams&&registrationIntentParams.contentWidgetClicked===!0)return isUserLoggedIn=!0,registrationIntentParams.contentWidgetClicked="false",void bindDownloadExamGuideEvents(!0,registrationIntentParams.dlGuideTrackingId,registrationIntentParams.contentId,registrationIntentParams.type,registrationIntentParams.guideURL);if("function"==typeof syncUserSearchHistory&&syncUserSearchHistory(),self.registrationData&&(self.registrationData.name||self.registrationData.mobile))self.updateUserDetailsAfterLogin();else if(self.callback){var b=null;self.registrationResponseData&&(b=self.registrationResponseData.isLDBUser),self.executeCallback({status:"SUCCESS",userId:a,existingUser:"Yes",isLDBUser:b})}else if("undefined"!=typeof engageDownloadBrochureWithLogin&&1==engageDownloadBrochureWithLogin){var c={};c.initiateBrochureDownload="1","undefined"!=typeof engageRequestCallbackWithLogin&&1==engageRequestCallbackWithLogin&&(c.initiateCallback="1"),setCookie("initiateBrochureDownload",JSON.stringify(c),0),window.location.reload()}else if(void 0!==contentDownloadFlow&&1==contentDownloadFlow)hideAbroadOverlay(),contentDownloadFlowStart=!0,downloadPDF(contentDownloadControllerUrl,contentDownloadInputArray,"",contentDownloadCallBackFunction),registrationOverlayComponent.hideOverlay(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD);else{if("undefined"!=typeof registrationIntentParams&&1==registrationIntentParams.submitCommentFlow)return isUserLoggedIn=!0,reloadPage=!0,submitComment(regElem,regCommentId,regContentId),!1;if("undefined"!=typeof onGuideDownloadShowRegistrationLayer&&1==onGuideDownloadShowRegistrationLayer)addActionToCross(),setTimeout(function(){window.location.reload()},TIME_DELAY_FOR_PDF_DOWNLOAD),onGuideDownloadShowRegistrationLayer=!1;else if("undefined"!=typeof onSchdulePickupShowRegistrationLayer&&1==onSchdulePickupShowRegistrationLayer)setCookie("schdulePickupTrackingKeyId",shipment.schdulePickupTrackingKeyId),window.location=$j(".bookYourPickup").attr("redirectUrl"),onSchdulePickupShowRegistrationLayer=!1;else{if("undefined"!=typeof filePath&&""!=filePath)return void putStudentExamScoreDocsIntoToDB(a,filePath);""!=document.referrer&&"undefined"!=typeof isLoginPage&&isLoginPage?window.location=document.referrer:window.location.reload()}}}else $("loginOverlayPassword_error").innerHTML="Incorrect Login or password",$("loginOverlayPassword_error").parentNode.style.display=""},this.sendToSignupThankYouPage=function(){conversionType=$j("#conversionType").val();var a=!0;if("response"==conversionType?ifSingleSignUpFormToBeShown("new",$j("#courseId").val())&&(a=!1):ifSingleSignUpFormToBeShown("new")&&(a=!1),a===!0)return window.location="/signup",!1;switch(conversionType){case"downloadGuide":showSuccessPage("dg",{contentId:$j("#contentId").val()});break;case"response":if("rateMyChance"===$j("#keyName").val()){var b=$j("#refererTitle").val(),c=$j("#page_referrer").val(),d=$j("#courseId").val(),e=$j("#tracking_page_key").val();isUserLoggedIn=!0,rmcButtonSubmit(c,b,d,e,!0)}else if($j("#universityId").val()>0)window.location="/signup";else{var f=getResponseSource($j("#sourcePage").val(),$j("#widget").val()),g="/responseAbroad/ResponseAbroad/createResponseCallForAbroadListings/course/"+$j("#courseId").val()+"/"+f,h={trackingPageKeyId:$j("#tracking_page_key").val()},i={source:f,courseId:$j("#courseId").val()};generateResponseForNewForm(h,g,i)}break;case"Course shortlist":deleteSignupFormParamsCookie();saveShortlistedCourse({shortlistCourseIdInSignUpProcess:$j("#courseId").val(),trackingPageKeyId:$j("#tracking_page_key").val(),pageReferrer:$j("#page_referrer").val(),page:$j("#shortlistpagetype").val()});break;case"shipmentBooking":deleteSignupFormParamsCookie(),setCookie("schdulePickupTrackingKeyId",$j("#tracking_page_key").val()),window.location="/apply/shipment/shipping-information";break;case"profileEvaluationCall":deleteSignupFormParamsCookie(),redirectToReferer($j("#page_referrer").val(),{url:$j("#fileUrl").val(),examId:$j("#examId").val(),counselorId:$j("#counselorId").val(),trackingId:$j("#tracking_page_key").val()});break;case"registration":"gfpecCTA"==$j("#keyName").val()?(deleteSignupFormParamsCookie(),redirectToReferer($j("#page_referrer").val(),{url:$j("#fileUrl").val(),examId:$j("#examId").val(),counselorId:$j("#counselorId").val(),trackingId:$j("#tracking_page_key").val()})):(deleteSignupFormParamsCookie(),window.location=$j("#page_referrer").val());break;case"compare":if(""==getCookie("compareCourses")||"{}"==getCookie("compareCourses")){var d=$j("#compCourseId").val(),j=$j("#compSource").val(),g=$j("#page_referrer").val();return deleteSignupFormParamsCookie(),void addCourseToComparePage(d,j,g)}if("function"==typeof putAbroadComparedCoursesFromCookieToDB){var b=$j("#refererTitle").val(),g=$j("#page_referrer").val();return putAbroadComparedCoursesFromCookieToDB(),deleteSignupFormParamsCookie(),void sendToComparePage(b,g)}break;case"commentPost":case"replyPost":var k=getCookie("signUpFormParams");deleteSignupFormParamsCookie(),k=JSON.parse(base64_decode(k)),updateDraftComment(k.commentInsertId,k.contentId,k.type),window.location.href=k.rf+"#commentSection"}},this.updateUserDetailsAfterLogin=function(){RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/updateUser",self.registrationData,self.updateUserDetailsAfterLoginCallback)},this.updateUserDetailsAfterLoginCallback=function(data){data=eval("("+data+")"),"NO"==self.registrationResponseData.isLDBUser&&self.canShowUnified()?(self.registrationData.existingUser="Yes",self.showUnifiedLayer()):self.executeCallback({status:"SUCCESS",userId:data.userId,existingUser:"Yes",isLDBUser:self.registrationResponseData.isLDBUser})},this.showUnifiedLayer=function(a){a||(a=self.registrationData),registrationOverlayComponent.showOverlay("/registration/Forms/showUnifiedLayer",650,500,a,!0)},this.closeUnifiedLayer=function(){registrationOverlayComponent.hideOverlay(),self.shutUnifiedForSession(),callBackResponse={status:"SUCCESS"},self.registrationData&&"Yes"==self.registrationData.existingUser&&(callBackResponse.existingUser="Yes"),self.executeCallback(callBackResponse)},this.unifiedLayerSubmitCallback=function(a){self.registrationData&&"Yes"==self.registrationData.existingUser&&(a.existingUser="Yes"),unified_registration_is_ldb_user="true",self.executeCallback(a)},this.showRegisterFreeLayer=function(a,b){void 0===a&&(a={}),"undefined"!=typeof studyAbroad&&(a.studyAbroad=studyAbroad),a.callback?(a.hasCallback="yes",self.registerFreeCallback=a.callback,self.callBackFnParams=a.callBackParams):(a.hasCallback="no",self.registerFreeCallback=null),"top-button"==b&&(a.trackingPageKeyId=460),void 0!==a.comparePageLogin&&"yes"==a.comparePageLogin||void 0!==a.isCustomForm&&"yes"==a.isCustomForm?(width=655,height=520):void 0!==a.collegePredictor&&"yes"==a.collegePredictor?(width=660,height=470):(width=420,height=550),registrationOverlayComponent.showOverlay("/registration/Forms/showRegisterFreeLayer",width,height,a)},this.showShortlistRegistrationLayer=function(a){void 0===a&&(a={}),void 0===a.layerHeading&&(a.layerHeading=""),void 0===a.layerTitle&&(a.layerTitle="Please register to add colleges to your shortlist"),void 0!==globalShortlistParams.tracking_keyid&&(a.tracking_keyid=globalShortlistParams.tracking_keyid),registrationOverlayComponent.showOverlay("/registration/Forms/showShortlistRegistrationLayer",620,400,a)},this.showTwoStepLayer=function(a,b){data={},data.registrationDomain=a,void 0!==b&&(data.layerHeading=b),data.hasCallback="no",self.registerFreeCallback=null,registrationOverlayComponent.showOverlay("/registration/Forms/showTwoStepLayer",710,655,data)},this.showOneStepLayer=function(a,b,c){data={},data.registrationDomain=a,void 0!==b&&""!=b&&(data.layerHeading=b),data.hasCallback="no",data.trackingPageKeyId=c,self.registerFreeCallback=null,"undefined"!=typeof fileName&&""!=fileName&&(data.fileName=fileName,data.fileSize=fileSize),registrationOverlayComponent.showOverlay("/registration/Forms/showOneStepLayer",1200,450,data)},this.closeRegisterFreeLayer=function(){registrationOverlayComponent.hideOverlay()},this.registerFreeLayerSubmitCallback=function(a){registrationOverlayComponent.hideOverlay(),self.registerFreeCallback&&"object"==typeof self.callBackFnParams?self.registerFreeCallback(a,self.callBackFnParams):self.registerFreeCallback&&self.registerFreeCallback(a)},this.showSecondLayer=function(a){registrationOverlayComponent.showOverlay("/registration/Forms/showSecondLayer",650,650,a);var b=$("DHTMLSuite_modalBox_transparentDiv").offsetHeight;b+=300,$("DHTMLSuite_modalBox_transparentDiv").style.height=b+"px",$("DHTMLSuite_modalBox_transparentDiv").style.width=document.body.clientWidth+"px",$("DHTMLSuite_modalBox_transparentDiv").style.display="none",$("DHTMLSuite_modalBox_contentDiv").style.display="none"},this.closeSecondLayer=function(a){registrationOverlayComponent.hideOverlay(),window.location=a},this.executeCallback=function(a){"undefined"!=typeof isStudyAbroadPage&&1==isStudyAbroadPage||registrationOverlayComponent.hideOverlay(),self.callback&&self.callback(a)},this.shutUnifiedForSession=function(){setCookie("shutUnified","1")},this.checkExistingEmail=function(a){var b=["MMP","twoStepRegister","oneStepRegister","downloadEbrochureSA","downloadEbrochureSABottom","default","askQuestionBottom","mobileRegistrationAbroad","inlineANA","iimPredictor","askQuestionBottomCompare"];if("undefined"!=typeof registration_context&&b.indexOf(registration_context)>=0){if($j("#userId").length>0&&""!=$j("#userId").attr("value"))return;var c=a.value;"downloadEbrochureSA"!=registration_context&&"downloadEbrochureSABottom"!=registration_context||("request_callback"!=$j("#widget").val()&&"applicationProcessTab_request_callback"!=$j("#widget").val()||(engageRequestCallbackWithLogin=1),engageDownloadBrochureWithLogin=1),"mobileRegistrationAbroad"==registration_context||"mobileRmcPage"==registration_context?RegistrationAjaxComponent.makeAjaxCall("/user/Userregistration/checkExistingEmail/"+c,"",self.showExistingUserLayerForAbroadMobile,{emailField:a}):RegistrationAjaxComponent.makeAjaxCall("/user/Userregistration/checkExistingEmail/"+c,"",self.showExistingUserLayer)}},this.showExistingUserLayer=function(data){var tracking_page_key=$j("input#signup_trackid_email").val();if("undefined"!=typeof registration_context&&"twoStepRegister"==registration_context||"twoStepRegister"==registration_context||"oneStepRegister"==registration_context||"downloadEbrochureSA"==registration_context||"downloadEbrochureSABottom"==registration_context){if("false"!=data){registrationOverlayComponent.hideOverlay();var userInfo=eval("("+data+")");loadStudyAbroadForm({isStudyAbroadPage:1,email:userInfo.userEmailId},"/registration/Forms/showLoginLayer","loginFormContainer",tracking_page_key)}}else{var layer=document.getElementById("existing_user_login_layer");if("false"!=data&&null===layer){var userInfo=eval("("+data+")");self.getUserPrefData(userInfo.userId),registrationOverlayComponent.showOverlay("/registration/Forms/showExisitingUserLayer/"+userInfo.userId+"/"+userInfo.userEmailId+"/"+registration_context,600,200,""),"askQuestionBottomCompare"==registration_context&&hideOverlayAnA()}else this.form.action="/registration/Registration/register"}},this.showExistingUserLayerForAbroadMobile=function(a,b){if("undefined"!=typeof registration_context&&("mobileRegistrationAbroad"==registration_context||"mobileRmcPage"==registration_context))return void("false"!=a&&(0==$j(".login-tab").length?($j(".back-box").click(),$j("#loginOverlayEmail").val($j(b.emailField).val())):($j(b.emailField).parents(".register-form").siblings(".tabs").find(".login-tab a").eq(0).trigger("click"),$j(b.emailField).parents(".register-form").parent().find("#loginOverlayEmail").val($j(b.emailField).val()),$j(b.emailField).val(""))))},this.getUserPrefData=function(a){RegistrationAjaxComponent.makeAjaxCall("/user/Userregistration/getLDBUserDetails/"+a,"",self.getUserPrefDataCallback)},this.getUserPrefDataCallback=function(data){userPrefData=eval("("+data+")"),shikshaUserRegistration.isLoggedIn()&&("YES"==userPrefData.isLDBUser?this.form.action="/registration/Registration/ldbUserPrefLog":this.form.action="/registration/Registration/updateUser");var submitButton=document.getElementById("registrationSubmit_"+this.regFormId);submitButton.removeAttribute("disabled")},this.logExistingUserPreference=function(a,b){var c=document.querySelector('input[name = "userprefoptions"]:checked');if(null!==c){var d=c.value,e=document.getElementById("userprefoption"+d).innerHTML,f=new Object;f.insertId=a,f.redirectURL=base64_encode(b),f.text=base64_encode(e),RegistrationAjaxComponent.makeAjaxCall("/registration/Registration/updateldbUserPrefLog",f,self.redirectAfterCallback)}else alert("Please choose a preference.")},this.redirectAfterCallback=function(a){window.location=base64_decode(a)}},RegistrationCustomLogic=function(a,b,c){var d=this;this.customRules=b,this.defaultFieldStates=c,this.form=$("registrationForm_"+a),this.setCustomRules=function(a){d.customRules=a},this.setDefaultFieldStates=function(a){d.defaultFieldStates=a},this.handleCustomLogic=function(a){for(var b=a.getAttribute("regFieldId"),c=[],e=[],f=0;f<d.customRules.length;f++){for(var g=d.customRules[f],h=g.conditions,i=!1,j=0;j<h.length;j++){if(b==h[j].field){i=!0;break}if("preferredStudyLocality"==h[j].field&&("preferredStudyLocality2"==b||"preferredStudyLocality3"==b||"preferredStudyLocality4"==b)){i=!0;break}}if(i)if(d.evaluateConditions(g.conditions,g.conditionLogic))for(var k=0;k<g.actions.length;k++)c.push(g.actions[k]);else for(var k=0;k<g.actions.length;k++)e.push(g.actions[k])}for(var f=0;f<e.length;f++)d.takeReverseAction(e[f]);for(var f=0;f<c.length;f++)d.takeAction(c[f])},this.evaluateConditions=function(a,b){var c,e=d.evaluateCondition(a[0]);if(a[1]){var f=d.evaluateCondition(a[1]);switch(b){case"AND":c=e&&f;break;case"OR":c=e||f}}else c=e;return c},this.evaluateCondition=function(a){var b=d.getRegistrationFormField(a.field).getValues(),c=a.value.split("|");if("preferredStudyLocality"==a.field)for(var e=0;e<c.length;e++)tempValue=c[e].split("+"),c[e]=tempValue[1];for(var f=!1,e=0;e<c.length;e++)for(var g=0;g<b.length;g++)b[g]==c[e]&&(f=!0);return f},this.takeAction=function(a){var b=d.getRegistrationFormField(a.field);"visibility"==a.attribute?b.setVisibility(a.value):"value"==a.attribute&&b.setValue(a.value)},this.takeReverseAction=function(a){var b=d.getRegistrationFormField(a.field);if("visibility"==a.attribute){var c=d.defaultFieldStates[a.field].visible;b.setVisibility(c)}else if("value"==a.attribute){var e=d.defaultFieldStates[a.field].values;b.setValue(e)}},this.getRegistrationFormField=function(a){return new RegistrationFormField(d.form,a)}},RegistrationFormField=function(a,b){var c=this;if(this.form=a,this.fieldId=b,this.regFormId=a.getAttribute("id").substring(17),this.suffix=this.regFormId,this.fieldObj=$(this.fieldId+"_"+this.suffix),!this.fieldObj){var d=getDocumentElementsByClassName(this.fieldId+"_"+this.suffix);this.fieldObj=new Array;for(var e=0;e<d.length;e++)this.fieldObj.push(d[e])}this.capitaliseFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},this.setVisibility=function(a){var b=$(c.fieldId+"_block_"+c.suffix);"yes"==a?(b.style.display="",$(c.fieldId+"_error_"+c.suffix).parentNode.style.display=""):(b.style.display="none",$(c.fieldId+"_error_"+c.suffix).parentNode.style.display="none"),b.setAttribute("visible",c.capitaliseFirstLetter(a))},this.getValues=function(){var a=[];if("preferredStudyLocality"==c.fieldId)for(var b=getDocumentElementsByClassName("preferredStudyLocality_"+c.suffix),d=0;d<b.length;d++)b[d].value&&a.push(b[d].value);else if("SELECT"==c.fieldObj.nodeName)a.push(c.fieldObj.options[c.fieldObj.selectedIndex].value);else for(var d=0;d<c.fieldObj.length;d++)c.fieldObj[d].checked&&a.push(c.fieldObj[d].value);return a},this.isArray=function(a){return a instanceof Array},this.setValue=function(a,b){var d=a,e=$("isStudyAbroad").value;c.isArray(d)||(d=d||0==d?new Array(a.toString()):new Array);for(var f=0;f<d.length;f++)(d[f]||0==d[f])&&(d[f]=d[f].toString());if("preferredStudyLocality"==c.fieldId)d.length&&(valueArray=d[0].split("+"),cityId=valueArray[0],shikshaUserRegistrationForm[c.regFormId].populateLocalitiesByCity(cityId,1,d));else if("SELECT"==c.fieldObj.nodeName)if(d.length>0){options=$(c.fieldId+"_"+c.suffix).options;for(var f=0;f<options.length;f++)options[f].selected=!1;for(var g=!1,f=0;f<options.length;f++)for(var h=0;h<d.length;h++)options[f].getAttribute("value")==d[h]&&(options[f].selected=!0,g=!0);g||($(c.fieldId+"_"+c.suffix).selectedIndex=0)}else $(c.fieldId+"_"+c.suffix).selectedIndex=0;else if("checkbox"==c.getFieldAttribute("type")){for(var f=0;f<c.fieldObj.length;f++){g=!1;for(var h=0;h<d.length;h++)c.fieldObj[f].value==d[h]&&(c.fieldObj[f].checked=!0,g=!0,b&&(c.fieldObj[f].click(),c.fieldObj[f].checked=!0,c.hideValidationError()),"exams"==c.fieldId?"yes"!=e&&shikshaUserRegistrationForm[c.suffix].toggleExamDetails(c.fieldObj[f],c.fieldObj[f].value):"destinationCountry"==c.fieldId&&shikshaUserRegistrationForm[c.suffix].numberOfCountriesSelectedMMP(c.fieldObj[f]));g||(c.fieldObj[f].checked=!1,"exams"==c.fieldId&&shikshaUserRegistrationForm[c.suffix].toggleExamDetails(c.fieldObj[f],c.fieldObj[f].value))}"exams"==c.fieldId&&("yes"==e?($j("li").remove("#examTaken_block_"+c.suffix),$j("li").remove("#examsAbroad_block_"+c.suffix),(void 0===document.getElementById("userId")||document.getElementById("userId").value)&&$j("li").remove("#passport_block_"+c.suffix)):shikshaUserRegistrationForm[c.suffix].setSelectedExams(!0))}else if("radio"==c.getFieldAttribute("type")){for(var f=0;f<c.fieldObj.length;f++)for(var h=0;h<d.length;h++)c.fieldObj[f].value==d[h]&&(c.fieldObj[f].checked=!0,b&&c.fieldObj[f].click());"yes"==e&&"passport"==c.fieldId&&($j("li").remove("#examTaken_block_"+c.suffix),$j("li").remove("#examsAbroad_block_"+c.suffix),(void 0===document.getElementById("userId")||document.getElementById("userId").value)&&$j("li").remove("#passport_block_"+c.suffix))}else if("TEXTAREA"==c.fieldObj.nodeName)c.fieldObj.value=d[0];else if(d[0]&&void 0!==d[0])c.fieldObj.value=d[0];else try{c.fieldObj.value=c.fieldObj.getAttribute("default")}catch(a){}},this.getFieldAttribute=function(a){return c.isArray(c.fieldObj)?c.fieldObj.length>0?c.fieldObj[0].getAttribute(a):"":c.fieldObj.getAttribute(a)},this.validate=function(a){var b=!0,d=[];if("1"==c.getFieldAttribute("mandatory")&&(0==c.fieldId.indexOf("preferredStudyLocality")?d.push("Locality"):d.push("Mandatory")),"1"==c.getFieldAttribute("profanity")&&d.push("Profanity"),"1"==c.getFieldAttribute("validateExamScore")&&d.push("ExamScore"),"mobile"==c.getFieldAttribute("name")&&"91-2"!=$j("#isdCode_"+c.suffix).val())return this.validateISDMobile($j("#mobile_"+c.suffix).val());if("currentSchool"==c.getFieldAttribute("name")&&""!=$j("#currentSchool_"+c.suffix).val()){if(void 0!=$j("#mmpFormId")&&$j("#mmpFormId").val()>0)return this.validateAbroadSchoolName($j("#currentSchool_"+c.suffix).val())}else a&&a[c.fieldId]&&d.push(a[c.fieldId]);for(var e=0;e<d.length;e++)if(validationResult=formValidator.validate(d[e],c),1!=validationResult){this.showValidationError(validationResult),b=!1;break}return b&&c.hideValidationError(),b},this.validateISDMobile=function(a){var b=!0,d=validateMobileInteger(a,"mobile number",20,6,!0,!1);return 1!=d&&(this.showValidationError(d),b=!1),b&&c.hideValidationError(),b},this.validateAbroadSchoolName=function(a){var b=!0,d=validateStr(a,"School name",100,1);return 1!=d&&(this.showValidationError(d),b=!1),b&&c.hideValidationError(),b},this.showValidationError=function(a){var b=c.getFieldId(),d=$(b+"_error_"+c.suffix);d&&setTimeout(function(){if(d.innerHTML=a,null!==d.parentNode)try{d.parentNode.style.display=""}catch(a){}},500)},this.hideValidationError=function(){var a=c.getFieldId(),b=$(a+"_error_"+c.suffix);b&&setTimeout(function(){if(b.innerHTML="",null!==b.parentNode)try{b.parentNode.style.display="none"}catch(a){}},500)},this.getFieldId=function(){var a=c.fieldId;return a&&0==a.indexOf("preferredStudyLocality")&&(a="preferredStudyLocality"),a},this.removeHelpText=function(){"passwordText"==c.fieldId?(c.fieldObj.style.display="none",$("password_"+c.suffix).style.display="",$("password_"+c.suffix).focus()):"confirmPasswordText"==c.fieldId?(c.fieldObj.style.display="none",$("confirmPassword_"+c.suffix).style.display="",$("confirmPassword_"+c.suffix).focus()):c.fieldObj.value==c.fieldObj.getAttribute("default")&&(c.fieldObj.value=""),c.fieldObj.style.color="#111111",c.fieldObj.getAttribute("tip")&&c.showTip(c.fieldObj.getAttribute("tip"))},this.restoreHelpText=function(){""==c.fieldObj.value&&("password"==c.fieldId||"confirmPassword"==c.fieldId?(c.fieldObj.style.display="none",$(c.fieldId+"Text_"+c.suffix).style.display="",$(c.fieldId+"Text_"+c.suffix).style.color="#999999"):(c.fieldObj.value=c.fieldObj.getAttribute("default"),c.fieldObj.style.color="#999999")),c.hideTip()},this.hideTip=function(){$("hintbox1")&&($("hintbox1").style.display="none"),$("helpbubble1")&&($("helpbubble1").style.display="none")},this.showTip=function(a){var b=document.getElementById(c.fieldId+"_"+c.suffix);if(document.getElementById("helpbubble1")){document.getElementById("helpbubble1").style.display="",document.getElementById("helpbubble1").style.zIndex=1e4;var d=getposOffset(b,"top")-5+"px",e=getposOffset(b,"left")-505+"px";"mobile_numM"==a&&(e=getposOffset(b,"left")-530+"px"),document.getElementById("helpbubble1").style.top=d,document.getElementById("helpbubble1").style.left=e,dropmenuobj=document.getElementById("hintbox1"),dropmenuobj.innerHTML=tiptext[a],dropmenuobj.style.display=""}}},FormValidator=function(){var a=this;this.validate=function(b,c){return a.field=c,a.fieldObj=c.fieldObj,a.fieldCaption=c.getFieldAttribute("caption"),a.fieldLabel=c.getFieldAttribute("label"),a.fieldValue=c.fieldObj.value,a.fieldDefaultValue=c.getFieldAttribute("default"),a.fieldMetaValue=c.getFieldAttribute("meta"),a["validate"+b]()},this.purify=function(a){return a=a.replace(/[(\n)\r\t\"\'\\]/g," "),a=a.replace(/[^\x20-\x7E]/g,"")},this.validateProfanity=function(){value=a.fieldValue,value=value.replace(/[(\n)\r\t\"\']/g," "),value=value.replace(/[^\x20-\x7E]/g,"");var b=isProfane(value);return b===!1||"Please don't use objected words ("+b+") for the "+a.fieldLabel},this.validateMandatory=function(){if("SELECT"==a.fieldObj.nodeName){if(!a.fieldValue)return"Please select "+a.fieldCaption}else if("text"==a.fieldObj.type||"password"==a.fieldObj.type||"email"==a.fieldObj.type||"tel"==a.fieldObj.type){if(!a.fieldValue||a.fieldValue==a.fieldDefaultValue)return"Please enter "+a.fieldCaption}else{for(isChecked=!1,i=0;i<a.fieldObj.length;i++)a.fieldObj[i].checked&&(isChecked=!0);if(!isChecked)return"Please select "+a.fieldCaption}return!0},this.validateAge=function(){if(a.fieldValue&&a.fieldValue!=a.fieldDefaultValue){if(!/^\s*\d+\s*$/.test(a.fieldValue))return"Please enter valid age";if(parseInt(a.fieldValue)<13)return"You must be minimum 13 years old to join Shiksha.com"}return!0},this.validateDisplayName=function(){var b=$j("#mmpFormId").val();if((void 0===b||""==b)&&a.fieldValue&&a.fieldValue!=a.fieldDefaultValue){var c=a.purify(a.fieldValue),d=a.fieldDefaultValue;return d&&(d=d.replace("Your ","")),validateDisplayName(c,d,50,1)}if(""!==b&&a.fieldValue&&a.fieldValue!=a.fieldMetaValue){var c=a.purify(a.fieldValue),e=a.fieldMetaValue;return e&&(e=e.replace("Your ","")),validateDisplayName(c,e,50,1)}return!0},this.validateTextField=function(b,c){var d=a.purify(a.fieldValue);if(void 0===d||""==d)return!0;var e=(a.fieldDefaultValue,a.fieldMetaValue);return e&&(e=e.replace("Your ","")),!0},this.validateMinMaxLen=function(){var b=$j("#"+a.field.fieldId+"_"+a.field.regFormId).val();if(""!=b){var c=$j("#"+a.field.fieldId+"_"+a.field.regFormId).attr("minlength"),d=$j("#"+a.field.fieldId+"_"+a.field.regFormId).attr("maxlength");if($j("#"+a.field.fieldId+"_error_"+a.field.regFormId).html(""),b.length<c)return"You need to enter at least "+c+" characters.";if(b.length>d)return"You can enter atmost "+d+" characters."}return!0},this.validateEmail=function(){return!a.fieldValue||a.fieldValue==a.fieldDefaultValue||validateEmail(a.fieldValue,"email address")},this.validateMobile=function(){return!a.fieldValue||a.fieldValue==a.fieldDefaultValue||validateMobileInteger(a.fieldValue,"mobile number",10,10,!0)},this.validatePercentile=function(){if(a.fieldValue&&a.fieldValue!=a.fieldDefaultValue){if(!/(^\d+\.\d{1,2}$)|(^\d+$)/.test(a.fieldValue))return"Please enter valid "+a.fieldCaption;if(parseInt(a.fieldValue)>100)return a.fieldCaption+" can not be greater than 100"}return!0},this.validateStudyAbroadExamScore=function(){if(scoreValue=a.fieldValue,scoreValue=scoreValue.replace(/^\s+|\s+$/g,""),!scoreValue||scoreValue==a.fieldDefaultValue)return"Please enter your "+a.fieldCaption;var b=a.fieldObj.getAttribute("minscore"),c=a.fieldObj.getAttribute("maxscore"),d=(a.fieldObj.getAttribute("range"),a.fieldObj.getAttribute("exam"));if(isNaN(scoreValue)!=isNaN(b)||isNaN(scoreValue)!=isNaN(c))return"Please enter valid "+a.fieldCaption;if(isNaN(scoreValue)){if(scoreValue=scoreValue.toUpperCase(),1!=scoreValue.length||scoreValue.charCodeAt(0)>b.charCodeAt(0)||scoreValue.charCodeAt(0)<c.charCodeAt(0))return"Please enter a value between "+c+" and "+b+" for "+a.fieldCaption}else{if("IELTS"!==d&&scoreValue%1!=0)return"Please enter valid "+a.fieldCaption;if(scoreValue="IELTS"!==d?parseInt(scoreValue):parseFloat(scoreValue),b=parseInt(b),c=parseInt(c),scoreValue<b||scoreValue>c)return"Please enter a value between "+b+" and "+c+" for "+a.fieldCaption}return!0},this.validateExamScore=function(){if(a.fieldValue&&a.fieldValue!=a.fieldDefaultValue){if(!/(^\d+\.\d{1,2}$)|(^\d+$)/.test(a.fieldValue))return"Please enter valid "+a.fieldCaption;if(scoreValue=parseInt(a.fieldValue),isNaN(scoreValue))return"Please enter valid "+a.fieldCaption;var b=parseInt(a.fieldObj.getAttribute("minscore")),c=parseInt(a.fieldObj.getAttribute("maxscore"));if(scoreValue<b||scoreValue>c)return"Please enter a value between "+b+" and "+c+" for "+a.fieldCaption}else if("Other_score"===a.fieldObj.getAttribute("name"))return!0;return!0},this.validateAllAbroadExamScores=function(){if("none"==$("examsAbroad_block_"+a.field.suffix).style.display)return!0;var b=!1,c=!1,d=a.field.form.elements["exams[]"];if(d.length>0)for(i=0;i<d.length;i++)if((d[i].checked||1==d[i].getAttribute("filled"))&&(c=!0,examId=d[i].value,$(examId+"_score_"+a.field.regFormId))){var e=new RegistrationFormField(a.field.form,examId+"_score");e.validate(shikshaUserRegistrationForm[a.field.regFormId].customValidations)||(b=!0)}return c?!b||"Please correct errors with exam scores":"Please select at least one exam"},this.validateAllExamScores=function(){if("none"==$("exams_block_"+a.field.suffix).style.display)return!0;var b=!1,c=a.field.form.elements["exams[]"],d=!1,e=0;if("undeifned"!=typeof c&&c.checked?(d=!0,e=1):e=c.length,e>0)for(i=0;i<e;i++)if(1==d||c[i].checked){if(examId=d?c.value:c[i].value,$(examId+"_score_"+a.field.regFormId)){var f=new RegistrationFormField(a.field.form,examId+"_score");f.validate(a.field.form.customValidations)||(b=!0)}if($(examId+"_year_"+a.field.regFormId)){var f=new RegistrationFormField(a.field.form,examId+"_year");f.validate(a.field.form.customValidations)||(b=!0)}if($(examId+"_nameBox_"+a.field.regFormId)){var f=new RegistrationFormField(a.field.form,examId+"_nameBox");f.validate(a.field.form.customValidations)||(b=!0)}}return!b||"Please correct errors with exam scores"},this.validateAllExamScoresProfile=function(){var b=!1,c=[];for(i=0;i<examDivIdsExist.length;i++){var d=examDivIdsExist[i];if($j("#"+d+"_score_"+a.field.regFormId)){var e=new RegistrationFormField(a.field.form,d+"_score");e.validate(a.field.form.customValidations)||(b=!0)}if($j("#examother_"+d+"_"+a.field.regFormId)){var e=new RegistrationFormField(a.field.form,"examother_"+d);e.validate(a.field.form.customValidations)||(b=!0)}var f=$j("#exam_"+d+"_"+a.field.regFormId).val(),g=$j("#exam_"+d+"_"+a.field.regFormId+" option:selected").text();""!=f&&(c.indexOf(f)>-1?(b=!0,$j("#exam_error_"+d+"_"+a.field.regFormId).html(g+" exam already selected. Please select another exam.")):(c.push(f),$j("#exam_error_"+d+"_"+a.field.regFormId).html("")))}if(b===!1)return!0},this.validatePassword=function(){return!(a.fieldValue&&a.fieldValue!=a.fieldDefaultValue&&a.fieldValue.length<6)||"Password should be atleast 6 characters"},this.validateConfirmPassword=function(){var b=$("password_"+a.field.suffix),c=b.value;return!(c&&c!=b.getAttribute("default")||a.fieldValue&&a.fieldValue!=a.fieldDefaultValue)||c==a.fieldValue||"Password and confirm password should match"},this.validateLocality=function(){for(var b=getDocumentElementsByClassName("preferredStudyLocality_"+a.field.suffix),c=!1,d=0;d<b.length;d++)b[d].value&&(c=!0);return!!c||"Please select preferred locality"},this.validateGraduationCompletionDate=function(){for(var b=getDocumentElementsByClassName("graduationStatus_"+a.field.suffix),c="Completed",d=0;d<b.length;d++)b[d].checked&&(c=b[d].value);var e=$("graduationCompletionYear_"+a.field.suffix).value,f=$j("#mmpFormId").length;if("Completed"==c&&e&&f){var g=new Date,h=g.getFullYear();if(e>h+7||e<h-10)return $("graduationCompletionDate_error_"+a.field.suffix).innerHTML="Completion date is not in range.",$("graduationCompletionDate_error_"+a.field.suffix).parentNode.style.display="","";$("graduationCompletionDate_error_"+a.field.suffix).parentNode.style.display="none"}else $("graduationCompletionDate_error_"+a.field.suffix).parentNode.style.display="none";return!0}},RegistrationAjaxComponent=function(){};RegistrationAjaxComponent.makeAjaxCall=function(a,b,c,d){if(a=a+"?rnd="+Math.floor(1e6*Math.random()+1),"object"==typeof b){var e="";for(key in b)if("object"==typeof b[key])for(key2 in b[key])e&&(e+="&"),e+=key+"[]="+b[key][key2];else e&&(e+="&"),e+=key+"="+b[key];b=e}"undefined"==typeof isStudyAbroadPage||1!=isStudyAbroadPage?new Ajax.Request(a,{method:"post",onSuccess:function(a){void 0!==c&&c(a.responseText,d)},parameters:b}):"undefined"!=typeof $j&&$j.ajax({url:a,async:!1,type:"POST",data:b,success:function(a){void 0!==d&&(a=JSON.parse(a),a.listingType=d.listingType,a.listingTypeId=d.listingTypeId,a.responseSource=d.responseSource,a.widget=d.widget,a=JSON.stringify(a)),void 0!==c&&c(a,d)}})};var RegistrationOverlayComponent=function(){this.showOverlay=function(a,b,c,d,e){var f=!1;"undefined"!=typeof signUpUserFromCategoryPageShortListSection&&1==signUpUserFromCategoryPageShortListSection&&(f=!0),this.hideOverlay(),f&&(signUpUserFromCategoryPageShortListSection=!0),messageObj.setShadowDivVisible(!1),messageObj.setFlagShowLoaderAjax(!1),messageObj.setSource(a),messageObj.setCssClassMessageBox(!1),messageObj.setSize(b,c),messageObj.display(d)},this.hideOverlay=function(){"function"==typeof setPageRefreshCookie&&setPageRefreshCookie(),"undefined"!=typeof signUpUserFromCategoryPageShortListSection&&1==signUpUserFromCategoryPageShortListSection&&(window.isAlreadyRegtrdUsrInShortListFlow=!0,signUpUserFromCategoryPageShortListSection=!1),void 0!==contentDownloadFlow&&contentDownloadFlow===!0&&(contentDownloadFlowStart=!1),messageObj.close()}},shikshaUserRegistrationForm={},registrationCustomLogic={},shikshaUserRegistration=new ShikshaUserRegistration,registrationOverlayComponent=new RegistrationOverlayComponent,formValidator=new FormValidator,scrollbarId,timeout="",validateFieldsFocusElement=null;categoryComboCount=0;var categoryCombos=new Array;categoryComboCount=parseInt(categoryComboCount);var arrTabsText={course:["Course like B-Tech, MBA","Location like Delhi","Courses","course"],college:["Colleges like IIT, IIM","Location like Delhi","Colleges","institute"]},selectedInstituteName="";Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var questionTextPU="",discussionTextPU="",ShikshaHelper=function(){function a(a){var b=!1;return"object"==typeof a&&a.length&&(b=!0),b}function b(a,b){if(a=a.sort(),b=b.sort(),a.length!=b.length)return!1;for(var c=0;c<b.length;c++){if(a[c].compare&&!a[c].compare(b[c]))return!1;if(a[c]!==b[c])return!1}return!0}function c(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a}function d(a){var b=!0;return void 0!=a&&null!=a&&f(a.toString()).length>0&&0!=parseInt(a)&&(b=!1),b}var e=function(a){return a.replace(/^\s+/,"")},f=function(a){return a.replace(/^\s+|\s+$/g,"")},g=function(a){return a.replace(/\s+$/,"")},h=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},j=function(a,b,c){var d={},e=0;for(var f in a)a.hasOwnProperty(f)&&(e>=b&&e<c&&(d[f]=a[f]),e++);return d},k=function(a,b){var c=!1;if(b.length>0)for(i=0;i<b.length;i++)if(b[i].length>0&&a.length>0&&b[i].toLowerCase()==a.toLowerCase()){c=!0;break}return c},l=function(a,b){for(var c=[],d=0;d<a.length;d++)if("string"==b){var e=f(a[d]);k(e,c)||""==e||c.push(e)}else k(a[d],c)||c.push(a[d]);return c},m=function(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},n=function(a){return(a=a.substr(1+a.lastIndexOf("/")).split("?")[0]).substr(a.lastIndexOf(".")+1)};return{ltrim:function(a){return e(a)},rtrim:function(a){return g(a)},trim:function(a){return f(a)},in_array:function(a,b){return k(a,b)},unique:function(a,b){return l(a,b)},getDictionaryKeys:function(a){return h(a)},is_array:function(b){return a(b)},compareArray:function(a,c){return b(a,c)},getURLParameter:function(a){return m(a)},isEmpty:function(a){return d(a)},urlFileExtension:function(a){return n(a)},remove:function(a,b){return c(a,b)},sliceOfDictionary:function(a,b,c){return j(a,b,c)}}}(),uniqueAttr,coursePagesTabsMaxScrollLimit,startCoursePagesTabsScrollAt,coursePagesStickyTopAdjustment,coursePagesStickyBottomAdjustment,coursePageStickyHeader,coursePageStickyHeaderHeight,changeLocationdivMinRange=0,compareBlockDivTop=0,cpgsGutterHelpTextHidden=0;setTimeout(function(){hideCPGSGutterHelpText()},2e4);var center=function(a){return $j("#"+a).css("position","fixed"),$j("#"+a).css("top","120px"),$j("#"+a).css("left",Math.max(0,($j(window).width()-$j("#"+a).outerWidth())/2+$j(window).scrollLeft())+"px"),$j("#"+a)},removalInProgress=0,makeCustomAjaxCall=function(methodUrl,postParams,callBack,callBackCustomParams){var postData={},requestParams;for(key in postParams)postParams.hasOwnProperty(key)&&(postData[key]=postParams[key]);if(requestParams={url:methodUrl,type:"POST",data:postData},postParams&&void 0!==postParams.ajaxContext){if($j(postParams.ajaxContext).data("requestRunning"))return;$j(postParams.ajaxContext).data("requestRunning",!0),requestParams.ajaxContext=postParams.ajaxContext}var request=$j.ajax(requestParams);return request.done(function(data){if(void 0!==callBack&&""!=callBack){var fn=window[callBack];if("getExpertFold"==callBack||"showFormForMarketingCallback"==callBack||"getMarketingFold"==callBack||"showFormForFeaturedCollegeCallback"==callBack)var response=data;else var response=eval("("+data+")");"function"==typeof fn&&fn(response,callBackCustomParams)}}),request.fail(function(a,b){}),request.always(function(){void 0!==requestParams.ajaxContext&&$j(requestParams.ajaxContext).data("requestRunning",!1)}),request},floatingOnlineFormWidget=function(a){"open"==a?($j(".incomplete-rmv-icon").css("display","block"),$j(".incomplete-widget-info").css("display","block"),$j(".paytm-info-box").css("display","block"),$j(".Incomplete-notification").css("cursor","default")):"close"==a&&($j(".incomplete-rmv-icon").css("display","none"),$j(".incomplete-widget-info").css("display","none"),$j(".paytm-info-box").css("display","none"),$j(".Incomplete-notification").css("cursor","pointer")),setCookie("floatingOnlineFormWidget",a)},start=1,collegeReviewScrollTimer=5e3,reviewsAdded=Array(),newStart=0,loadPositionPercentage=0,lazyloadScrollFunction=function(a){var b=a.data,c=b.ajaxUrl,d=b.start,e=b.resultCount,f=b.lazyLoadSuccessCallBackFn,g=b.lazyLoadFailureCallBackFn,h=b.customParams,i=b.pageType,j=$j(window).scrollTop(),k=0;if(j>k){if(j>loadPositionPercentage/100*$j(document).height()&&ajaxCallCheckFlag){if(ajaxCallCheckFlag=!1,newStart>0&&(d=newStart),"AnAHomePage"==i){var l={callType:"AJAX",nextPageNo:nextPageNo,nextPaginationIndex:nextPaginationIndex};"-1"!=nextPaginationIndex?setTimeout(loadMoreResults(c,l,f,g,h),1e3):($j("#noData").show(),$j("#loadingNew").hide())}else if("expertsPanelPage"==i){var l={callType:"AJAX",levelName:expertsLevelPage,expertPanelPageNo:++expertPanelPageNo,expertsViewedCount:expertsViewedCount};totalExperts>expertsViewedCount&&setTimeout(loadMoreResults(c,l,f,g,h),1e3)}else{var l={start:d,count:e,customParams:h};setTimeout(loadMoreResults(c,l,f,g,h),1e3)}newStart=parseInt(d)+e,"userActivity"==i&&h[1]++,"userActivityStat"==i&&(h[1]++,h[5]=parseInt(h[5])+e)}}k=j},shortlistCallbackParamGbl={},myShortlistClass=function(){};myShortlistClass.prototype.getInstance=function(){return this},myShortlistClass.prototype.checkCourseForShortlist=function(a,b){var c=this.getInstance(),d={courseId:a,trackingKeyId:b.trackingKeyId,pageType:b.pageType,fromLogin:b.fromLogin};shortlistCallbackParamGbl=b.shortlistCallbackParam;var e={};for(var f in b)e[f]=b[f];e.shortlistCallbackParam={},e.shortlistCallbackParam.self=c,c.shortlistCustomAjax("/myShortlist/MyShortlist/checkCourseForShortlist/",d,"checkCourseForShortlistCallback",e)},myShortlistClass.prototype.checkCourseForShortlistCallback=function(a,b){var c=b.shortlistCallbackParam.self;if("loggedOut"==a.msg||"validUser"==a.msg){"loggedOut"==a.msg?c.firstShortlist=!0:c.firstShortlist=!1;for(var d in b.shortlistCallbackParam)b[d]=b.shortlistCallbackParam[d];b.courseId=a.data.courseId,b.pageType=a.data.pageType,b.trackingKeyId=a.data.tracking_keyid,b.firstShortlist=c.firstShortlist,delete b.shortlistCallbackParam,delete b.self,a.data.alteredPageType.toLowerCase().indexOf("reco")>=0?(b.shortlistData=a,responseForm.createViewedResponseWithSyncCall(a.data.courseId,a.data.alteredPageType,a.data.tracking_keyid,"checkCourseForShortlistAfterRegistration","myShortlistObj",b)||c.createViewedResponseShortlistFailCallback(b)):"ND_InstituteDetailPage"==a.data.pageType||a.data.pageType.search("AllContentPage")!=-1||"ND_NaukriTool"==a.data.pageType?c.makeCourseShortlist(a.data.courseId,b):(responseForm.showResponseForm(a.data.courseId,a.data.alteredPageType,"course",{trackingKeyId:a.data.tracking_keyid,callbackFunction:"checkCourseForShortlistAfterRegistrationWrapper",callbackFunctionParams:b,cta:"shortlist"},{}),shortlistInProcess=0)}else if("invalidUser"==a.msg)b.shortlistData=a,responseForm.createViewedResponseWithSyncCall(a.data.courseId,a.data.alteredPageType,a.data.tracking_keyid,"createViewedResponseShortlistCallback","myShortlistObj",b)||c.createViewedResponseShortlistFailCallback(b);else if("unshortlisted"==a.msg)if(updateShortListCount(),$j("body #signUpForm .db-broucher").length>0||registrationForm.closeRegistrationForm(),void 0!=b.shortlistCallback&&""!=b.shortlistCallback){var e=window[b.shortlistCallback];void 0!=b.shortlistCallbackObj&&(e=window[b.shortlistCallbackObj][b.shortlistCallback]),e(a,shortlistCallbackParamGbl)}else window.location.reload()},myShortlistClass.prototype.checkCourseForShortlistAfterRegistration=function(a,b){var c=this.getInstance();"string"==typeof a&&(a=JSON.parse(a)),(void 0!=a.isLogin&&"yes"==a.isLogin||""!=getCookie("user"))&&"SUCCESS"==a.status?("string"==typeof b&&(b=JSON.parse(b)),b.fromLogin="yes",c.makeCourseShortlist(b.courseId,b)):"SUCCESS"==a.status?("string"==typeof b&&(b=JSON.parse(b)),c.makeCourseShortlist(b.courseId,b)):console.log("User registration failed.")},myShortlistClass.prototype.makeCourseShortlist=function(a,b){var c=this.getInstance(),d={courseId:a,trackingKeyId:b.trackingKeyId,pageType:b.pageType,fromLogin:b.fromLogin};b.shortlistCallbackParam={},b.shortlistCallbackParam.self=c,"undefined"!=typeof lazydBRecolayerCSS&&""!=lazydBRecolayerCSS&&1==b.showRecommendations&&(lazyLoadCss(lazydBRecolayerCSS),lazydBRecolayerCSS=""),c.shortlistCustomAjax("/myShortlist/MyShortlist/shortlistMyCourse/",d,"makeCourseShortlistCallback",b)},myShortlistClass.prototype.makeCourseShortlistCallback=function(a,b){var c=b.shortlistCallbackParam.self;if("shortlisted"==a.msg){if(1==c.firstShortlist)c.firstShortlist=!1,void 0!==b.showRecommendations&&0!=b.showRecommendations||window.location.reload();else if(updateShortListCount(),$j("body #signUpForm .db-broucher").length>0||registrationForm.closeRegistrationForm(),void 0!=b.shortlistCallback&&""!=b.shortlistCallback){var d=window[b.shortlistCallback];void 0!=b.shortlistCallbackObj&&(d=window[b.shortlistCallbackObj][b.shortlistCallback]),d(a,shortlistCallbackParamGbl)}else window.location.reload();if(void 0!==b.showRecommendations&&1==b.showRecommendations){if("university"==b.listingType&&"ND_InstituteDetailPage"==b.pageType)var e="ND_UniversityDetailPage";else var e=b.pageType;showCommonRecommendationLayer(b.courseId,e,"shortlist")}}else if("unshortlisted"==a.msg)if(1==c.firstShortlist)c.firstShortlist=!1,window.location.reload();else if(updateShortListCount(),$j("body #signUpForm .db-broucher").length>0||registrationForm.closeRegistrationForm(),void 0!=b.shortlistCallback&&""!=b.shortlistCallback){var d=window[b.shortlistCallback];void 0!=b.shortlistCallbackObj&&(d=window[b.shortlistCallbackObj][b.shortlistCallback]),d(a,shortlistCallbackParamGbl)}else window.location.reload()},myShortlistClass.prototype.createViewedResponseShortlistCallback=function(a,b){if(a=JSON.parse(a),void 0!=a.status&&"SUCCESS"==a.status)if(updateShortListCount(),$j("body #signUpForm .db-broucher").length>0||registrationForm.closeRegistrationForm(),void 0!=b.shortlistCallback&&""!=b.shortlistCallback){var c=window[b.shortlistCallback];void 0!=b.shortlistCallbackObj&&(c=window[b.shortlistCallbackObj][b.shortlistCallback]),c(b.shortlistData,shortlistCallbackParamGbl)}else window.location.reload();else console.log("Response creation failed.")},myShortlistClass.prototype.createViewedResponseShortlistFailCallback=function(a){if(void 0!=a.shortlistCallback&&""!=a.shortlistCallback){$j("body #signUpForm .db-broucher").length>0||registrationForm.closeRegistrationForm();var b=window[a.shortlistCallback];void 0!=a.shortlistCallbackObj&&(b=window[a.shortlistCallbackObj][a.shortlistCallback]),b(a.shortlistData,shortlistCallbackParamGbl)}else window.location.reload()},myShortlistClass.prototype.initiateOtherParams=function(a){return void 0==a.trackingKeyId&&(a.trackingKeyId=0),void 0==a.shortlistCallback&&(a.shortlistCallback=""),void 0==a.shortlistCallbackParam&&(a.shortlistCallbackParam={}),void 0==a.fromLogin&&(a.fromLogin=""),a},myShortlistClass.prototype.shortlistCustomAjax=function(methodUrl,postParams,callBack,callBackCustomParams){var params={};for(key in postParams)postParams.hasOwnProperty(key)&&(params[key]=postParams[key]);var request=$j.ajax({url:methodUrl,type:"POST",data:params});request.done(function(res){if(void 0!==callBack&&""!=callBack){var fn=callBackCustomParams.shortlistCallbackParam.self[callBack],response=eval("("+res+")");"function"==typeof fn&&fn(response,callBackCustomParams)}}),request.fail(function(a,b){console.log(b)})},myShortlistObj=new myShortlistClass,myShortlistObj.firstShortlist=!1;var cmpCookieArr=new Array,cmpCookieArrLen=new Array,myCompareClass=function(a){myCompareClass.self=this,myCompareClass.self.isCmpRemoved=!1,myCompareClass.self.removeAllFunction="",myCompareClass.self.compareCookieName="compare-global-data",myCompareClass.self.bindList={},myCompareClass.self.bindList.click=["._cmpTgleBtn",".cmpre-btn",".rmAll",".close-icon"],myCompareClass.self.delayPeriod=100};myCompareClass.prototype.addToCompare=function(a,b,c){$j(b).css("pointer-events","none"),void 0===a.instituteId&&(a.instituteId="");var d=a.courseId,e=a.instituteId,f=a.tracking_keyid,g=cmpCookieArr.length;if(getCookie(myCompareClass.self.compareCookieName)&&0==cmpCookieArr.length&&(cmpCookieArrLen=getCookie(myCompareClass.self.compareCookieName).split("|"),cmpCookieArr=cmpCookieArrLen),myCompareClass.self.removeCompare(d),a.courseId>0&&0==myCompareClass.self.isCmpRemoved){if((g=""!=cmpCookieArr.length&&cmpCookieArr.length!=-1?cmpCookieArr.length:g)>=4)return $j(b).css("pointer-events",""),myCompareClass.self.openConfirmLayer("You can compare up to only 4 colleges at a time. Would you like to compare the colleges you have selected ?",!0,a,b,c),$j("#_cmpSticky").css({width:"988px"}).show(),!0;var h="";e>0&&void 0!==e&&(h="::"+e);var i=d+"::"+f+h;cmpCookieArr.push(i)}setCookie(myCompareClass.self.compareCookieName,cmpCookieArr.join("|"),30),myCompareClass.self.setCompareCookie(f),myCompareClass.self.prepareCompareSticky(a,b,c)},myCompareClass.prototype.prepareCompareSticky=function(a,b,c){var d=myCompareClass.self.isCmpRemoved?"removed":"added";myCompareClass.self.toggleStickyActive(),$j.ajax({beforeSend:function(){"added"==d&&myCompareClass.self.loaderPosition()},url:"/comparePage/comparePage/prepareCompare",type:"POST",success:function(e){if(res=JSON.parse(e),""!=res.html){$j("#_cmpSticky .cmploader").css({display:"none",left:"77px"}),$j("#addItems").html(res.html);var e={courseId:a.courseId,instituteId:a.instituteId,msg:"success",actionType:d}}myCompareClass.self.cmpBindEvent(),myCompareClass.self.callFun(e,a,b,c)},error:function(e,f,g){var h={courseId:a.courseId,instituteId:a.instituteId,msg:"failed",actionType:d};myCompareClass.self.callFun(h,a,b,c)}})},myCompareClass.prototype.callFun=function(response,compareParam,thisObj,callBackData){if($j(thisObj).css("pointer-events",""),void 0!==compareParam.customCallBack&&""!=compareParam.customCallBack){var callUserFunction=compareParam.customCallBack;"function"==typeof callUserFunction?callUserFunction(response,callBackData):"function"==typeof eval(callUserFunction)&&eval(callUserFunction)(response,callBackData)}},myCompareClass.prototype.setRemoveAllCallBack=function(a){void 0!==a&&(myCompareClass.self.removeAllFunction=a)},myCompareClass.prototype.callRemoveAllCallBack=function(response){""!=myCompareClass.self.removeAllFunction&&"function"==typeof eval(myCompareClass.self.removeAllFunction)&&eval(myCompareClass.self.removeAllFunction)(response)},myCompareClass.prototype.removeAll=function(){myCompareClass.self.resetView(),setCookie(myCompareClass.self.compareCookieName,"",0),myCompareClass.self.isCmpRemoved=!1,cmpCookieArr=[];var a={msg:"success",actionType:"removeAll"};myCompareClass.self.callRemoveAllCallBack(a)},myCompareClass.prototype.resetView=function(){for(var a="",b=1;b<=4;b++)a+='<div class="added-clgs"><div class="num-to-add">'+b+"</div></div>";$j("#addItems").html(a)},myCompareClass.prototype.userLoginForCompare=function(){var a=getCookie("comparetrackingPageKeyId");if(cmpCookieArr=myCompareClass.self.getCompareData(),!isUserLoggedIn&&"undefined"!=typeof isUserLoggedIn&&""==getCookie("user")&&cmpCookieArr.length>=2){var b={trackingKeyId:a,callbackFunction:"gotoComparePageWrapper",cta:"compare"};if(getCookie("compare-global-data")&&""!=getCookie("compare-global-data"))var c=getCookie("compare-global-data").split("|")[0].split("::"),b={trackingKeyId:c[1],callbackFunction:"gotoComparePageWrapper",cta:"compare"};return responseForm.showResponseForm(c[0],"COMPARE_VIEWED","course",b,{}),!0}myCompareClass.self.getComparePageUrl()},myCompareClass.prototype.getCompareData=function(){var a=myCompareClass.self.compareCookieName;return getCookie(a)&&(cmpCookieArr=getCookie(a).split("|")),cmpCookieArr},myCompareClass.prototype.getComparePageUrl=function(){if(cmpData=myCompareClass.self.getCompareData(),cmpData.length<=1)return myCompareClass.self.openConfirmLayer("Add at least two colleges to compare."),!0;var a="";floatingWidget=0;for(var b=0;b<4;b++)if(void 0!=cmpData[b]){floatingWidget=1;var c=cmpData[b].split("::");a+=c[0]+"-"}a=a.substring(0,a.length-1),a=getcHostName?getcHostName+"-"+a:"/resources/college-comparison-"+a,window.location=a},myCompareClass.prototype.removeCompare=function(a,b){b=void 0===b?"":b,array=myCompareClass.self.getCompareData(),myCompareClass.self.isCmpRemoved=!1;for(var c in array){if(array[c].split("::")[0]==a){array.splice(c,1),cmpCookieArr=array,"closeIcon"===b&&setCookie(myCompareClass.self.compareCookieName,cmpCookieArr.join("|"),30),myCompareClass.self.isCmpRemoved=!0;break}}},myCompareClass.prototype.setCompareCookie=function(a){""!=a&&setCookie("comparetrackingPageKeyId",a,30)},myCompareClass.prototype.isCourseCompared=function(a){var b=getCookie(myCompareClass.self.compareCookieName).split("|");array=b;for(var c in array){if(array[c].split("::")[0]==a)return!0}return!1},myCompareClass.prototype.openConfirmLayer=function(a,b,c,d,e){b=void 0!==b&&b,b?$j("#cancelBtn").show():$j("#cancelBtn").hide(),$j("#cmpLyr").show(),$j("#err_lyr").html(a),$j("#okBtn").unbind().bind("click",function(){$j("#cmpLyr").hide(),myCompareClass.self.toggleStickyActive(),b&&(myCompareClass.self.handleExceedLimit(c,d,e),myCompareClass.self.userLoginForCompare())}),$j("#cancelBtn").unbind().bind("click",function(){$j("#cmpLyr").hide(),myCompareClass.self.toggleStickyActive(),myCompareClass.self.handleExceedLimit(c,d,e)})},myCompareClass.prototype.handleExceedLimit=function(a,b,c){var d={courseId:a.courseId,instituteId:a.instituteId,msg:"failed",actionType:"exceedLimit"};myCompareClass.self.callFun(d,a,b,c)},myCompareClass.prototype.toggleSticky=function(a){var b=myCompareClass.self.delayPeriod,c=a.attr("data-status"),d=$j("#_cmpBt1"),e=$j("#_cmpBt2");"false"==c?($j("#_cmpSticky").addClass("noshadow"),setTimeout(function(){d.hide()},b),$j("#cmpItemList").delay(b).hide(),setTimeout(function(){e.show()},b),setCookie("compare-active-status",1,30)):(setTimeout(function(){e.hide(),$j("#cmpItemList").show()},b),setTimeout(function(){d.show(),$j("#_cmpSticky").removeClass("noshadow").css({width:"988px"}).show()},b),setCookie("compare-active-status",0,30))},myCompareClass.prototype.toggleStickyActive=function(){var a=myCompareClass.self.delayPeriod;1==getCookie("compare-active-status")?(setTimeout(function(){$j("#_cmpBt2").hide(),$j("#cmpItemList").show()},a),setTimeout(function(){$j("#_cmpBt1").show(),$j("#_cmpSticky").removeClass("noshadow").css({width:"988px"}).show()},a),setCookie("compare-active-status",0,30)):$j("#_cmpSticky").show()},myCompareClass.prototype.removeCompareFormSticky=function(a){var b=a.attr("id"),c=b.split("_"),d='<div class="num-to-add">'+c[2]+"</div>";$j("#b_"+c[2]).html(d);var e=a.attr("data-courseId"),f=a.attr("data-instituteId");myCompareClass.self.removeCompare(e,"closeIcon");var g={msg:"success",actionType:"removed",courseId:e,instituteId:f};myCompareClass.self.callRemoveAllCallBack(g),myCompareClass.self.getStickyView()},myCompareClass.prototype.cmpBindEvent=function(){var a=myCompareClass.self.bindList;for(var b in a)for(var c in a[b])myCompareClass.self.bindEvent(b,a[b][c])},myCompareClass.prototype.bindEvent=function(a,b){$j("#_cmpSticky "+b).unbind().bind("click",function(a){switch(b){case"._cmpTgleBtn":myCompareClass.self.toggleSticky($j(this));break;case".cmpre-btn":myCompareClass.self.userLoginForCompare();break;case".rmAll":myCompareClass.self.removeAll();break;case".close-icon":myCompareClass.self.removeCompareFormSticky($j(this))}})},myCompareClass.prototype.getStickyView=function(){$j.ajax({url:"/comparePage/comparePage/prepareCompare",type:"POST",success:function(a){res=JSON.parse(a),""!=res.html&&$j("#addItems").html(res.html),myCompareClass.self.cmpBindEvent()},error:function(a,b,c){console.log("Something went wrong to prepare comapre data")}})},myCompareClass.prototype.loaderPosition=function(){var a=$j("#_cmpSticky ._ldr").length;a=200*a+77,$j("#_cmpSticky .cmploader img").attr("src","/public/images/ShikshaMobileLoader.gif"),$j("#_cmpSticky .cmploader").css({left:a+"px",display:"block"})},myCompareClass.prototype.initiateCompare=function(){myCompareClass.self.getStickyView()},myCompareObj=new myCompareClass;var shortlistInProcess=0,removalInProgress=0;